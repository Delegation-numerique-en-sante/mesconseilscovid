parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function va(a){return a&&a.__esModule?{d:a.default}:{d:a}}function eh(name){var err=new Error("Cannot find module '"+name+"'");err.code="MODULE_NOT_FOUND";throw err}var Ka=this;var gc={},fh=Math.ceil,gh=Math.floor;gc=function($){return isNaN($=+$)?0:($>0?gh:fh)($)};var hc={};hc=function(r){if(null==r)throw TypeError("Can't call method on "+r);return r};var Gd={},Hd=function(e){return function(r,t){var $,a,c=String(hc(r)),o=gc(t),i=c.length;return o<0||o>=i?e?"":void 0:($=c.charCodeAt(o))<55296||$>56319||o+1===i||(a=c.charCodeAt(o+1))<56320||a>57343?e?c.charAt(o):$:e?c.slice(o,o+2):a-56320+($-55296<<10)+65536}};Gd={codeAt:Hd(!1),charAt:Hd(!0)};var aa={},Lb=function($){return $&&$.Math==Math&&$};aa=Lb("object"==typeof globalThis&&globalThis)||Lb("object"==typeof window&&window)||Lb("object"==typeof self&&self)||Lb("object"==typeof Ka&&Ka)||function(){return this}()||Function("return this")();var wa={};wa=function(r){try{return!!r()}catch(t){return!0}};var xa={};xa=!wa(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]});var oa={};oa=function(t){return"object"==typeof t?null!==t:"function"==typeof t};var Mb={},ic=aa.document,hh=oa(ic)&&oa(ic.createElement);Mb=function($){return hh?ic.createElement($):{}};var Id={};Id=!xa&&!wa(function(){return 7!=Object.defineProperty(Mb("div"),"a",{get:function(){return 7}}).a});var la={};la=function(e){if(!oa(e))throw TypeError(String(e)+" is not an object");return e};var jc={};jc=function(t,r){if(!oa(t))return t;var e,i;if(r&&"function"==typeof(e=t.toString)&&!oa(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!oa(i=e.call(t)))return i;if(!r&&"function"==typeof(e=t.toString)&&!oa(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")};var Jd=Object.defineProperty,Oa=xa?Jd:function(r,$,t){if(la(r),$=jc($,!0),la(t),Id)try{return Jd(r,$,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(r[$]=t.value),r};var Ea={};Ea=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};var pa={};pa=xa?function(r,e,$){return Oa(r,e,Ea(1,$))}:function(r,e,$){return r[e]=$,r};var kc={};kc=function(r,e){try{pa(aa,r,e)}catch($){aa[r]=e}return e};var Pa={},Kd="__core-js_shared__",ih=aa[Kd]||kc(Kd,{});Pa=ih;var lc={},jh=Function.toString;"function"!=typeof Pa.inspectSource&&(Pa.inspectSource=function(r){return jh.call(r)}),lc=Pa.inspectSource;var kh={},Ld=aa.WeakMap;kh="function"==typeof Ld&&/native code/.test(lc(Ld));var ga={},lh={}.hasOwnProperty;ga=function(r,$){return lh.call(r,$)};var ya={};ya=!1;var Md={};(Md=function(r,e){return Pa[r]||(Pa[r]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.2",mode:ya?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"});var Nd={},mh=0,nh=Math.random();Nd=function($){return"Symbol("+String(void 0===$?"":$)+")_"+(++mh+nh).toString(36)};var mc={},Od=Md("keys");mc=function($){return Od[$]||(Od[$]=Nd($))};var nc={};nc={};var Pd,oc,Qd,ma={},Rd="Object already initialized",oh=aa.WeakMap,ph=function($){return Qd($)?oc($):Pd($,{})},qh=function($){return function(r){var e;if(!oa(r)||(e=oc(r)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return e}};if(kh){var Qa=Pa.state||(Pa.state=new oh),rh=Qa.get,Sd=Qa.has,sh=Qa.set;Pd=function($,r){if(Sd.call(Qa,$))throw new TypeError(Rd);return r.facade=$,sh.call(Qa,$,r),r},oc=function($){return rh.call(Qa,$)||{}},Qd=function($){return Sd.call(Qa,$)}}else{var $a=mc("state");nc[$a]=!0,Pd=function($,r){if(ga($,$a))throw new TypeError(Rd);return r.facade=$,pa($,$a,r),r},oc=function($){return ga($,$a)?$[$a]:{}},Qd=function($){return ga($,$a)}}ma={set:Pd,get:oc,has:Qd,enforce:ph,getterFor:qh};var Td={}.propertyIsEnumerable,Ud=Object.getOwnPropertyDescriptor,th=Ud&&!Td.call({1:2},1),Vd=th?function(r){var $=Ud(this,r);return!!$&&$.enumerable}:Td;var _a={},uh={}.toString;_a=function(r){return uh.call(r).slice(8,-1)};var Wd={},vh="".split;Wd=wa(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return"String"==_a(r)?vh.call(r,""):Object(r)}:Object;var Nb={};Nb=function(e){return Wd(hc(e))};var Xd=Object.getOwnPropertyDescriptor,pc=xa?Xd:function(r,e){if(r=Nb(r),e=jc(e,!0),Id)try{return Xd(r,e)}catch($){}if(ga(r,e))return Ea(!Vd.call(r,e),r[e])};var qa={},wh=ma.get,xh=ma.enforce,yh=String(String).split("String");(qa=function(e,t,r,$){var a,n=!!$&&!!$.unsafe,s=!!$&&!!$.enumerable,l=!!$&&!!$.noTargetGet;"function"==typeof r&&("string"!=typeof t||ga(r,"name")||pa(r,"name",t),(a=xh(r)).source||(a.source=yh.join("string"==typeof t?t:""))),e!==aa?(n?!l&&e[t]&&(s=!0):delete e[t],s?e[t]=r:pa(e,t,r)):s?e[t]=r:kc(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&wh(this).source||lc(this)});var qc={};qc=aa;var ra={},Yd=function($){return"function"==typeof $?$:void 0};ra=function($,a){return arguments.length<2?Yd(qc[$])||Yd(aa[$]):qc[$]&&qc[$][a]||aa[$]&&aa[$][a]};var rc={},zh=Math.min;rc=function($){return $>0?zh(gc($),9007199254740991):0};var Ah={},Bh=Math.max,Ch=Math.min;Ah=function($,r){var a=gc($);return a<0?Bh(a+r,0):Ch(a,r)};var Dh={},Zd=function(e){return function(r,$,t){var n,o=Nb(r),a=rc(o.length),b=Ah(t,a);if(e&&$!=$){for(;a>b;)if((n=o[b++])!=n)return!0}else for(;a>b;b++)if((e||b in o)&&o[b]===$)return e||b||0;return!e&&-1}};Dh={includes:Zd(!0),indexOf:Zd(!1)};var $d={},Eh=Dh.indexOf;$d=function(r,$){var e,i=Nb(r),a=0,n=[];for(e in i)!ga(nc,e)&&ga(i,e)&&n.push(e);for(;$.length>a;)ga(i,e=$[a++])&&(~Eh(n,e)||n.push(e));return n};var Ob={};Ob=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var Fh=Ob.concat("length","prototype"),Gh=Object.getOwnPropertyNames||function(e){return $d(e,Fh)};var _d=Object.getOwnPropertySymbols;var Hh={};Hh=ra("Reflect","ownKeys")||function(e){var r=Gh(la(e)),$=_d;return $?r.concat($(e)):r};var Ih={};Ih=function(r,e){for(var $=Hh(e),o=Oa,a=pc,d=0;d<$.length;d++){var t=$[d];ga(r,t)||o(r,t,a(e,t))}};var be={},Jh=/#|\.prototype\./,kb=function($,r){var i=Lh[Kh($)];return i==Nh||i!=Mh&&("function"==typeof r?wa(r):!!r)},Kh=kb.normalize=function($){return String($).replace(Jh,".").toLowerCase()},Lh=kb.data={},Mh=kb.NATIVE="N",Nh=kb.POLYFILL="P";be=kb;var ia={},Oh=pc;ia=function(r,e){var $,a,o,t,l,n=r.target,i=r.global,q=r.stat;if($=i?aa:q?aa[n]||kc(n,{}):(aa[n]||{}).prototype)for(a in e){if(t=e[a],o=r.noTargetGet?(l=Oh($,a))&&l.value:$[a],!be(i?a:n+(q?".":"#")+a,r.forced)&&void 0!==o){if(typeof t==typeof o)continue;Ih(t,o)}(r.sham||o&&o.sham)&&pa(t,"sham",!0),qa($,a,t,r)}};var sc={};sc=function(e){return Object(hc(e))};var Ph={};Ph=!wa(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype});var lb={},ge=mc("IE_PROTO"),Qh=Object.prototype;lb=Ph?Object.getPrototypeOf:function(e){return e=sc(e),ga(e,ge)?e[ge]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qh:null};var Aa={};Aa="process"==_a(aa.process);var mb={};mb=ra("navigator","userAgent")||"";var tc,je,nb={},ke=aa.process,me=ke&&ke.versions,pe=me&&me.v8;pe?je=(tc=pe.split("."))[0]+tc[1]:mb&&(!(tc=mb.match(/Edge\/(\d+)/))||tc[1]>=74)&&(tc=mb.match(/Chrome\/(\d+)/))&&(je=tc[1]),nb=je&&+je;var uc={};uc=!!Object.getOwnPropertySymbols&&!wa(function(){return!Symbol.sham&&(Aa?38===nb:nb>37&&nb<41)});var Rh={};Rh=uc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var ja={},ob=Md("wks"),pb=aa.Symbol,Sh=Rh?pb:pb&&pb.withoutSetter||Nd;ja=function($){return ga(ob,$)&&(uc||"string"==typeof ob[$])||(uc&&ga(pb,$)?ob[$]=pb[$]:ob[$]=Sh("Symbol."+$)),ob[$]};var qb,Th,Uh,vc={},wc=ja("iterator"),Vh=!1,Wh=function(){return this};[].keys&&("next"in(Uh=[].keys())?(Th=lb(lb(Uh)))!==Object.prototype&&(qb=Th):Vh=!0);var qe=null==qb||wa(function(){var r={};return qb[wc].call(r)!==r});qe&&(qb={}),ya&&!qe||ga(qb,wc)||pa(qb,wc,Wh),vc={IteratorPrototype:qb,BUGGY_SAFARI_ITERATORS:Vh};var Pb={};Pb=Object.keys||function(e){return $d(e,Ob)};var we={};we=xa?Object.defineProperties:function(e,r){la(e);for(var $,d=Pb(r),t=d.length,a=0;t>a;)Oa(e,$=d[a++],r[$]);return e};var xc={};xc=ra("document","documentElement");var xe,Qb={},ye=">",ze="<",yc="prototype",zc="script",Ae=mc("IE_PROTO"),Ac=function(){},Be=function($){return ze+zc+ye+$+ze+"/"+zc+ye},Xh=function($){$.write(Be("")),$.close();var r=$.parentWindow.Object;return $=null,r},Yh=function(){var $,r=Mb("iframe"),e="java"+zc+":";return r.style.display="none",xc.appendChild(r),r.src=String(e),($=r.contentWindow.document).open(),$.write(Be("document.F=Object")),$.close(),$.F},Bc=function(){try{xe=document.domain&&new ActiveXObject("htmlfile")}catch(r){}Bc=xe?Xh(xe):Yh();for(var $=Ob.length;$--;)delete Bc[yc][Ob[$]];return Bc()};nc[Ae]=!0,Qb=Object.create||function($,r){var e;return null!==$?(Ac[yc]=la($),e=new Ac,Ac[yc]=null,e[Ae]=$):e=Bc(),void 0===r?e:we(e,r)};var rb={},Zh=Oa,Ce=ja("toStringTag");rb=function($,r,e){$&&!ga($=e?$:$.prototype,Ce)&&Zh($,Ce,{configurable:!0,value:r})};var Ra={};Ra={};var De={},$h=vc.IteratorPrototype,_h=function(){return this};De=function(r,e,t){var $=e+" Iterator";return r.prototype=Qb($h,{next:Ea(1,t)}),rb(r,$,!1,!0),Ra[$]=_h,r};var ai={};ai=function(r){if(!oa(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return r};var Rb={};Rb=Object.setPrototypeOf||("__proto__"in{}?function(){var e,r=!1,t={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(o){}return function(t,o){return la(t),ai(o),r?e.call(t,o):t.__proto__=o,t}}():void 0);var Ee={},Cc=vc.IteratorPrototype,Sb=vc.BUGGY_SAFARI_ITERATORS,sb=ja("iterator"),Fe="keys",Tb="values",Ge="entries",He=function(){return this};Ee=function(r,$,a,e,t,p,o){De(a,$,e);var n,C,J,v=function(r){if(r===t&&u)return u;if(!Sb&&r in l)return l[r];switch(r){case Fe:case Tb:case Ge:return function(){return new a(this,r)};}return function(){return new a(this)}},i=$+" Iterator",s=!1,l=r.prototype,c=l[sb]||l["@@iterator"]||t&&l[t],u=!Sb&&c||v(t),I="Array"==$&&l.entries||c;if(I&&(n=lb(I.call(new r)),Cc!==Object.prototype&&n.next&&(ya||lb(n)===Cc||(Rb?Rb(n,Cc):"function"!=typeof n[sb]&&pa(n,sb,He)),rb(n,i,!0,!0),ya&&(Ra[i]=He))),t==Tb&&c&&c.name!==Tb&&(s=!0,u=function(){return c.call(this)}),ya&&!o||l[sb]===u||pa(l,sb,u),Ra[$]=u,t)if(C={values:v(Tb),keys:p?u:v(Fe),entries:v(Ge)},o)for(J in C)!Sb&&!s&&J in l||qa(l,J,C[J]);else ia({target:$,proto:!0,forced:Sb||s},C);return C};var bi=Gd.charAt,Ie="String Iterator",ci=ma.set,di=ma.getterFor(Ie);Ee(String,"String",function(t){ci(this,{type:Ie,string:String(t),index:0})},function(){var t,e=di(this),r=e.string,$=e.index;return $>=r.length?{value:void 0,done:!0}:(t=bi(r,$),e.index+=t.length,{value:t,done:!1})});var Fa={};Fa=function(r){if("function"!=typeof r)throw TypeError(String(r)+" is not a function");return r};var Ub={};Ub=function(n,r,t){if(Fa(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)};}return function(){return n.apply(r,arguments)}};var Dc={};Dc=function(r){var e=r.return;if(void 0!==e)return la(e.call(r)).value};var ei={};ei=function(r,e,$,t){try{return t?e(la($)[0],$[1]):e($)}catch(a){throw Dc(r),a}};var Je={},fi=ja("iterator"),gi=Array.prototype;Je=function(r){return void 0!==r&&(Ra.Array===r||gi[fi]===r)};var Ke={};Ke=function(r,e,$){var t=jc(e);t in r?Oa(r,t,Ea(0,$)):r[t]=$};var Ec={},hi=ja("toStringTag"),Le={};Le[hi]="z",Ec="[object z]"===String(Le);var Fc={},ii=ja("toStringTag"),ji="Arguments"==_a(function(){return arguments}()),ki=function(r,$){try{return r[$]}catch(s){}};Fc=Ec?_a:function(r){var $,s,a;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(s=ki($=Object(r),ii))?s:ji?_a($):"Object"==(a=_a($))&&"function"==typeof $.callee?"Arguments":a};var Vb={},li=ja("iterator");Vb=function(r){if(null!=r)return r[li]||r["@@iterator"]||Ra[Fc(r)]};var Sa={};Sa=function(r){var e,t,n,$,a,o,i=sc(r),l="function"==typeof this?this:Array,I=arguments.length,L=I>1?arguments[1]:void 0,c=void 0!==L,T=Vb(i),v=0;if(c&&(L=Ub(L,I>2?arguments[2]:void 0,2)),null==T||l==Array&&Je(T))for(t=new l(e=rc(i.length));e>v;v++)o=c?L(i[v],v):i[v],Ke(t,v,o);else for(a=($=T.call(i)).next,t=new l;!(n=a.call($)).done;v++)o=c?ei($,L,[n.value,v],!0):n.value,Ke(t,v,o);return t.length=v,t};var Me={},Ne=ja("iterator"),mi=!1;try{var ni=0,Oe={next:function(){return{done:!!ni++}},return:function(){mi=!0}};Oe[Ne]=function(){return this},Array.from(Oe,function(){throw 2})}catch(error){}Me=function(r,$){if(!$&&!mi)return!1;var t=!1;try{var n={};n[Ne]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch(error){}return t};var oi=!Me(function(r){Array.from(r)});ia({target:"Array",stat:!0,forced:oi},{from:Sa});var tb={},ab=Object.assign,Pe=Object.defineProperty;tb=!ab||wa(function(){if(xa&&1!==ab({b:1},ab(Pe({},"a",{enumerable:!0,get:function(){Pe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var $={},a={},e=Symbol();return $[e]=7,"abcdefghijklmnopqrst".split("").forEach(function($){a[$]=$}),7!=ab({},$)[e]||"abcdefghijklmnopqrst"!=Pb(ab({},a)).join("")})?function($,a){for(var e=sc($),r=arguments.length,t=1,n=_d,s=Vd;r>t;)for(var o,i=Wd(arguments[t++]),w=n?Pb(i).concat(n(i)):Pb(i),l=w.length,U=0;l>U;)o=w[U++],xa&&!s.call(i,o)||(e[o]=i[o]);return e}:ab;ia({target:"Object",stat:!0,forced:Object.assign!==tb},{assign:tb});var ub={},vb=function(r,e){this.stopped=r,this.result=e};ub=function(r,e,t){var $,a,n,o,i,l,j,O=t&&t.that,s=!(!t||!t.AS_ENTRIES),G=!(!t||!t.IS_ITERATOR),u=!(!t||!t.INTERRUPTED),c=Ub(e,O,1+s+u),v=function(r){return $&&Dc($),new vb(!0,r)},f=function(r){return s?(la(r),u?c(r[0],r[1],v):c(r[0],r[1])):u?c(r,v):c(r)};if(G)$=r;else{if("function"!=typeof(a=Vb(r)))throw TypeError("Target is not iterable");if(Je(a)){for(n=0,o=rc(r.length);o>n;n++)if((i=f(r[n]))&&i instanceof vb)return i;return new vb(!1)}$=a.call(r)}for(l=$.next;!(j=l.call($)).done;){try{i=f(j.value)}catch(h){throw Dc($),h}if("object"==typeof i&&i&&i instanceof vb)return i}return new vb(!1)};var wb=function(r,e){var $=this;if(!($ instanceof wb))return new wb(r,e);Rb&&($=Rb(new Error(void 0),lb($))),void 0!==e&&pa($,"message",String(e));var t=[];return ub(r,t.push,{that:t}),pa($,"errors",t),$};wb.prototype=Qb(Error.prototype,{constructor:Ea(5,wb),message:Ea(5,""),name:Ea(5,"AggregateError")}),ia({global:!0},{AggregateError:wb});var pi={};pi=Ec?{}.toString:function(){return"[object "+Fc(this)+"]"};Ec||qa(Object.prototype,"toString",pi,{unsafe:!0});var Ga={};Ga=aa.Promise;var Qe={};Qe=function(e,r,$){for(var n in r)qa(e,n,r[n],$);return e};var qi={},Re=ja("species");qi=function($){var e=ra($),r=Oa;xa&&e&&!e[Re]&&r(e,Re,{configurable:!0,get:function(){return this}})};var Gc={};Gc=function(o,r,n){if(!(o instanceof r))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return o};var Se={},ri=ja("species");Se=function($,r){var n,a=la($).constructor;return void 0===a||null==(n=la(a)[ri])?r:Fa(n)};var Te={};Te=/(?:iphone|ipod|ipad).*applewebkit/i.test(mb);var si,ti,Ue,Ve={},Wb=aa.location,We=aa.setImmediate,Xe=aa.clearImmediate,ui=aa.process,Ye=aa.MessageChannel,Hc=aa.Dispatch,Ic=0,xb={},Ze="onreadystatechange",Jc=function($){if(xb.hasOwnProperty($)){var n=xb[$];delete xb[$],n()}},Kc=function($){return function(){Jc($)}},$e=function($){Jc($.data)},_e=function($){aa.postMessage($+"",Wb.protocol+"//"+Wb.host)};We&&Xe||(We=function($){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return xb[++Ic]=function(){("function"==typeof $?$:Function($)).apply(void 0,n)},si(Ic),Ic},Xe=function($){delete xb[$]},Aa?si=function($){ui.nextTick(Kc($))}:Hc&&Hc.now?si=function($){Hc.now(Kc($))}:Ye&&!Te?(Ue=(ti=new Ye).port2,ti.port1.onmessage=$e,si=Ub(Ue.postMessage,Ue,1)):aa.addEventListener&&"function"==typeof postMessage&&!aa.importScripts&&Wb&&"file:"!==Wb.protocol&&!wa(_e)?(si=_e,aa.addEventListener("message",$e,!1)):si=Ze in Mb("script")?function($){xc.appendChild(Mb("script"))[Ze]=function(){xc.removeChild(this),Jc($)}}:function($){setTimeout(Kc($),0)}),Ve={set:We,clear:Xe};var vi={};vi=/web0s(?!.*chrome)/i.test(mb);var Xb,yb,af,bf,wi,cf,df,xi,ef={},yi=pc,zi=Ve.set,ff=aa.MutationObserver||aa.WebKitMutationObserver,gf=aa.document,hf=aa.process,Lc=aa.Promise,jf=yi(aa,"queueMicrotask"),kf=jf&&jf.value;kf||(Xb=function(){var r,$;for(Aa&&(r=hf.domain)&&r.exit();yb;){$=yb.fn,yb=yb.next;try{$()}catch(a){throw yb?bf():af=void 0,a}}af=void 0,r&&r.enter()},Te||Aa||vi||!ff||!gf?Lc&&Lc.resolve?(df=Lc.resolve(void 0),xi=df.then,bf=function(){xi.call(df,Xb)}):bf=Aa?function(){hf.nextTick(Xb)}:function(){zi.call(aa,Xb)}:(wi=!0,cf=gf.createTextNode(""),new ff(Xb).observe(cf,{characterData:!0}),bf=function(){cf.data=wi=!wi})),ef=kf||function(r){var $={fn:r,next:void 0};af&&(af.next=$),yb||(yb=$,bf()),af=$};var Ta={},Ai=function(r){var i,$;this.promise=new r(function(r,n){if(void 0!==i||void 0!==$)throw TypeError("Bad Promise constructor");i=r,$=n}),this.resolve=Fa(i),this.reject=Fa($)};Ta.f=function(r){return new Ai(r)};var Yb={};Yb=function(r,e){if(la(r),oa(e)&&e.constructor===r)return e;var $=Ta.f(r);return(0,$.resolve)(e),$.promise};var Bi={};Bi=function(r,$){var e=aa.console;e&&e.error&&(1===arguments.length?e.error(r):e.error(r,$))};var bb={};bb=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}};var lf,Ci,mf,Di,nf=Ve.set,Ei=ja("species"),Ba="Promise",of=ma.get,Fi=ma.set,Gi=ma.getterFor(Ba),ka=Ga,pf=aa.TypeError,Mc=aa.document,Nc=aa.process,qf=ra("fetch"),zb=Ta.f,Hi=zb,Ii=!!(Mc&&Mc.createEvent&&aa.dispatchEvent),rf="function"==typeof PromiseRejectionEvent,sf="unhandledrejection",Ji="rejectionhandled",tf=0,uf=1,Ki=2,Oc=1,vf=2,Ab=be(Ba,function(){if(!(lc(ka)!==String(ka))){if(66===nb)return!0;if(!Aa&&!rf)return!0}if(ya&&!ka.prototype.finally)return!0;if(nb>=51&&/native code/.test(ka))return!1;var $=ka.resolve(1),t=function($){$(function(){},function(){})};return($.constructor={})[Ei]=t,!($.then(function(){})instanceof t)}),Li=Ab||!Me(function($){ka.all($).catch(function(){})}),wf=function($){var t;return!(!oa($)||"function"!=typeof(t=$.then))&&t},Pc=function($,t){if(!$.notified){$.notified=!0;var r=$.reactions;ef(function(){for(var e=$.value,a=$.state==uf,n=0;r.length>n;){var i,I,o,b=r[n++],v=a?b.ok:b.fail,G=b.resolve,s=b.reject,c=b.domain;try{v?(a||($.rejection===vf&&Ni($),$.rejection=Oc),!0===v?i=e:(c&&c.enter(),i=v(e),c&&(c.exit(),o=!0)),i===b.promise?s(pf("Promise-chain cycle")):(I=wf(i))?I.call(i,G,s):G(i)):s(e)}catch(l){c&&!o&&c.exit(),s(l)}}$.reactions=[],$.notified=!1,t&&!$.rejection&&Mi($)})}},xf=function($,t,r){var e,a;Ii?((e=Mc.createEvent("Event")).promise=t,e.reason=r,e.initEvent($,!1,!0),aa.dispatchEvent(e)):e={promise:t,reason:r},!rf&&(a=aa["on"+$])?a(e):$===sf&&Bi("Unhandled promise rejection",r)},Mi=function($){nf.call(aa,function(){var t,r=$.facade,e=$.value;if(yf($)&&(t=bb(function(){Aa?Nc.emit("unhandledRejection",e,r):xf(sf,r,e)}),$.rejection=Aa||yf($)?vf:Oc,t.error))throw t.value})},yf=function($){return $.rejection!==Oc&&!$.parent},Ni=function($){nf.call(aa,function(){var t=$.facade;Aa?Nc.emit("rejectionHandled",t):xf(Ji,t,$.value)})},cb=function($,t,r){return function(e){$(t,e,r)}},db=function($,t,r){$.done||($.done=!0,r&&($=r),$.value=t,$.state=Ki,Pc($,!0))},Qc=function($,t,r){if(!$.done){$.done=!0,r&&($=r);try{if($.facade===t)throw pf("Promise can't be resolved itself");var e=wf(t);e?ef(function(){var r={done:!1};try{e.call(t,cb(Qc,r,$),cb(db,r,$))}catch(a){db(r,a,$)}}):($.value=t,$.state=uf,Pc($,!1))}catch(a){db({done:!1},a,$)}}};Ab&&(ka=function($){Gc(this,ka,Ba),Fa($),lf.call(this);var t=of(this);try{$(cb(Qc,t),cb(db,t))}catch(r){db(t,r)}},(lf=function($){Fi(this,{type:Ba,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:tf,value:void 0})}).prototype=Qe(ka.prototype,{then:function($,t){var r=Gi(this),e=zb(Se(this,ka));return e.ok="function"!=typeof $||$,e.fail="function"==typeof t&&t,e.domain=Aa?Nc.domain:void 0,r.parent=!0,r.reactions.push(e),r.state!=tf&&Pc(r,!1),e.promise},catch:function($){return this.then(void 0,$)}}),Ci=function(){var $=new lf,t=of($);this.promise=$,this.resolve=cb(Qc,t),this.reject=cb(db,t)},Ta.f=zb=function($){return $===ka||$===mf?new Ci($):Hi($)},ya||"function"!=typeof Ga||(Di=Ga.prototype.then,qa(Ga.prototype,"then",function($,t){var r=this;return new ka(function($,t){Di.call(r,$,t)}).then($,t)},{unsafe:!0}),"function"==typeof qf&&ia({global:!0,enumerable:!0,forced:!0},{fetch:function($){return Yb(ka,qf.apply(aa,arguments))}}))),ia({global:!0,wrap:!0,forced:Ab},{Promise:ka}),rb(ka,Ba,!1,!0),qi(Ba),mf=ra(Ba),ia({target:Ba,stat:!0,forced:Ab},{reject:function($){var t=zb(this);return t.reject.call(void 0,$),t.promise}}),ia({target:Ba,stat:!0,forced:ya||Ab},{resolve:function($){return Yb(ya&&this===mf?ka:this,$)}}),ia({target:Ba,stat:!0,forced:Li},{all:function($){var t=this,r=zb(t),e=r.resolve,a=r.reject,n=bb(function(){var r=Fa(t.resolve),n=[],i=0,I=1;ub($,function($){var o=i++,b=!1;n.push(void 0),I++,r.call(t,$).then(function($){b||(b=!0,n[o]=$,--I||e(n))},a)}),--I||e(n)});return n.error&&a(n.value),r.promise},race:function($){var t=this,r=zb(t),e=r.reject,a=bb(function(){var a=Fa(t.resolve);ub($,function($){a.call(t,$).then(r.resolve,e)})});return a.error&&e(a.value),r.promise}});ia({target:"Promise",stat:!0},{allSettled:function(r){var e=this,i=Ta.f(e),a=i.resolve,$=i.reject,t=bb(function(){var i=Fa(e.resolve),$=[],t=0,n=1;ub(r,function(r){var l=t++,o=!1;$.push(void 0),n++,i.call(e,r).then(function(r){o||(o=!0,$[l]={status:"fulfilled",value:r},--n||a($))},function(r){o||(o=!0,$[l]={status:"rejected",reason:r},--n||a($))})}),--n||a($)});return t.error&&$(t.value),i.promise}});var zf="No one promise resolved";ia({target:"Promise",stat:!0},{any:function(r){var e=this,$=Ta.f(e),a=$.resolve,i=$.reject,t=bb(function(){var $=Fa(e.resolve),t=[],n=0,o=1,l=!1;ub(r,function(r){var v=n++,u=!1;t.push(void 0),o++,$.call(e,r).then(function(r){u||l||(l=!0,a(r))},function(r){u||l||(u=!0,t[v]=r,--o||i(new(ra("AggregateError"))(t,zf)))})}),--o||i(new(ra("AggregateError"))(t,zf))});return t.error&&i(t.value),$.promise}});var Oi=!!Ga&&wa(function(){Ga.prototype.finally.call({then:function(){}},function(){})});ia({target:"Promise",proto:!0,real:!0,forced:Oi},{finally:function(r){var e=Se(this,ra("Promise")),$="function"==typeof r;return this.then($?function($){return Yb(e,r()).then(function(){return $})}:r,$?function($){return Yb(e,r()).then(function(){throw $})}:r)}}),ya||"function"!=typeof Ga||Ga.prototype.finally||qa(Ga.prototype,"finally",ra("Promise").prototype.finally);var Af={};Af={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var Rc={},Sc=ja("unscopables"),Tc=Array.prototype;null==Tc[Sc]&&Oa(Tc,Sc,{configurable:!0,value:Qb(null)}),Rc=function(e){Tc[Sc][e]=!0};var Bb={},Bf="Array Iterator",Pi=ma.set,Qi=ma.getterFor(Bf);Bb=Ee(Array,"Array",function(e,r){Pi(this,{type:Bf,target:Nb(e),index:0,kind:r})},function(){var e=Qi(this),r=e.target,a=e.kind,$=e.index++;return!r||$>=r.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:$,done:!1}:"values"==a?{value:r[$],done:!1}:{value:[$,r[$]],done:!1}},"values"),Ra.Arguments=Ra.Array,Rc("keys"),Rc("values"),Rc("entries");var Uc=ja("iterator"),Cf=ja("toStringTag"),Vc=Bb.values;for(var Wc in Af){var Df=aa[Wc],Ha=Df&&Df.prototype;if(Ha){if(Ha[Uc]!==Vc)try{pa(Ha,Uc,Vc)}catch(error){Ha[Uc]=Vc}if(Ha[Cf]||pa(Ha,Cf,Wc),Af[Wc])for(var eb in Bb)if(Ha[eb]!==Bb[eb])try{pa(Ha,eb,Bb[eb])}catch(error){Ha[eb]=Bb[eb]}}}ia({target:"Promise",stat:!0},{try:function(r){var e=Ta.f(this),i=bb(r);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var Xc={},Ri=ja("iterator");Xc=!wa(function(){var r=new URL("b?a=1&b=2&c=3","http://a"),a=r.searchParams,e="";return r.pathname="c%20d",a.forEach(function(r,$){a.delete("b"),e+=$+r}),ya&&!r.toJSON||!a.sort||"http://a/c%20d?a=1&c=3"!==r.href||"3"!==a.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!a[Ri]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==e||"x"!==new URL("http://x",void 0).host});var Si={},Yc=2147483647,Cb=36,Ef=1,Zc=26,Ti=38,Ui=700,Vi=72,Wi=128,Xi="-",Yi=/[^\0-\u007E]/,Zi=/[.\u3002\uFF0E\uFF61]/g,Ff="Overflow: input needs wider integers to process",$c=Cb-Ef,fb=Math.floor,_c=String.fromCharCode,$i=function(a){for(var $=[],r=0,v=a.length;r<v;){var e=a.charCodeAt(r++);if(e>=55296&&e<=56319&&r<v){var F=a.charCodeAt(r++);56320==(64512&F)?$.push(((1023&e)<<10)+(1023&F)+65536):($.push(e),r--)}else $.push(e)}return $},Gf=function(a){return a+22+75*(a<26)},_i=function(a,$,r){var v=0;for(a=r?fb(a/Ui):a>>1,a+=fb(a/$);a>$c*Zc>>1;v+=Cb)a=fb(a/$c);return fb(v+($c+1)*a/(a+Ti))},aj=function(a){var $,r,v=[],e=(a=$i(a)).length,F=Wi,o=0,t=Vi;for($=0;$<a.length;$++)(r=a[$])<128&&v.push(_c(r));var i=v.length,n=i;for(i&&v.push(Xi);n<e;){var s=Yc;for($=0;$<a.length;$++)(r=a[$])>=F&&r<s&&(s=r);var u=n+1;if(s-F>fb((Yc-o)/u))throw RangeError(Ff);for(o+=(s-F)*u,F=s,$=0;$<a.length;$++){if((r=a[$])<F&&++o>Yc)throw RangeError(Ff);if(r==F){for(var f=o,h=Cb;;h+=Cb){var l=h<=t?Ef:h>=t+Zc?Zc:h-t;if(f<l)break;var d=f-l,g=Cb-l;v.push(_c(Gf(l+d%g))),f=fb(d/g)}v.push(_c(Gf(f))),t=_i(o,u,n==i),o=0,++n}}++o,++F}return v.join("")};Si=function(a){var $,r,v=[],e=a.toLowerCase().replace(Zi,".").split(".");for($=0;$<e.length;$++)r=e[$],v.push(Yi.test(r)?"xn--"+aj(r):r);return v.join(".")};var Hf={};Hf=function(t){var r=Vb(t);if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return la(r.call(t))};var If={};var Jf=ra("fetch"),ad=ra("Headers"),bj=ja("iterator"),gb="URLSearchParams",Kf=gb+"Iterator",Lf=ma.set,za=ma.getterFor(gb),cj=ma.getterFor(Kf),dj=/\+/g,Mf=Array(4),ej=function(e){return Mf[e-1]||(Mf[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},fj=function(e){try{return decodeURIComponent(e)}catch(r){return e}},Nf=function(e){var r=e.replace(dj," "),a=4;try{return decodeURIComponent(r)}catch($){for(;a;)r=r.replace(ej(a--),fj);return r}},gj=/[!'()~]|%20/g,hj={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ij=function(e){return hj[e]},Of=function(e){return encodeURIComponent(e).replace(gj,ij)},Pf=function(e,r){if(r)for(var a,$,t=r.split("&"),n=0;n<t.length;)(a=t[n++]).length&&($=a.split("="),e.push({key:Nf($.shift()),value:Nf($.join("="))}))},jj=function(e){this.entries.length=0,Pf(this.entries,e)},hb=function(e,r){if(e<r)throw TypeError("Not enough arguments")},bd=De(function(e,r){Lf(this,{type:Kf,iterator:Hf(za(e).entries),kind:r})},"Iterator",function(){var e=cj(this),r=e.kind,a=e.iterator.next(),$=a.value;return a.done||(a.value="keys"===r?$.key:"values"===r?$.value:[$.key,$.value]),a}),Db=function(){Gc(this,Db,gb);var e,r,a,$,t,n,p,g,s,i=arguments.length>0?arguments[0]:void 0,l=[];if(Lf(this,{type:gb,entries:l,updateURL:function(){},updateSearchParams:jj}),void 0!==i)if(oa(i)){if("function"==typeof(e=Vb(i)))for(a=(r=e.call(i)).next;!($=a.call(r)).done;){if((p=(n=(t=Hf(la($.value))).next).call(t)).done||(g=n.call(t)).done||!n.call(t).done)throw TypeError("Expected sequence with length 2");l.push({key:p.value+"",value:g.value+""})}else for(s in i)ga(i,s)&&l.push({key:s,value:i[s]+""});}else Pf(l,"string"==typeof i?"?"===i.charAt(0)?i.slice(1):i:i+"")},Zb=Db.prototype;Qe(Zb,{append:function(e,r){hb(arguments.length,2);var a=za(this);a.entries.push({key:e+"",value:r+""}),a.updateURL()},delete:function(e){hb(arguments.length,1);for(var r=za(this),a=r.entries,$=e+"",t=0;t<a.length;)a[t].key===$?a.splice(t,1):t++;r.updateURL()},get:function(e){hb(arguments.length,1);for(var r=za(this).entries,a=e+"",$=0;$<r.length;$++)if(r[$].key===a)return r[$].value;return null},getAll:function(e){hb(arguments.length,1);for(var r=za(this).entries,a=e+"",$=[],t=0;t<r.length;t++)r[t].key===a&&$.push(r[t].value);return $},has:function(e){hb(arguments.length,1);for(var r=za(this).entries,a=e+"",$=0;$<r.length;)if(r[$++].key===a)return!0;return!1},set:function(e,r){hb(arguments.length,1);for(var a,$=za(this),t=$.entries,n=!1,p=e+"",g=r+"",s=0;s<t.length;s++)(a=t[s]).key===p&&(n?t.splice(s--,1):(n=!0,a.value=g));n||t.push({key:p,value:g}),$.updateURL()},sort:function(){var e,r,a,$=za(this),t=$.entries,n=t.slice();for(t.length=0,a=0;a<n.length;a++){for(e=n[a],r=0;r<a;r++)if(t[r].key>e.key){t.splice(r,0,e);break}r===a&&t.push(e)}$.updateURL()},forEach:function(e){for(var r,a=za(this).entries,$=Ub(e,arguments.length>1?arguments[1]:void 0,3),t=0;t<a.length;)$((r=a[t++]).value,r.key,this)},keys:function(){return new bd(this,"keys")},values:function(){return new bd(this,"values")},entries:function(){return new bd(this,"entries")}},{enumerable:!0}),qa(Zb,bj,Zb.entries),qa(Zb,"toString",function(){for(var e,r=za(this).entries,a=[],$=0;$<r.length;)e=r[$++],a.push(Of(e.key)+"="+Of(e.value));return a.join("&")},{enumerable:!0}),rb(Db,gb),ia({global:!0,forced:!Xc},{URLSearchParams:Db}),Xc||"function"!=typeof Jf||"function"!=typeof ad||ia({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var r,a,$,t=[e];return arguments.length>1&&(r=arguments[1],oa(r)&&(a=r.body,Fc(a)===gb&&(($=r.headers?new ad(r.headers):new ad).has("content-type")||$.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=Qb(r,{body:Ea(0,String(a)),headers:Ea(0,$)}))),t.push(r)),Jf.apply(this,t)}}),If={URLSearchParams:Db,getState:za};var sa,kj=Gd.codeAt,Eb=aa.URL,lj=If.URLSearchParams,cd=If.getState,mj=ma.set,ca=ma.getterFor("URL"),nj=Math.floor,Qf=Math.pow,oj="Invalid authority",dd="Invalid scheme",Ua="Invalid host",Rf="Invalid port",Sf=/[A-Za-z]/,pj=/[\d+-.A-Za-z]/,ed=/\d/,qj=/^(0x|0X)/,rj=/^[0-7]+$/,sj=/^\d+$/,Tf=/^[\dA-Fa-f]+$/,tj=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,uj=/[\u0000\t\u000A\u000D #/:?@[\\]]/,vj=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,wj=/[\t\u000A\u000D]/g,fd=function($,t){var r,e,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return Ua;if(!(r=yj(t.slice(1,-1))))return Ua;$.host=r}else if(ha($)){if(t=Si(t),tj.test(t))return Ua;if(null===(r=xj(t)))return Ua;$.host=r}else{if(uj.test(t))return Ua;for(r="",e=Sa(t),a=0;a<e.length;a++)r+=La(e[a],$b);$.host=r}},xj=function($){var t,r,e,a,n,s,v,y=$.split(".");if(y.length&&""==y[y.length-1]&&y.pop(),(t=y.length)>4)return $;for(r=[],e=0;e<t;e++){if(""==(a=y[e]))return $;if(n=10,a.length>1&&"0"==a.charAt(0)&&(n=qj.test(a)?16:8,a=a.slice(8==n?1:2)),""===a)s=0;else{if(!(10==n?sj:8==n?rj:Tf).test(a))return $;s=parseInt(a,n)}r.push(s)}for(e=0;e<t;e++)if(s=r[e],e==t-1){if(s>=Qf(256,5-t))return null}else if(s>255)return null;for(v=r.pop(),e=0;e<r.length;e++)v+=r[e]*Qf(256,3-e);return v},yj=function($){var t,r,e,a,n,s,v,y=[0,0,0,0,0,0,0,0],q=0,i=null,o=0,c=function(){return $.charAt(o)};if(":"==c()){if(":"!=$.charAt(1))return;o+=2,i=++q}for(;c();){if(8==q)return;if(":"!=c()){for(t=r=0;r<4&&Tf.test(c());)t=16*t+parseInt(c(),16),o++,r++;if("."==c()){if(0==r)return;if(o-=r,q>6)return;for(e=0;c();){if(a=null,e>0){if(!("."==c()&&e<4))return;o++}if(!ed.test(c()))return;for(;ed.test(c());){if(n=parseInt(c(),10),null===a)a=n;else{if(0==a)return;a=10*a+n}if(a>255)return;o++}y[q]=256*y[q]+a,2!=++e&&4!=e||q++}if(4!=e)return;break}if(":"==c()){if(o++,!c())return}else if(c())return;y[q++]=t}else{if(null!==i)return;o++,i=++q}}if(null!==i)for(s=q-i,q=7;0!=q&&s>0;)v=y[q],y[q--]=y[i+s-1],y[i+--s]=v;else if(8!=q)return;return y},zj=function($){for(var t=null,r=1,e=null,a=0,n=0;n<8;n++)0!==$[n]?(a>r&&(t=e,r=a),e=null,a=0):(null===e&&(e=n),++a);return a>r&&(t=e,r=a),t},Fb=function($){var t,r,e,a;if("number"==typeof $){for(t=[],r=0;r<4;r++)t.unshift($%256),$=nj($/256);return t.join(".")}if("object"==typeof $){for(t="",e=zj($),r=0;r<8;r++)a&&0===$[r]||(a&&(a=!1),e===r?(t+=r?":":"::",a=!0):(t+=$[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return $},$b={},Uf=tb({},$b,{" ":1,"\"":1,"<":1,">":1,"`":1}),Vf=tb({},Uf,{"#":1,"?":1,"{":1,"}":1}),gd=tb({},Vf,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),La=function($,t){var r=kj($,0);return r>32&&r<127&&!ga(t,$)?$:encodeURIComponent($)},_b={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ha=function($){return ga(_b,$.scheme)},hd=function($){return""!=$.username||""!=$.password},id=function($){return!$.host||$.cannotBeABaseURL||"file"==$.scheme},Gb=function($,t){var r;return 2==$.length&&Sf.test($.charAt(0))&&(":"==(r=$.charAt(1))||!t&&"|"==r)},Wf=function($){var t;return $.length>1&&Gb($.slice(0,2))&&(2==$.length||"/"===(t=$.charAt(2))||"\\"===t||"?"===t||"#"===t)},Xf=function($){var t=$.path,r=t.length;!r||"file"==$.scheme&&1==r&&Gb(t[0],!0)||t.pop()},Aj=function($){return"."===$||"%2e"===$.toLowerCase()},Bj=function($){return".."===($=$.toLowerCase())||"%2e."===$||".%2e"===$||"%2e%2e"===$},jd={},Yf={},kd={},Zf={},$f={},ld={},_f={},ag={},ac={},bc={},md={},nd={},od={},pd={},bg={},qd={},ib={},Ca={},cg={},Va={},Ia={},Da=function($,t,r,e){var a,n,s,v,y=r||jd,q=0,i="",o=!1,c=!1,l=!1;for(r||($.scheme="",$.username="",$.password="",$.host=null,$.port=null,$.path=[],$.query=null,$.fragment=null,$.cannotBeABaseURL=!1,t=t.replace(vj,"")),t=t.replace(wj,""),a=Sa(t);q<=a.length;){switch(n=a[q],y){case jd:if(!n||!Sf.test(n)){if(r)return dd;y=kd;continue}i+=n.toLowerCase(),y=Yf;break;case Yf:if(n&&(pj.test(n)||"+"==n||"-"==n||"."==n))i+=n.toLowerCase();else{if(":"!=n){if(r)return dd;i="",y=kd,q=0;continue}if(r&&(ha($)!=ga(_b,i)||"file"==i&&(hd($)||null!==$.port)||"file"==$.scheme&&!$.host))return;if($.scheme=i,r)return void(ha($)&&_b[$.scheme]==$.port&&($.port=null));i="","file"==$.scheme?y=pd:ha($)&&e&&e.scheme==$.scheme?y=Zf:ha($)?y=ag:"/"==a[q+1]?(y=$f,q++):($.cannotBeABaseURL=!0,$.path.push(""),y=cg)}break;case kd:if(!e||e.cannotBeABaseURL&&"#"!=n)return dd;if(e.cannotBeABaseURL&&"#"==n){$.scheme=e.scheme,$.path=e.path.slice(),$.query=e.query,$.fragment="",$.cannotBeABaseURL=!0,y=Ia;break}y="file"==e.scheme?pd:ld;continue;case Zf:if("/"!=n||"/"!=a[q+1]){y=ld;continue}y=ac,q++;break;case $f:if("/"==n){y=bc;break}y=Ca;continue;case ld:if($.scheme=e.scheme,n==sa)$.username=e.username,$.password=e.password,$.host=e.host,$.port=e.port,$.path=e.path.slice(),$.query=e.query;else if("/"==n||"\\"==n&&ha($))y=_f;else if("?"==n)$.username=e.username,$.password=e.password,$.host=e.host,$.port=e.port,$.path=e.path.slice(),$.query="",y=Va;else{if("#"!=n){$.username=e.username,$.password=e.password,$.host=e.host,$.port=e.port,$.path=e.path.slice(),$.path.pop(),y=Ca;continue}$.username=e.username,$.password=e.password,$.host=e.host,$.port=e.port,$.path=e.path.slice(),$.query=e.query,$.fragment="",y=Ia}break;case _f:if(!ha($)||"/"!=n&&"\\"!=n){if("/"!=n){$.username=e.username,$.password=e.password,$.host=e.host,$.port=e.port,y=Ca;continue}y=bc}else y=ac;break;case ag:if(y=ac,"/"!=n||"/"!=i.charAt(q+1))continue;q++;break;case ac:if("/"!=n&&"\\"!=n){y=bc;continue}break;case bc:if("@"==n){o&&(i="%40"+i),o=!0,s=Sa(i);for(var u=0;u<s.length;u++){var h=s[u];if(":"!=h||l){var S=La(h,gd);l?$.password+=S:$.username+=S}else l=!0}i=""}else if(n==sa||"/"==n||"?"==n||"#"==n||"\\"==n&&ha($)){if(o&&""==i)return oj;q-=Sa(i).length+1,i="",y=md}else i+=n;break;case md:case nd:if(r&&"file"==$.scheme){y=qd;continue}if(":"!=n||c){if(n==sa||"/"==n||"?"==n||"#"==n||"\\"==n&&ha($)){if(ha($)&&""==i)return Ua;if(r&&""==i&&(hd($)||null!==$.port))return;if(v=fd($,i))return v;if(i="",y=ib,r)return;continue}"["==n?c=!0:"]"==n&&(c=!1),i+=n}else{if(""==i)return Ua;if(v=fd($,i))return v;if(i="",y=od,r==nd)return}break;case od:if(!ed.test(n)){if(n==sa||"/"==n||"?"==n||"#"==n||"\\"==n&&ha($)||r){if(""!=i){var f=parseInt(i,10);if(f>65535)return Rf;$.port=ha($)&&f===_b[$.scheme]?null:f,i=""}if(r)return;y=ib;continue}return Rf}i+=n;break;case pd:if($.scheme="file","/"==n||"\\"==n)y=bg;else{if(!e||"file"!=e.scheme){y=Ca;continue}if(n==sa)$.host=e.host,$.path=e.path.slice(),$.query=e.query;else if("?"==n)$.host=e.host,$.path=e.path.slice(),$.query="",y=Va;else{if("#"!=n){Wf(a.slice(q).join(""))||($.host=e.host,$.path=e.path.slice(),Xf($)),y=Ca;continue}$.host=e.host,$.path=e.path.slice(),$.query=e.query,$.fragment="",y=Ia}}break;case bg:if("/"==n||"\\"==n){y=qd;break}e&&"file"==e.scheme&&!Wf(a.slice(q).join(""))&&(Gb(e.path[0],!0)?$.path.push(e.path[0]):$.host=e.host),y=Ca;continue;case qd:if(n==sa||"/"==n||"\\"==n||"?"==n||"#"==n){if(!r&&Gb(i))y=Ca;else if(""==i){if($.host="",r)return;y=ib}else{if(v=fd($,i))return v;if("localhost"==$.host&&($.host=""),r)return;i="",y=ib}continue}i+=n;break;case ib:if(ha($)){if(y=Ca,"/"!=n&&"\\"!=n)continue}else if(r||"?"!=n){if(r||"#"!=n){if(n!=sa&&(y=Ca,"/"!=n))continue}else $.fragment="",y=Ia;}else $.query="",y=Va;break;case Ca:if(n==sa||"/"==n||"\\"==n&&ha($)||!r&&("?"==n||"#"==n)){if(Bj(i)?(Xf($),"/"==n||"\\"==n&&ha($)||$.path.push("")):Aj(i)?"/"==n||"\\"==n&&ha($)||$.path.push(""):("file"==$.scheme&&!$.path.length&&Gb(i)&&($.host&&($.host=""),i=i.charAt(0)+":"),$.path.push(i)),i="","file"==$.scheme&&(n==sa||"?"==n||"#"==n))for(;$.path.length>1&&""===$.path[0];)$.path.shift();"?"==n?($.query="",y=Va):"#"==n&&($.fragment="",y=Ia)}else i+=La(n,Vf);break;case cg:"?"==n?($.query="",y=Va):"#"==n?($.fragment="",y=Ia):n!=sa&&($.path[0]+=La(n,$b));break;case Va:r||"#"!=n?n!=sa&&("'"==n&&ha($)?$.query+="%27":$.query+="#"==n?"%23":La(n,$b)):($.fragment="",y=Ia);break;case Ia:n!=sa&&($.fragment+=La(n,Uf));}q++}},Ma=function($){var t,r,e=Gc(this,Ma,"URL"),a=arguments.length>1?arguments[1]:void 0,n=String($),s=mj(e,{type:"URL"});if(void 0!==a)if(a instanceof Ma)t=ca(a);else if(r=Da(t={},String(a)))throw TypeError(r);if(r=Da(s,n,null,t))throw TypeError(r);var v=s.searchParams=new lj,y=cd(v);y.updateSearchParams(s.query),y.updateURL=function(){s.query=String(v)||null},xa||(e.href=cc.call(e),e.origin=dg.call(e),e.protocol=eg.call(e),e.username=fg.call(e),e.password=gg.call(e),e.host=hg.call(e),e.hostname=ig.call(e),e.port=jg.call(e),e.pathname=kg.call(e),e.search=lg.call(e),e.searchParams=mg.call(e),e.hash=ng.call(e))},rd=Ma.prototype,cc=function(){var $=ca(this),t=$.scheme,r=$.username,e=$.password,a=$.host,n=$.port,s=$.path,v=$.query,y=$.fragment,q=t+":";return null!==a?(q+="//",hd($)&&(q+=r+(e?":"+e:"")+"@"),q+=Fb(a),null!==n&&(q+=":"+n)):"file"==t&&(q+="//"),q+=$.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==v&&(q+="?"+v),null!==y&&(q+="#"+y),q},dg=function(){var $=ca(this),t=$.scheme,r=$.port;if("blob"==t)try{return new Ma(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&ha($)?t+"://"+Fb($.host)+(null!==r?":"+r:""):"null"},eg=function(){return ca(this).scheme+":"},fg=function(){return ca(this).username},gg=function(){return ca(this).password},hg=function(){var $=ca(this),t=$.host,r=$.port;return null===t?"":null===r?Fb(t):Fb(t)+":"+r},ig=function(){var $=ca(this).host;return null===$?"":Fb($)},jg=function(){var $=ca(this).port;return null===$?"":String($)},kg=function(){var $=ca(this),t=$.path;return $.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},lg=function(){var $=ca(this).query;return $?"?"+$:""},mg=function(){return ca(this).searchParams},ng=function(){var $=ca(this).fragment;return $?"#"+$:""},ta=function($,t){return{get:$,set:t,configurable:!0,enumerable:!0}};if(xa&&we(rd,{href:ta(cc,function($){var t=ca(this),r=String($),e=Da(t,r);if(e)throw TypeError(e);cd(t.searchParams).updateSearchParams(t.query)}),origin:ta(dg),protocol:ta(eg,function($){var t=ca(this);Da(t,String($)+":",jd)}),username:ta(fg,function($){var t=ca(this),r=Sa(String($));if(!id(t)){t.username="";for(var e=0;e<r.length;e++)t.username+=La(r[e],gd)}}),password:ta(gg,function($){var t=ca(this),r=Sa(String($));if(!id(t)){t.password="";for(var e=0;e<r.length;e++)t.password+=La(r[e],gd)}}),host:ta(hg,function($){var t=ca(this);t.cannotBeABaseURL||Da(t,String($),md)}),hostname:ta(ig,function($){var t=ca(this);t.cannotBeABaseURL||Da(t,String($),nd)}),port:ta(jg,function($){var t=ca(this);id(t)||(""==($=String($))?t.port=null:Da(t,$,od))}),pathname:ta(kg,function($){var t=ca(this);t.cannotBeABaseURL||(t.path=[],Da(t,$+"",ib))}),search:ta(lg,function($){var t=ca(this);""==($=String($))?t.query=null:("?"==$.charAt(0)&&($=$.slice(1)),t.query="",Da(t,$,Va)),cd(t.searchParams).updateSearchParams(t.query)}),searchParams:ta(mg),hash:ta(ng,function($){var t=ca(this);""!=($=String($))?("#"==$.charAt(0)&&($=$.slice(1)),t.fragment="",Da(t,$,Ia)):t.fragment=null})}),qa(rd,"toJSON",function(){return cc.call(this)},{enumerable:!0}),qa(rd,"toString",function(){return cc.call(this)},{enumerable:!0}),Eb){var og=Eb.createObjectURL,pg=Eb.revokeObjectURL;og&&qa(Ma,"createObjectURL",function($){return og.apply(Eb,arguments)}),pg&&qa(Ma,"revokeObjectURL",function($){return pg.apply(Eb,arguments)})}rb(Ma,"URL"),ia({global:!0,forced:!Xc,sham:!xa},{URL:Ma});ia({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e}}();var Cj=["second","minute","hour","day","week","month","year"],Dj=function(a,r){if(0===r)return["just now","right now"];var $=Cj[Math.floor(r/2)];return a>1&&($+="s"),[a+" "+$+" ago","in "+a+" "+$]};var Ej=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"],Fj=function($,r){if(0===r)return["\u521A\u521A","\u7247\u523B\u540E"];var t=Ej[~~(r/2)];return[$+" "+t+"\u524D",$+" "+t+"\u540E"]};var sd={},td=function($,e){sd[$]=e};var Gj=function($){return sd[$]||sd.en_US};var Wa=[60,60,24,7,365/7/12,12];function qg($){return $ instanceof Date?$:!isNaN($)||/^\d+$/.test($)?new Date(parseInt($)):($=($||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date($))}function rg($,e){for(var t=$<0?1:0,r=$=Math.abs($),a=0;$>=Wa[a]&&a<Wa.length;a++)$/=Wa[a];return($=Math.floor($))>(0===(a*=2)?9:1)&&(a+=1),e($,a,r)[t].replace("%s",$.toString())}function sg($,e){return(+(e?qg(e):new Date)-+qg($))/1e3}function Hj($){for(var e=1,t=0,r=Math.abs($);$>=Wa[t]&&t<Wa.length;t++)$/=Wa[t],e*=Wa[t];return r=(r%=e)?e-r:e,Math.ceil(r)}var tg=function(t,r,$){var e=sg(t,$&&$.relativeDate);return rg(e,Gj(r))};var ug="timeago-id";function Ij(t,e){t.setAttribute(ug,e)}function Jj(t){return parseInt(t.getAttribute(ug))}var vg={},Kj=function($){clearTimeout($),delete vg[$]};function Lj($,r,e,t){Kj(Jj($));var a=t.relativeDate,h=t.minInterval,i=sg(r,a);$.innerText=rg(i,e);var D=setTimeout(function(){Lj($,r,e,t)},Math.min(1e3*Math.max(Hj(i),h||1),2147483647));vg[D]=0,Ij($,D)}td("en_US",Dj),td("zh_CN",Fj);function wg(e,t){var n=new Pj(navigator.appVersion),r="https://mesconseilscovid.sante.gouv.fr/#suiviintroduction";t.hasSymptomesStartDate()&&n.addEvent("D\xE9but sympt\xF4mes Covid-19","Vous pouvez faire votre suivi quotidien sur ".concat(r),t.symptomes_start_date,1,void 0);var o={freq:"DAILY",interval:1,count:15};n.addEvent("Suivi Covid-19","Aller faire mon suivi quotidien sur ".concat(r),t.suivi_start_date,1,o);var i=n.generateCalendar();Array.from(e.querySelectorAll(".js-calendar")).forEach(function(e){var t="data:text/x-vCalendar;charset=utf-8,"+encodeURIComponent(i);e.setAttribute("href",t)})}function xg(e,t){function n(e,t,n){e.style.transition="opacity ".concat(t/1e3,"s"),e.style.opacity="0",window.setTimeout(function(){e.style.opacity="1",n(e)},t)}Array.from(e.querySelectorAll(".button-feedback")).forEach(function(r){r.addEventListener("click",function(r){r.preventDefault();var o=r.target.dataset.feedback;t.plausible("Avis ".concat(o)),function(e,r){var o=r.dataset.feedbackTransitionDelay;n(r,o,function(r){fa(r.querySelector(".feedback-question")),da(r.querySelector(".feedback-form")),r.parentElement.classList.add("js-feedback-submitted"),r.querySelector(".feedback-form form").addEventListener("submit",function(i){i.preventDefault();var a=document.body.dataset.statsUrl,d=i.target.elements.message.value;"TousAntiCovid"==t.source&&(d+=" #TAC");var s={kind:e,message:d,page:ec()},c=new XMLHttpRequest;c.open("POST",a+"/feedback",!0),c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(s)),n(r,o,function(e){fa(e.querySelector(".feedback-form")),da(e.querySelector(".feedback-thankyou"))})})})}(o,e)})}),document.addEventListener("pageChanged",function(){fa(e.querySelector(".feedback-form")),fa(e.querySelector(".feedback-thankyou")),da(e.querySelector(".feedback-question"))})}function Mj(e,t){e.addEventListener("click",function(){t.plausible("Contact")})}function yg(e,t){e.querySelector(".js-impression").addEventListener("click",function(n){n.preventDefault(),t.plausible("Impression");try{Array.from(e.querySelectorAll("details")).forEach(function(e){e.setAttribute("open","")}),window.print()}catch(r){console.error(r),alert("Cette fonctionnalit\xE9 n\u2019est pas pr\xE9sente sur votre appareil")}})}function zg(e,t){e.addEventListener("click",function(e){e.preventDefault(),t.plausible("Suppression totale"),confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer tous les profils\xA0?")&&t.supprimerTout().then(function(){"introduction"===t.router.lastRouteResolved().url?window.location.reload(!0):t.router.navigate("introduction")})})}function Nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oj(e,t,r){return t&&Ag(e.prototype,t),r&&Ag(e,r),e}var Pj=function(){function e(t){Nj(this,e),this.uidDomain="default",this.prodId="Calendar",this.SEPARATOR=-1!==t.indexOf("Win")?"\r\n":"\n",this.calendarEvents=[],this.calendarStart=["BEGIN:VCALENDAR","PRODID:"+this.prodId,"VERSION:2.0"].join(this.SEPARATOR),this.calendarEnd=this.SEPARATOR+"END:VCALENDAR"}return Oj(e,[{key:"addEvent",value:function(e,t,r,n,i,a){var s=new Date(r);s.setHours(s.getHours()+n);var l=this.generateDates(r,s,a),o=this.generateRRule(i),c=["BEGIN:VEVENT","UID:"+this.calendarEvents.length+"@"+this.uidDomain,"CLASS:PUBLIC","DESCRIPTION:"+t,"DTSTAMP;VALUE=DATE-TIME:"+l.now,"DTSTART;VALUE=DATE-TIME:"+l.start,"DTEND;VALUE=DATE-TIME:"+l.end,"SUMMARY;LANGUAGE=fr-fr:"+e,"TRANSP:TRANSPARENT","END:VEVENT"];o&&c.splice(4,0,o);var u=c.join(this.SEPARATOR);return this.calendarEvents.push(u),u}},{key:"generateCalendar",value:function(){return this.calendarStart+this.SEPARATOR+this.calendarEvents.join(this.SEPARATOR)+this.calendarEnd}},{key:"generateDates",value:function(e,t,r){var n=r||new Date,i=("0000"+e.getFullYear().toString()).slice(-4),a=("00"+(e.getMonth()+1).toString()).slice(-2),s=("00"+e.getDate().toString()).slice(-2),l=("00"+e.getHours().toString()).slice(-2),o=("00"+e.getMinutes().toString()).slice(-2),c=("00"+e.getMinutes().toString()).slice(-2),u=("0000"+t.getFullYear().toString()).slice(-4),g=("00"+(t.getMonth()+1).toString()).slice(-2),E=("00"+t.getDate().toString()).slice(-2),S="T"+l+o+c,d="T"+("00"+t.getHours().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2);return"T000000"===S&&"T000000"===d&&(S="",d=""),{start:i+a+s+S,end:u+g+E+d,now:("0000"+n.getFullYear().toString()).slice(-4)+("00"+(n.getMonth()+1).toString()).slice(-2)+("00"+n.getDate().toString()).slice(-2)+("T"+("00"+n.getHours().toString()).slice(-2)+("00"+n.getMinutes().toString()).slice(-2)+("00"+n.getSeconds().toString()).slice(-2))}}},{key:"generateRRule",value:function(e){var t;return e&&(e.rrule?t=e.rrule:(t="RRULE:FREQ="+e.freq,t+=";INTERVAL="+e.interval,t+=";COUNT="+e.count)),t}}]),e}();function Bg(e,t){var $=t.estMonProfil()?Qj:Rj;Array.from(e.querySelectorAll(".me")).forEach($)}function Qj(e){da(e),fa(e.nextSibling)}function Rj(e){fa(e),da(e.nextSibling)}function fa(e){e.setAttribute("hidden",""),e.classList.remove("visible")}function da(e){e.removeAttribute("hidden"),e.classList.add("visible")}function jb(e,t){Array.from(e.querySelectorAll(t)).forEach(fa)}function ud(e,t){Array.from(e.querySelectorAll(t)).forEach(da)}function dc(e,t){var $=e.querySelector("#"+t);$&&da($)}function vd(e,t){t.forEach(function(t){dc(e,t)})}function Hb(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function Sj(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;")}function Na(e){for(var t="",$=0;$<(arguments.length<=1?0:arguments.length-1);$++)t+=e[$],t+=Sj($+1<1||arguments.length<=$+1?void 0:arguments[$+1]);return t+=e[e.length-1]}function ec(){var e=document.location.hash;return(e?e.slice(1):"").split("?")[0]}function Tj(e,o){var t=document.querySelector("section#page"),r=document.querySelector("#"+e).cloneNode(!0);t.classList.remove("ready"),t.classList.add("loading"),t.innerHTML="";var n=t.insertAdjacentElement("afterbegin",r.firstElementChild);return Bg(n,o.profil),Uj(),n}function Uj(){"function"==typeof document.documentElement.scrollTo?document.documentElement.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}function Vj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wj(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}var Xj,Yj,Zj,$j,_j;function Ib(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ak(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bk(e,t,s){return t&&Dg(e.prototype,t),s&&Dg(e,s),e}function ea(e,r){var t=r||new Date;return new Date(t.setDate(t.getDate()-e))}function Xa(e,r){var t=r||new Date;return new Date(t.setDate(t.getDate()+e))}var ck=864e5;function wd(e,r){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate());return Math.floor((a-t)/ck)}function dk(e){var r="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",t=new RegExp(r.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(t,function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(r.indexOf(e))}).replace(/’/g,"'").replace(/[^a-zA-Z0-9-']+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var Eg=7,Fg=30,ek=7,xd=function(){function e(t,s){ak(this,e),this.nom=t,this.fillData(s||{})}return bk(e,[{key:"suivi_start_date",get:function(){if(void 0!==this._suivi_start_date)return new Date(this._suivi_start_date)},set:function(e){this._suivi_start_date=void 0!==e?e.toJSON():void 0}},{key:"symptomes_start_date",get:function(){if(void 0!==this._symptomes_start_date)return new Date(this._symptomes_start_date)},set:function(e){this._symptomes_start_date=void 0!==e?e.toJSON():void 0}},{key:"depistage_start_date",get:function(){if(void 0!==this._depistage_start_date)return new Date(this._depistage_start_date)},set:function(e){this._depistage_start_date=void 0!==e?e.toJSON():void 0}},{key:"covid_passee_date",get:function(){if(void 0!==this._covid_passee_date)return new Date(this._covid_passee_date)},set:function(e){this._covid_passee_date=void 0!==e?e.toJSON():void 0}},{key:"deconfinement_date",get:function(){if(void 0!==this._deconfinement_date)return new Date(this._deconfinement_date)},set:function(e){this._deconfinement_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_start_date",get:function(){if(void 0!==this._questionnaire_start_date)return new Date(this._questionnaire_start_date)},set:function(e){this._questionnaire_start_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_completion_date",get:function(){if(void 0!==this._questionnaire_completion_date)return new Date(this._questionnaire_completion_date)},set:function(e){this._questionnaire_completion_date=void 0!==e?e.toJSON():void 0}},{key:"resetSuivi",value:function(){this._suivi_start_date=void 0,this._deconfinement_date=void 0,this.suivi=[]}},{key:"resetData",value:function(e){this.nom=e,this.departement=void 0,this.activite_pro=void 0,this.activite_pro_sante=void 0,this.foyer_autres_personnes=void 0,this.foyer_enfants=void 0,this.age=void 0,this.grossesse_3e_trimestre=void 0,this.poids=void 0,this.taille=void 0,this.antecedent_cardio=void 0,this.antecedent_diabete=void 0,this.antecedent_respi=void 0,this.antecedent_dialyse=void 0,this.antecedent_greffe=void 0,this.antecedent_cancer=void 0,this.antecedent_immunodep=void 0,this.antecedent_cirrhose=void 0,this.antecedent_drepano=void 0,this.antecedent_trisomie=void 0,this.antecedent_chronique_autre=void 0,this.symptomes_actuels=void 0,this.symptomes_actuels_temperature=void 0,this.symptomes_actuels_temperature_inconnue=void 0,this.symptomes_actuels_toux=void 0,this.symptomes_actuels_odorat=void 0,this.symptomes_actuels_douleurs=void 0,this.symptomes_actuels_diarrhee=void 0,this.symptomes_actuels_fatigue=void 0,this.symptomes_actuels_alimentation=void 0,this.symptomes_actuels_souffle=void 0,this.symptomes_actuels_autre=void 0,this.symptomes_passes=void 0,this.contact_a_risque=void 0,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0,this._symptomes_start_date=void 0,this.depistage=void 0,this.depistage_type=void 0,this.depistage_resultat=void 0,this.depistage_variante=void 0,this._depistage_start_date=void 0,this.vaccins=void 0,this.covid_passee=void 0,this._covid_passee_date=void 0,this.suivi_active=!1,this.resetSuivi(),this.questionnaire_started=!1,this.questionnaire_completed=!1,this._questionnaire_start_date=void 0,this._questionnaire_completion_date=void 0}},{key:"fillData",value:function(e){this.departement=e.departement,this.activite_pro=e.activite_pro,this.activite_pro_sante=e.activite_pro_sante,void 0!==e.foyer_autres_personnes?this.foyer_autres_personnes=e.foyer_autres_personnes:this.foyer_autres_personnes=e.foyer_enfants,this.foyer_enfants=e.foyer_enfants,this.age=e.age,this.grossesse_3e_trimestre=e.grossesse_3e_trimestre,this.poids=e.poids,this.taille=e.taille,this.antecedent_cardio=e.antecedent_cardio,this.antecedent_diabete=e.antecedent_diabete,this.antecedent_respi=e.antecedent_respi,this.antecedent_dialyse=e.antecedent_dialyse,this.antecedent_greffe=e.antecedent_greffe,this.antecedent_cancer=e.antecedent_cancer,this.antecedent_immunodep=e.antecedent_immunodep,this.antecedent_cirrhose=e.antecedent_cirrhose,this.antecedent_drepano=e.antecedent_drepano,this.antecedent_trisomie=e.antecedent_trisomie,this.antecedent_chronique_autre=e.antecedent_chronique_autre,this.symptomes_actuels=e.symptomes_actuels,this.symptomes_actuels_temperature=e.symptomes_actuels_temperature,this.symptomes_actuels_temperature_inconnue=e.symptomes_actuels_temperature_inconnue,this.symptomes_actuels_toux=e.symptomes_actuels_toux,this.symptomes_actuels_odorat=e.symptomes_actuels_odorat,this.symptomes_actuels_douleurs=e.symptomes_actuels_douleurs,this.symptomes_actuels_diarrhee=e.symptomes_actuels_diarrhee,this.symptomes_actuels_fatigue=e.symptomes_actuels_fatigue,this.symptomes_actuels_alimentation=e.symptomes_actuels_alimentation,this.symptomes_actuels_souffle=e.symptomes_actuels_souffle,this.symptomes_actuels_autre=e.symptomes_actuels_autre,this.symptomes_passes=e.symptomes_passes,this.contact_a_risque=e.contact_a_risque,this.contact_a_risque_meme_lieu_de_vie=e.contact_a_risque_meme_lieu_de_vie,this.contact_a_risque_contact_direct=e.contact_a_risque_contact_direct,this.contact_a_risque_actes=e.contact_a_risque_actes,this.contact_a_risque_espace_confine=e.contact_a_risque_espace_confine,this.contact_a_risque_tousse_eternue=e.contact_a_risque_tousse_eternue,this.contact_a_risque_meme_classe=e.contact_a_risque_meme_classe,this.contact_a_risque_stop_covid=e.contact_a_risque_stop_covid,this.contact_a_risque_assurance_maladie=e.contact_a_risque_assurance_maladie,this.contact_a_risque_autre=e.contact_a_risque_autre,this.contact_a_risque_variante=e.contact_a_risque_variante,this.depistage=e.depistage,this.depistage_type=e.depistage_type,this.depistage_resultat=e.depistage_resultat,this.depistage_variante=e.depistage_variante,this._depistage_start_date=e._depistage_start_date,this.vaccins=e.vaccins,this.covid_passee=e.covid_passee,this._covid_passee_date=e._covid_passee_date,this._suivi_start_date=e._suivi_start_date,this._symptomes_start_date=e._symptomes_start_date,this._deconfinement_date=e._deconfinement_date,this.suivi_active=e.suivi_active||!1,this.suivi=e.suivi||[],this.fillQuestionnaireStarted(e.questionnaire_started),this.fillQuestionnaireCompleted(e.questionnaire_completed),this.fillQuestionnaireStartDate(e._questionnaire_start_date),this.fillQuestionnaireCompletionDate(e._questionnaire_completion_date)}},{key:"fillQuestionnaireStarted",value:function(e){this.questionnaire_started=void 0!==e?e:!this.isEmpty()}},{key:"fillQuestionnaireCompleted",value:function(e){this.questionnaire_completed=void 0!==e?e:this.isComplete()}},{key:"fillQuestionnaireStartDate",value:function(e){void 0!==e?this._questionnaire_start_date=e:this.questionnaire_start_date=this.questionnaire_started?new Date:void 0}},{key:"fillQuestionnaireCompletionDate",value:function(e){void 0!==e?this._questionnaire_completion_date=e:this.questionnaire_completion_date=this.questionnaire_completed?new Date:void 0}},{key:"fillContactARisque",value:function(e){this.contact_a_risque=e,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0}},{key:"fillTestData",value:function(e,t,s){var i={symptomes_actuels:!1,symptomes_actuels_temperature:!1,symptomes_actuels_temperature_inconnue:!1,symptomes_actuels_toux:!1,symptomes_actuels_odorat:!1,symptomes_actuels_douleurs:!1,symptomes_actuels_diarrhee:!1,symptomes_actuels_fatigue:!1,symptomes_actuels_alimentation:!1,symptomes_actuels_souffle:!1,symptomes_actuels_autre:!1,symptomes_passes:!1,contact_a_risque:!1,contact_a_risque_meme_lieu_de_vie:!1,contact_a_risque_contact_direct:!1,contact_a_risque_actes:!1,contact_a_risque_espace_confine:!1,contact_a_risque_tousse_eternue:!1,contact_a_risque_meme_classe:!1,contact_a_risque_stop_covid:!1,contact_a_risque_assurance_maladie:!1,contact_a_risque_autre:!1,contact_a_risque_variante:"aucune",depistage:!1,depistage_type:"",depistage_resultat:"",depistage_variante:"aucune",vaccins:!1,covid_passee:!1,departement:"34",activite_pro:!1,activite_pro_sante:!1,foyer_autres_personnes:!1,foyer_enfants:!1,age:42,grossesse_3e_trimestre:!1,poids:"70",taille:"178",antecedent_cardio:!1,antecedent_diabete:!1,antecedent_respi:!1,antecedent_dialyse:!1,antecedent_greffe:!1,antecedent_cancer:!1,antecedent_immunodep:!1,antecedent_cirrhose:!1,antecedent_drepano:!1,antecedent_trisomie:!1,antecedent_chronique_autre:!1};return"Positif"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="positif",i._depistage_start_date=new Date().toJSON()):"N\xE9gatif"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="negatif",i._depistage_start_date=new Date().toJSON()):"En attente"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="en_attente",i._depistage_start_date=new Date().toJSON()):"Pas test\xE9"==e||console.error("Situation de d\xE9pistage inconnue"),"Sympt\xF4mes actuels graves"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_souffle=!0,i._symptomes_start_date=ea(3).toJSON()):"Sympt\xF4mes actuels"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_diarrhee=!0,i._symptomes_start_date=ea(3).toJSON()):"Sympt\xF4mes actuels non \xE9vocateurs"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_autre=!0):"Sympt\xF4mes pass\xE9s"===t?(i.symptomes_passes=!0,i._symptomes_start_date=ea(3).toJSON()):"Contact \xE0 risque"===t?(i.contact_a_risque=!0,i.contact_a_risque_meme_lieu_de_vie=!0):"Contact pas vraiment \xE0 risque"===t?(i.contact_a_risque=!0,i.contact_a_risque_autre=!0):"Rien de tout \xE7a"===t||console.error("Situation symptomatique inconnue"),s&&(i.age=70),this.fillData(i)}},{key:"getData",value:function(){return{departement:this.departement,activite_pro:this.activite_pro,activite_pro_sante:this.activite_pro_sante,foyer_autres_personnes:this.foyer_autres_personnes,foyer_enfants:this.foyer_enfants,age:this.age,grossesse_3e_trimestre:this.grossesse_3e_trimestre,poids:this.poids,taille:this.taille,antecedent_cardio:this.antecedent_cardio,antecedent_diabete:this.antecedent_diabete,antecedent_respi:this.antecedent_respi,antecedent_dialyse:this.antecedent_dialyse,antecedent_greffe:this.antecedent_greffe,antecedent_cancer:this.antecedent_cancer,antecedent_immunodep:this.antecedent_immunodep,antecedent_cirrhose:this.antecedent_cirrhose,antecedent_drepano:this.antecedent_drepano,antecedent_trisomie:this.antecedent_trisomie,antecedent_chronique_autre:this.antecedent_chronique_autre,symptomes_actuels:this.symptomes_actuels,symptomes_actuels_temperature:this.symptomes_actuels_temperature,symptomes_actuels_temperature_inconnue:this.symptomes_actuels_temperature_inconnue,symptomes_actuels_toux:this.symptomes_actuels_toux,symptomes_actuels_odorat:this.symptomes_actuels_odorat,symptomes_actuels_douleurs:this.symptomes_actuels_douleurs,symptomes_actuels_diarrhee:this.symptomes_actuels_diarrhee,symptomes_actuels_fatigue:this.symptomes_actuels_fatigue,symptomes_actuels_alimentation:this.symptomes_actuels_alimentation,symptomes_actuels_souffle:this.symptomes_actuels_souffle,symptomes_actuels_autre:this.symptomes_actuels_autre,symptomes_passes:this.symptomes_passes,contact_a_risque:this.contact_a_risque,contact_a_risque_meme_lieu_de_vie:this.contact_a_risque_meme_lieu_de_vie,contact_a_risque_contact_direct:this.contact_a_risque_contact_direct,contact_a_risque_actes:this.contact_a_risque_actes,contact_a_risque_espace_confine:this.contact_a_risque_espace_confine,contact_a_risque_tousse_eternue:this.contact_a_risque_tousse_eternue,contact_a_risque_meme_classe:this.contact_a_risque_meme_classe,contact_a_risque_stop_covid:this.contact_a_risque_stop_covid,contact_a_risque_assurance_maladie:this.contact_a_risque_assurance_maladie,contact_a_risque_autre:this.contact_a_risque_autre,contact_a_risque_variante:this.contact_a_risque_variante,depistage:this.depistage,depistage_type:this.depistage_type,depistage_resultat:this.depistage_resultat,depistage_variante:this.depistage_variante,_depistage_start_date:this._depistage_start_date,vaccins:this.vaccins,covid_passee:this.covid_passee,_covid_passee_date:this._covid_passee_date,suivi_active:this.suivi_active,_suivi_start_date:this._suivi_start_date,_symptomes_start_date:this._symptomes_start_date,_deconfinement_date:this._deconfinement_date,suivi:this.suivi,questionnaire_started:this.questionnaire_started,questionnaire_completed:this.questionnaire_completed,_questionnaire_start_date:this._questionnaire_start_date,_questionnaire_completion_date:this._questionnaire_completion_date}}},{key:"isEmpty",value:function(){return void 0===this.departement&&void 0===this.activite_pro&&void 0===this.activite_pro_sante&&void 0===this.foyer_autres_personnes&&void 0===this.foyer_enfants&&void 0===this.age&&void 0===this.grossesse_3e_trimestre&&void 0===this.poids&&void 0===this.taille&&void 0===this.antecedent_cardio&&void 0===this.antecedent_diabete&&void 0===this.antecedent_respi&&void 0===this.antecedent_dialyse&&void 0===this.antecedent_greffe&&void 0===this.antecedent_cancer&&void 0===this.antecedent_immunodep&&void 0===this.antecedent_cirrhose&&void 0===this.antecedent_drepano&&void 0===this.antecedent_trisomie&&void 0===this.antecedent_chronique_autre&&void 0===this.symptomes_actuels&&void 0===this.symptomes_passes&&void 0===this.contact_a_risque&&void 0===this.depistage&&void 0===this.vaccins&&void 0===this.covid_passee}},{key:"isAntecedentsComplete",value:function(){return void 0!==this.antecedent_cardio&&void 0!==this.antecedent_diabete&&void 0!==this.antecedent_respi&&void 0!==this.antecedent_dialyse&&void 0!==this.antecedent_greffe&&void 0!==this.antecedent_cancer&&void 0!==this.antecedent_immunodep&&void 0!==this.antecedent_cirrhose&&void 0!==this.antecedent_drepano&&void 0!==this.antecedent_trisomie&&void 0!==this.antecedent_chronique_autre}},{key:"isCaracteristiquesComplete",value:function(){return void 0!==this.age&&void 0!==this.grossesse_3e_trimestre&&void 0!==this.poids&&void 0!==this.taille}},{key:"isSanteComplete",value:function(){return this.isAntecedentsComplete()&&this.isCaracteristiquesComplete()}},{key:"isSituationComplete",value:function(){return void 0!==this.departement&&void 0!==this.foyer_autres_personnes&&void 0!==this.foyer_enfants&&void 0!==this.activite_pro&&void 0!==this.activite_pro_sante}},{key:"isSymptomesComplete",value:function(){return this._isSymptomesActuelsComplete()&&this._isSymptomesPassesComplete()&&this._isDebutSymptomesComplete()}},{key:"_isSymptomesActuelsComplete",value:function(){return void 0!==this.symptomes_actuels}},{key:"_isSymptomesPassesComplete",value:function(){return void 0!==this.symptomes_passes}},{key:"_isDebutSymptomesComplete",value:function(){return!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes||this.hasSymptomesStartDate()}},{key:"isContactARisqueComplete",value:function(){return void 0!==this.contact_a_risque||void 0!==this.contact_a_risque_stop_covid||void 0!==this.contact_a_risque_assurance_maladie}},{key:"isDepistageComplete",value:function(){return void 0!==this.depistage&&(!0!==this.depistage||void 0!==this._depistage_start_date)}},{key:"isVaccinsComplete",value:function(){return void 0!==this.vaccins}},{key:"isHistoriqueComplete",value:function(){return void 0!==this.covid_passee&&(!0!==this.covid_passee||void 0!==this._covid_passee_date)}},{key:"isComplete",value:function(){return this.isSituationComplete()&&this.isSanteComplete()&&this.isSymptomesComplete()&&this.isContactARisqueComplete()&&this.isDepistageComplete()&&this.isVaccinsComplete()&&this.isHistoriqueComplete()&&this._isDebutSymptomesComplete()}},{key:"_hasCovidPlus",value:function(e){return!!this.covid_passee&&wd(this.covid_passee_date,new Date)>30*e}},{key:"hasCovidPlus3Mois",value:function(){return this._hasCovidPlus(3)}},{key:"hasCovidPlus6Mois",value:function(){return this._hasCovidPlus(6)}},{key:"hasSymptomesActuelsReconnus",value:function(){return this.symptomes_actuels&&!this.symptomes_actuels_autre}},{key:"hasContactARisqueReconnus",value:function(){return this.contact_a_risque&&!this.contact_a_risque_autre||this.contact_a_risque_stop_covid||this.contact_a_risque_assurance_maladie}},{key:"hasSuiviStartDate",value:function(){return void 0!==this._suivi_start_date}},{key:"hasSymptomesStartDate",value:function(){return void 0!==this._symptomes_start_date}},{key:"hasDeconfinementDate",value:function(){return void 0!==this._deconfinement_date}},{key:"hasHistorique",value:function(){return this.suivi.length}},{key:"ajouterEtat",value:function(e){this.suivi.push(e)}},{key:"dernierEtat",value:function(){return this.hasHistorique()?this.suivi.slice(-1)[0]:{}}},{key:"suiviDerniersJours",value:function(e){return this.suivi.filter(function(t){return new Date(t.date)>ea(e)})}},{key:"suiviAujourdhui",value:function(){return this.suiviDerniersJours(1).length>=1}},{key:"suiviEntre",value:function(e,t){return this.suivi.filter(function(s){var i=new Date(s.date);return i>e&&i<=t})}},{key:"requiertSuivi",value:function(){return this.isDepistageComplete()&&(this.depistagePositifRecent()||this.depistageEnAttenteRecent()||this.sansDepistage()&&this.hasSymptomesActuelsReconnus()||this.sansDepistage()&&this.symptomes_passes)}},{key:"joursEcoulesDepuisDepistage",value:function(){if(void 0!==this.depistage_start_date)return wd(this.depistage_start_date,new Date)}},{key:"depistagePositifRecent",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<Fg}},{key:"depistagePositifObsolete",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()>=Fg}},{key:"depistageNegatifRecent",value:function(){return!0===this.depistage&&"negatif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<Eg}},{key:"depistageNegatifObsolete",value:function(){return!0===this.depistage&&"negatif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()>=Eg}},{key:"depistageEnAttenteRecent",value:function(){return!0===this.depistage&&"en_attente"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<ek}},{key:"sansDepistage",value:function(){return!1===this.depistage}},{key:"depistageNegatifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistageNegatifRecent()}},{key:"depistagePositifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistagePositifRecent()}},{key:"depistagePositifRecentAsymptomatique",value:function(){return this.depistagePositifRecent()&&!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes}},{key:"estMonProfil",value:function(){return"mes_infos"==this.nom}},{key:"affichageNom",value:function(){return this.estMonProfil()?"Moi":this.nom}},{key:"renderNom",value:function(){return Na(Xj||(Xj=Ib(["<h3><span class=\"profil\">","</span></h3>"])),this.affichageNom())}},{key:"renderButtons",value:function(e){var t=this.estMonProfil()?"mon":"son",s=this.estMonProfil()?"mes":"ses",i="";if(this.isComplete()||this.suivi_active){if(this.suivi_active){var a=this.hasSuiviStartDate()&&this.hasHistorique()?"Continuer":"D\xE9marrer";i+=Na(Yj||(Yj=Ib(["\n                    <a class=\"button suivi-link\"\n                        data-set-profil=\"","\" href=\"#suiviintroduction\"\n                        >"," "," suivi</a>\n                "])),this.nom,a,t)}var _=this.estMonProfil()&&!this.suivi_active?"":"button-outline";i+=Na(Zj||(Zj=Ib(["\n                <a class=\"button "," conseils-link\"\n                    data-set-profil=\"","\" href=\"#conseils\"\n                    >Voir "," conseils</a>\n            "])),_,this.nom,s)}else{var n=this.isEmpty()?"D\xE9marrer":"Continuer";i=Na($j||($j=Ib(["\n                <a class=\"button button-full-width conseils-link\"\n                    data-set-profil=\"","\" href=\"#","\"\n                    >","</a>\n            "])),this.nom,e.firstPage,n)}return i+Na(_j||(_j=Ib(["\n            <a data-set-profil=\"","\" href=\"#","\"\n                >Modifier "," r\xE9ponses</a>\n            <a data-delete-profil=\"","\" href=\"\" role=\"button\"\n                >Supprimer "," profil</a>\n            "])),this.nom,e.firstPage,s,this.nom,t)}},{key:"renderCard",value:function(e){return Hb("\n        <li class=\"card\">\n            ".concat(this.renderNom(),"\n            <div>").concat(this.renderButtons(e),"</div>\n        </li>\n        "))}}]),e}();function fk(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gg(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function gk(e,r,n){return r&&Gg(e.prototype,r),n&&Gg(e,n),e}var yd,Ja={};!function(e){if("object"==typeof Ja)Ja=e();else if("function"==typeof yd&&yd.amd)yd([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof Ka?Ka:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function e(n,r,t){function o(a,u){if(!r[a]){if(!n[a]){var c=require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[a]={exports:{}};n[a][0].call(s.exports,function(e){var r=n[a][1][e];return o(r||e)},s,s.exports,e,n,r,t)}return r[a].exports}for(var i=require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(e,n,r){(function(e){var r,t,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(s),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){s(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(s,0)};else{var c=new e.MessageChannel;c.port1.onmessage=s,r=function(){c.port2.postMessage(0)}}var f=[];function s(){var e,n;t=!0;for(var r=f.length;r;){for(n=f,f=[],e=-1;++e<r;)n[e]();r=f.length}t=!1}n.exports=function(e){1!==f.push(e)||t||r()}}).call(this,"undefined"!=typeof Ka?Ka:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,r){var t=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&v(this,e)}function s(e,n,r){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(e,n,r){t(function(){var t;try{t=n(r)}catch(o){return i.reject(e,o)}t===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,t)})}function d(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function v(e,n){var r=!1;function t(n){r||(r=!0,i.reject(e,n))}function o(n){r||(r=!0,i.resolve(e,n))}var a=h(function(){n(o,t)});"error"===a.status&&t(a.value)}function h(e,n){var r={};try{r.value=e(n),r.status="success"}catch(t){r.status="error",r.value=t}return r}n.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,n){if("function"!=typeof e&&this.state===u||"function"!=typeof n&&this.state===a)return this;var r=new this.constructor(o);this.state!==c?l(r,this.state===u?e:n,this.outcome):this.queue.push(new s(r,e,n));return r},s.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){i.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,n){var r=h(d,n);if("error"===r.status)return i.reject(e,r.value);var t=r.value;if(t)v(e,t);else{e.state=u,e.outcome=n;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(n)}return e},i.reject=function(e,n){e.state=a,e.outcome=n;for(var r=-1,t=e.queue.length;++r<t;)e.queue[r].callRejected(n);return e},f.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(o),e)},f.reject=function(e){var n=new this(o);return i.reject(n,e)},f.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,t=!1;if(!r)return this.resolve([]);var a=new Array(r),u=0,c=-1,f=new this(o);for(;++c<r;)s(e[c],c);return f;function s(e,o){n.resolve(e).then(function(e){a[o]=e,++u!==r||t||(t=!0,i.resolve(f,a))},function(e){t||(t=!0,i.reject(f,e))})}},f.race=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,t=!1;if(!r)return this.resolve([]);var a=-1,u=new this(o);for(;++a<r;)c=e[a],n.resolve(c).then(function(e){t||(t=!0,i.resolve(u,e))},function(e){t||(t=!0,i.reject(u,e))});var c;return u}},{1:1}],3:[function(e,n,r){(function(n){"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof Ka?Ka:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,r){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),t=0;t<e.length;t+=1)r.append(e[t]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function u(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function c(e,n,r){"function"==typeof n&&e.then(n),"function"==typeof r&&e.catch(r)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",d=void 0,v={},h=Object.prototype.toString,y="readonly",p="readwrite";function b(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a(function(n){var r=e.transaction(l,p),t=i([""]);r.objectStore(l).put(t,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return d=e})}function m(e){var n=v[e.name],r={};r.promise=new a(function(e,n){r.resolve=e,r.reject=n}),n.deferredOperations.push(r),n.dbReady?n.dbReady=n.dbReady.then(function(){return r.promise}):n.dbReady=r.promise}function g(e){var n=v[e.name].deferredOperations.pop();if(n)return n.resolve(),n.promise}function _(e,n){var r=v[e.name].deferredOperations.pop();if(r)return r.reject(n),r.promise}function w(e,n){return new a(function(r,t){if(v[e.name]=v[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!n)return r(e.db);m(e),e.db.close()}var i=[e.name];n&&i.push(e.version);var a=o.open.apply(o,i);n&&(a.onupgradeneeded=function(n){var r=a.result;try{r.createObjectStore(e.storeName),n.oldVersion<=1&&r.createObjectStore(l)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn("The database \""+e.name+"\" has been upgraded from version "+n.oldVersion+" to version "+n.newVersion+", but the storage \""+e.storeName+"\" already exists.")}}),a.onerror=function(e){e.preventDefault(),t(a.error)},a.onsuccess=function(){r(a.result),g(e)}})}function I(e){return w(e,!1)}function S(e){return w(e,!0)}function E(e,n){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),t=e.version<e.db.version,o=e.version>e.db.version;if(t&&(e.version!==n&&console.warn("The database \""+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function N(e){return i([function(e){for(var n=e.length,r=new ArrayBuffer(n),t=new Uint8Array(r),o=0;o<n;o++)t[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function A(e){var n=this,r=n._initReady().then(function(){var e=v[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(r,e,e),r}function R(e,n,r,t){void 0===t&&(t=1);try{var o=e.db.transaction(e.storeName,n);r(null,o)}catch(i){if(t>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)}).then(function(){return function(e){m(e);for(var n=v[e.name],r=n.forages,t=0;t<r.length;t++){var o=r[t];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,I(e).then(function(n){return e.db=n,E(e)?S(e):n}).then(function(t){e.db=n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t}).catch(function(n){throw _(e,n),n})}(e).then(function(){R(e,n,r,t-1)})}).catch(r);r(i)}}var O={_driver:"asyncStorage",_initStorage:function(e){var n=this,r={db:null};if(e)for(var t in e)r[t]=e[t];var o=v[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},v[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=A);var i=[];function u(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var f=o.forages[c];f!==n&&i.push(f._initReady().catch(u))}var s=o.forages.slice(0);return a.all(i).then(function(){return r.db=o.db,I(r)}).then(function(e){return r.db=e,E(r,n._defaultConfig.version)?S(r):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<s.length;t++){var i=s[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(r){return!1}}(),iterate:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var t=r.value;j(t)&&(t=N(t));var o=e(t,r.key,u++);void 0!==o?n(o):r.continue()}else n()},a.onerror=function(){t(a.error)}}catch(c){t(c)}})}).catch(t)});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),j(e)&&(e=N(e)),n(e)},a.onerror=function(){t(a.error)}}catch(u){t(u)}})}).catch(t)});return u(t,n),t},setItem:function(e,n,r){var t=this;e=f(e);var o=new a(function(r,o){var i;t.ready().then(function(){return i=t._dbInfo,"[object Blob]"===h.call(n)?b(i.db).then(function(e){return e?n:(r=n,new a(function(e,n){var t=new FileReader;t.onerror=n,t.onloadend=function(n){var t=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:t,type:r.type})},t.readAsBinaryString(r)}));var r}):n}).then(function(n){R(t._dbInfo,p,function(i,a){if(i)return o(i);try{var u=a.objectStore(t._dbInfo.storeName);null===n&&(n=void 0);var c=u.put(n,e);a.oncomplete=function(){void 0===n&&(n=null),r(n)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(f){o(f)}})}).catch(o)});return u(o,r),o},removeItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,p,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(e);i.oncomplete=function(){n()},i.onerror=function(){t(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;t(e)}}catch(u){t(u)}})}).catch(t)});return u(t,n),t},clear:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,p,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(a){r(a)}})}).catch(r)});return u(r,e),r},length:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,y,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}})}).catch(r)});return u(r,e),r},key:function(e,n){var r=this,t=new a(function(n,t){e<0?n(null):r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,c=a.openCursor();c.onsuccess=function(){var r=c.result;r?0===e?n(r.key):u?n(r.key):(u=!0,r.advance(e)):n(null)},c.onerror=function(){t(c.error)}}catch(f){t(f)}})}).catch(t)});return u(t,n),t},keys:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,y,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var n=i.result;n?(a.push(n.key),n.continue()):e(a)},i.onerror=function(){r(i.error)}}catch(u){r(u)}})}).catch(r)});return u(r,e),r},dropInstance:function(e,n){n=s.apply(this,arguments);var r,t=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName),e.name){var i=e.name===t.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):I(e).then(function(n){var r=v[e.name],t=r.forages;r.db=n;for(var o=0;o<t.length;o++)t[o]._dbInfo.db=n;return n});r=e.storeName?i.then(function(n){if(n.objectStoreNames.contains(e.storeName)){var r=n.version+1;m(e);var t=v[e.name],i=t.forages;n.close();for(var u=0;u<i.length;u++){var c=i[u];c._dbInfo.db=null,c._dbInfo.version=r}return new a(function(n,t){var i=o.open(e.name,r);i.onerror=function(e){i.result.close(),t(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),n(e)}}).then(function(e){t.db=e;for(var n=0;n<i.length;n++){var r=i[n];r._dbInfo.db=e,g(r._dbInfo)}}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})}}):i.then(function(n){m(e);var r=v[e.name],t=r.forages;n.close();for(var i=0;i<t.length;i++)t[i]._dbInfo.db=null;return new a(function(n,r){var t=o.deleteDatabase(e.name);t.onerror=t.onblocked=function(e){var n=t.result;n&&n.close(),r(e)},t.onsuccess=function(){var e=t.result;e&&e.close(),n(e)}}).then(function(e){r.db=e;for(var n=0;n<t.length;n++)g(t[n]._dbInfo)}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})})}else r=a.reject("Invalid arguments");return u(r,n),r}};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",B=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",C=k.length,T="arbf",M="blob",F="si08",L="ui08",$="uic8",z="si16",P="si32",U="ur16",q="ui32",W="fl32",H="fl64",Q=C+T.length,K=Object.prototype.toString;function X(e){var n,r,t,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)r=D.indexOf(e[n]),t=D.indexOf(e[n+1]),o=D.indexOf(e[n+2]),i=D.indexOf(e[n+3]),s[c++]=r<<2|t>>4,s[c++]=(15&t)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function G(e){var n,r=new Uint8Array(e),t="";for(n=0;n<r.length;n+=3)t+=D[r[n]>>2],t+=D[(3&r[n])<<4|r[n+1]>>4],t+=D[(15&r[n+1])<<2|r[n+2]>>6],t+=D[63&r[n+2]];return r.length%3==2?t=t.substring(0,t.length-1)+"=":r.length%3==1&&(t=t.substring(0,t.length-2)+"=="),t}var J={serialize:function(e,n){var r="";if(e&&(r=K.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===K.call(e.buffer))){var t,o=k;e instanceof ArrayBuffer?(t=e,o+=T):(t=e.buffer,"[object Int8Array]"===r?o+=F:"[object Uint8Array]"===r?o+=L:"[object Uint8ClampedArray]"===r?o+=$:"[object Int16Array]"===r?o+=z:"[object Uint16Array]"===r?o+=U:"[object Int32Array]"===r?o+=P:"[object Uint32Array]"===r?o+=q:"[object Float32Array]"===r?o+=W:"[object Float64Array]"===r?o+=H:n(new Error("Failed to get type for BinaryArray"))),n(o+G(t))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=x+e.type+"~"+G(this.result);n(k+M+r)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),n(null,a)}},deserialize:function(e){if(e.substring(0,C)!==k)return JSON.parse(e);var n,r=e.substring(Q),t=e.substring(C,Q);if(t===M&&B.test(r)){var o=r.match(B);n=o[1],r=r.substring(o[0].length)}var a=X(r);switch(t){case T:return a;case M:return i([a],{type:n});case F:return new Int8Array(a);case L:return new Uint8Array(a);case $:return new Uint8ClampedArray(a);case z:return new Int16Array(a);case U:return new Uint16Array(a);case P:return new Int32Array(a);case q:return new Uint32Array(a);case W:return new Float32Array(a);case H:return new Float64Array(a);default:throw new Error("Unkown type: "+t);}},stringToBuffer:X,bufferToString:G};function V(e,n,r,t){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,t)}function Y(e,n,r,t,o,i){e.executeSql(r,t,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,u){u.rows.length?i(e,a):V(e,n,function(){e.executeSql(r,t,o,i)},i)},i):i(e,a)},i)}var Z={_driver:"webSQLStorage",_initStorage:function(e){var n=this,r={db:null};if(e)for(var t in e)r[t]="string"!=typeof e[t]?e[t].toString():e[t];var o=new a(function(e,t){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return t(o)}r.db.transaction(function(o){V(o,r,function(){n._dbInfo=r,e()},function(e,n){t(n)})},t)});return r.serializer=J,o},_support:"function"==typeof openDatabase,iterate:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT * FROM "+o.storeName,[],function(r,t){for(var i=t.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,c.key,u+1)))return void n(f)}n()},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var t=r.rows.length?r.rows.item(0).value:null;t&&(t=o.serializer.deserialize(t)),n(t)},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},setItem:function(e,n,r){return function e(n,r,t,o){var i=this;n=f(n);var c=new a(function(a,u){i.ready().then(function(){void 0===r&&(r=null);var c=r,f=i._dbInfo;f.serializer.serialize(r,function(r,s){s?u(s):f.db.transaction(function(e){Y(e,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[n,r],function(){a(c)},function(e,n){u(n)})},function(r){if(r.code===r.QUOTA_ERR){if(o>0)return void a(e.apply(i,[n,c,t,o-1]));u(r)}})})}).catch(u)});return u(c,t),c}.apply(this,[e,n,r,1])},removeItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},clear:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"DELETE FROM "+t.storeName,[],function(){e()},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},length:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(n,r){var t=r.rows.item(0).c;e(t)},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},key:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var t=r.rows.length?r.rows.item(0).key:null;n(t)},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},keys:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"SELECT key FROM "+t.storeName,[],function(n,r){for(var t=[],o=0;o<r.rows.length;o++)t.push(r.rows.item(o).key);e(t)},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},dropInstance:function(e,n){n=s.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var t,o=this;return u(t=e.name?new a(function(n){var t;t=e.name===r.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?n({db:t,storeNames:[e.storeName]}):n(function(e){return new a(function(n,r){e.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(r,t){for(var o=[],i=0;i<t.rows.length;i++)o.push(t.rows.item(i).name);n({db:e,storeNames:o})},function(e,n){r(n)})},function(e){r(e)})})}(t))}).then(function(e){return new a(function(n,r){e.db.transaction(function(t){function o(e){return new a(function(n,r){t.executeSql("DROP TABLE IF EXISTS "+e,[],function(){n()},function(e,n){r(n)})})}for(var i=[],u=0,c=e.storeNames.length;u<c;u++)i.push(o(e.storeNames[u]));a.all(i).then(function(){n()}).catch(function(e){r(e)})},function(e){r(e)})})}):a.reject("Invalid arguments"),n),t}};function ee(e,n){var r=e.name+"/";return e.storeName!==n.storeName&&(r+=e.storeName+"/"),r}function ne(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var re={_driver:"localStorageWrapper",_initStorage:function(e){var n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=ee(e,this._defaultConfig),ne()?(this._dbInfo=n,n.serializer=J,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,n){var r=this,t=r.ready().then(function(){for(var n=r._dbInfo,t=n.keyPrefix,o=t.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(t)){var f=localStorage.getItem(c);if(f&&(f=n.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),a++)))return f}}});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=r.ready().then(function(){var n=r._dbInfo,t=localStorage.getItem(n.keyPrefix+e);return t&&(t=n.serializer.deserialize(t)),t});return u(t,n),t},setItem:function(e,n,r){var t=this;e=f(e);var o=t.ready().then(function(){void 0===n&&(n=null);var r=n;return new a(function(o,i){var a=t._dbInfo;a.serializer.serialize(n,function(n,t){if(t)i(t);else try{localStorage.setItem(a.keyPrefix+e,n),o(r)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}})})});return u(o,r),o},removeItem:function(e,n){var r=this;e=f(e);var t=r.ready().then(function(){var n=r._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return u(t,n),t},clear:function(e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var t=localStorage.key(r);0===t.indexOf(e)&&localStorage.removeItem(t)}});return u(r,e),r},length:function(e){var n=this.keys().then(function(e){return e.length});return u(n,e),n},key:function(e,n){var r=this,t=r.ready().then(function(){var n,t=r._dbInfo;try{n=localStorage.key(e)}catch(o){n=null}return n&&(n=n.substring(t.keyPrefix.length)),n});return u(t,n),t},keys:function(e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=localStorage.length,t=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&t.push(i.substring(e.keyPrefix.length))}return t});return u(r,e),r},dropInstance:function(e,n){if(n=s.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var t,o=this;return u(t=e.name?new a(function(n){e.storeName?n(ee(e,o._defaultConfig)):n(e.name+"/")}).then(function(e){for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}):a.reject("Invalid arguments"),n),t}},te=function(e,n){for(var r,t,o=e.length,i=0;i<o;){if((r=e[i])===(t=n)||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t))return!0;i++}return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},ue={INDEXEDDB:O,WEBSQL:Z,LOCALSTORAGE:re},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],fe=["dropInstance"],se=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fe),le={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,n){e[n]=function(){var r=arguments;return e.ready().then(function(){return e[n].apply(e,r)})}}function ve(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&(oe(n[r])?arguments[0][r]=n[r].slice():arguments[0][r]=n[r])}return arguments[0]}var he=new(function(){function e(n){for(var r in function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(r)){var t=ue[r],o=t._driver;this[r]=o,ie[o]||this.defineDriver(t)}this._defaultConfig=ve({},le),this._config=ve({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":t(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e){if("storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof e[n])return new Error("Database version must be a number.");this._config[n]=e[n]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,r){var t=new a(function(n,r){try{var t=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var i=se.concat("_initStorage"),c=0,f=i.length;c<f;c++){var s=i[c];if((!te(fe,s)||e[s])&&"function"!=typeof e[s])return void r(o)}!function(){for(var n=function(e){return function(){var n=new Error("Method "+e+" is not implemented by the current driver"),r=a.reject(n);return u(r,arguments[arguments.length-1]),r}},r=0,t=fe.length;r<t;r++){var o=fe[r];e[o]||(e[o]=n(o))}}();var l=function(r){ie[t]&&console.info("Redefining LocalForage driver: "+t),ie[t]=e,ae[t]=r,n()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,r):l(!!e._support):l(!0)}catch(d){r(d)}});return c(t,n,r),t},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,r){var t=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return c(t,n,r),t},e.prototype.getSerializer=function(e){var n=a.resolve(J);return c(n,e),n},e.prototype.ready=function(e){var n=this,r=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return c(r,e,e),r},e.prototype.setDriver=function(e,n,r){var t=this;oe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){t._config.driver=t.driver()}function u(e){return t._extend(e),i(),t._ready=t._initStorage(t._config),t._ready}var f=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=f.then(function(){var e=o[0];return t._dbInfo=null,t._ready=null,t.getDriver(e).then(function(e){t._driver=e._driver,i(),t._wrapLibraryMethodsWithReady(),t._initDriver=function(e){return function(){var n=0;return function r(){for(;n<e.length;){var o=e[n];return n++,t._dbInfo=null,t._ready=null,t.getDriver(o).then(u).catch(r)}i();var c=new Error("No available storage method found.");return t._driverSet=a.reject(c),t._driverSet}()}}(o)})}).catch(function(){i();var e=new Error("No available storage method found.");return t._driverSet=a.reject(e),t._driverSet}),c(this._driverSet,n,r),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){ve(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],r=0,t=e.length;r<t;r++){var o=e[r];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,n=se.length;e<n;e++)de(this,se[e])},e.prototype.createInstance=function(n){return new e(n)},e}());n.exports=he},{3:3}]},{},[4])(4)});var hk=function(){function e(){fk(this,e)}return gk(e,[{key:"getProfilActuel",value:function(){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.getItem("profil")}},{key:"setProfilActuel",value:function(e){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.setItem("profil",e)}},{key:"unsetProfilActuel",value:function(){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.removeItem("profil")}},{key:"getProfil",value:function(e){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.getItem(e)}},{key:"getProfils",value:function(){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.keys().then(function(e){return e.filter(function(e){return"profil"!=e})}).then(function(e){return e.sort(function(e){return"mes_infos"!==e})})}},{key:"supprimerTout",value:function(){var e=this;return this.unsetProfilActuel().then(function(){return e.getProfils().then(function(r){return Promise.all(r.map(e._supprimer))})})}},{key:"supprimer",value:function(e){return this._supprimer(e).then(function(){console.debug("Les donn\xE9es personnelles ont \xE9t\xE9 supprim\xE9es (".concat(e,")"))}).catch(function(r){console.error("Erreur lors de la suppression des donn\xE9es personnelles (".concat(e,")")),console.error(r)})}},{key:"_supprimer",value:function(e){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.removeItem(e)}},{key:"charger",value:function(e){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.getItem(e.nom).then(function(r){return null!==r?e.fillData(r):e.resetData(),e}).catch(function(r){console.error("Erreur de chargement des donn\xE9es locales (".concat(e.nom,")")),console.error(r)})}},{key:"enregistrer",value:function(e){var $EM1A$$interop$default=va(Ja);return $EM1A$$interop$default.d.setItem(e.nom,e.getData()).then(function(r){console.debug("Les r\xE9ponses au questionnaire ont bien \xE9t\xE9 enregistr\xE9es (".concat(e.nom,")")),console.debug(r)}).catch(function(r){console.error("Les r\xE9ponses au questionnaire n\u2019ont pas pu \xEAtre enregistr\xE9es (".concat(e.nom,")")),console.error(r)})}}]),e}();function ik(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jk(e,t,o){return t&&Hg(e.prototype,t),o&&Hg(e,o),e}function kk(e,t){if(!e.isComplete())return t.checkPathTo("conseils",e)}function lk(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function mk(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function nk(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}var Ig=["vaccins","historique","symptomes","contactarisque","depistage","situation","sante"];var ok={nom:{previous:{introduction:function(){return!0}},next:{symptomes:function(e){return e.nom}}},vaccins:{previous:{introduction:function(){return!0}},next:{historique:function(e){return e.isVaccinsComplete()}}},historique:{previous:{vaccins:function(){return!0}},next:{symptomes:function(e){return e.isHistoriqueComplete()}}},symptomes:{previous:{historique:function(){return!0}},next:{depistage:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isSymptomesComplete()&&!e.hasSymptomesActuelsReconnus()&&!e.symptomes_passes}}},contactarisque:{previous:{symptomes:function(){return!0}},next:{depistage:function(e){return e.isContactARisqueComplete()}}},depistage:{previous:{symptomes:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isContactARisqueComplete()}},next:{situation:function(e){return e.isDepistageComplete()}}},situation:{previous:{depistage:function(e){return e.isDepistageComplete()}},next:{sante:function(e){return e.isSituationComplete()}}},sante:{previous:{situation:function(){return!0}},next:{conseils:function(e){return e.isSanteComplete()&&e.age>=15},pediatrie:function(e){return e.isSanteComplete()&&e.age<15}}},conseils:{},suivisymptomes:{previous:{conseils:function(){return!0}},next:{conseils:function(e){return e.isComplete()}}},suivihistorique:{previous:{conseils:function(){return!0}}}};var pk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ok,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ig;ik(this,e),this.transitions=t,this.ordre=o,this.total=o.length,this.firstPage=o[0]}return jk(e,[{key:"before",value:function(e,t){if(void 0!==this.transitions[e])return this.checkPathTo(e,t)}},{key:"checkPathTo",value:function(e,t){for(var o=this.firstPage,i=[o];o;){if(o===e)return void console.debug("success!");var n=this.nextPage(o,t);if(!n)break;if(i.indexOf(n)>-1)break;console.debug("next step: ".concat(n)),o=n,i.push(o)}console.debug("could not reach ".concat(e," via steps:"),i);var r=i[i.length-1];return console.debug("redirecting to ".concat(r)),r}},{key:"nextPage",value:function(e,t){return this.findNeighbor("next",e,t)}},{key:"previousPage",value:function(e,t){return this.findNeighbor("previous",e,t)}},{key:"findNeighbor",value:function(e,t,o){var i=this.transitions[t];if(void 0!==i&&void 0!==i[e]){var n;if(Object.keys(i[e]).forEach(function(t){var r=i[e][t];r(o)?(console.debug("matched predicate for ".concat(t,":"),r),n||(n=t)):console.debug("did not match predicate for ".concat(t,":"),r)}),n)return n;console.debug("no ".concat(e," reachable page for ").concat(t))}}},{key:"progress",value:function(e){var t,o=this.ordre.indexOf(e)+1;if(0===o)return"";var i=this.ordre.length-o;switch(i){case 0:t="C\u2019est la derni\xE8re \xE9tape\xA0!";break;case 1:t="Plus qu\u2019une \xE9tape\xA0!";break;default:t="Il vous reste ".concat(i," \xE9tapes.");}return t}}]),e}();function qk(e){var $vI6X$$interop$default=va(Ad);var i=new $vI6X$$interop$default.d(null,!0);function r(i,r){o(i,r,function(r){return e.questionnaire.before(i,r)})}function o(i,r,o){t(i,function(i){r(i,e)},o)}function t(r,o,t){i.on(new RegExp("^"+r+"$"),function(){var i=Tj(r,e);!function(i,r){var o=i.querySelector(".progress");o&&(o.innerText=e.questionnaire.progress(r));var t=i.querySelector("form .back-button, .form-controls .back-button");if(t){var n=e.questionnaire.previousPage(r,e.profil);n&&t.setAttribute("href","#".concat(n))}Array.from(i.querySelectorAll(".premiere-question")).forEach(function(i){i.setAttribute("href","#".concat(e.questionnaire.firstPage))})}(i,r),o(i),function(i){e.plausible("pageview"),e.atinternet(i)}(r);var t=i.parentElement;t.classList.remove("loading"),t.classList.add("ready")},{before:function(i){if(void 0!==t){var o=t(e.profil,e.questionnaire);o&&o!==r?(n(o),i(!1)):i()}else i()}})}function n(e){"undefined"!=typeof window&&window.history&&window.history.replaceState?(window.history.replaceState({},"","#".concat(e)),i.resolve()):i.navigate(e)}return"/"!==i.root.slice(-1)&&(i.root=i.root+"/"),i.hooks({before:function(i){var r=document.querySelector("header section");void 0===e.profil.nom?(da(r.querySelector(".js-profil-empty")),fa(r.querySelector(".js-profil-full"))):(da(r.querySelector(".js-profil-full")),fa(r.querySelector(".js-profil-empty")),wk(r.querySelector("#nom-profil-header"),e)),i()},after:function(){var e=ec();document.dispatchEvent(new CustomEvent("pageChanged",{detail:e}))}}),o("introduction",Mk),o("nom",Sk),r("vaccins",Yk),r("historique",$k),r("symptomes",_k),r("contactarisque",ll),r("depistage",kl),r("situation",nl),r("sante",tl),o("conseils",Dl,kk),o("suiviintroduction",Ol,lk),o("suivisymptomes",_l,mk),o("suivihistorique",dm,nk),t("pediatrie",function(i){e.profil.isComplete()&&(da(i.querySelector(".js-profil-full")),fa(i.querySelector(".js-profil-empty")))}),t("conditionsutilisation",function(i){e.profil.isComplete()&&(da(i.querySelector(".js-profil-full")),fa(i.querySelector(".js-profil-empty")))}),t("nouvelleversiondisponible",function(r){var o=i.lastRouteResolved(),t=new URLSearchParams(o.query).get("origine");Rk(r,e,t)}),i.on(new RegExp("^(symptomesactuels|symptomespasses|debutsymptomes)$"),function(){},{before:function(e){n("symptomes"),e(!1)}}),i.on(new RegExp("^(residence|foyer|activitepro)$"),function(){},{before:function(e){n("situation"),e(!1)}}),i.on(new RegExp("^(caracteristiques|antecedents)$"),function(){},{before:function(e){n("sante"),e(!1)}}),i.notFound(function(){n("introduction")}),i}var zd,Ad={};!function(e,t){"object"==typeof Ad?Ad=t():"function"==typeof zd&&zd.amd?zd(t):e.Navigo=t()}(Ad,function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function t(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function n(e,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?"#":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&t(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",e?this.root=n?e.replace(/\/$/,"/"+this._hash):e.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function o(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"^/")}function i(e){return e.replace(/\/$/,"").split("/").length}function s(e,t){return i(t)-i(e)}function r(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var i=function(e){var t=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(n.PARAMETER_REGEXP,function(e,o,i){return t.push(i),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:t}}(o(t.route)),s=i.regexp,r=i.paramNames,a=e.replace(/^\/+/,"/").match(s),h=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}(a,r);return!!a&&{match:a,route:t,params:h}}).filter(function(e){return e})}(e,t)[0]||!1}function a(e,t){var n=t.map(function(t){return""===t.route||"*"===t.route?e:e.split(new RegExp(t.route+"($|/)"))[0]}),i=o(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:i}function h(e,n,o){var i,s=function(e){return e.split(/\?(.*)?$/)[0]};return void 0===o&&(o="#"),t()&&!n?s(e).split(o)[0]:(i=e.split(o)).length>1?s(i[1]):s(i[0])}function u(t,n,o){if(n&&"object"===(void 0===n?"undefined":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}return n.prototype={helpers:{match:r,root:a,clean:o,getOnlyURL:h},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(e=e.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+e),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2){if("/"===o[0]){var r=o[1];"object"===e(o[1])&&(r=o[1].uses),this._defaultHandler={handler:r,hooks:o[2]}}else this._add(o[0],o[1],o[2]);}else"object"===e(o[0])&&Object.keys(o[0]).sort(s).forEach(function(e){t.on(e,o[0][e])});return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var n,o,i=this,s=(e||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(s=s.replace(new RegExp("^/"+this._hash),"/"));var a=function(e){return e.split(/\?(.*)?$/).slice(1).join("")}(e||this._cLoc()),l=h(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&a===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=r(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:a,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,u(function(){u(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,a)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(""===l||"/"===l||l===this._hash||function(e,n,o){if(t()&&!n)return!1;if(!e.match(o))return!1;var i=e.split(o);return i.length<2||""===i[1]}(l,this._useHash,this._hash))?(u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(a)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(a)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var e=this;"undefined"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener("click",function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\/+$/,"").replace(/^\/+/,"/")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===e)for(i in n=o.route,t)n=n.toString().replace(":"+i,t[i]);return n},"");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){t()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute("href")},hooks:function(e){this._genericHooks=e},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof t&&(t=encodeURI(t)),this._routes.push("object"===(void 0===n?"undefined":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc().split("?")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},n.PARAMETER_REGEXP=/([:*])(\w+)/g,n.WILDCARD_REGEXP=/\*/g,n.REPLACE_VARIABLE_REGEXP="([^/]+)",n.REPLACE_WILDCARD="(?:.*)",n.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",n.MATCH_REGEXP_FLAGS="",n});function rk(e){return vk(e)||uk(e)||tk(e)||sk()}function sk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tk(e,t){if(e){if("string"==typeof e)return Bd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bd(e,t):void 0}}function uk(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vk(e){if(Array.isArray(e))return Bd(e)}function Bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wk(e,t){e&&(e.textContent=t.profil.affichageNom())}function xk(e,t){if(e){var r=t.estMonProfil()?"Mes conseils":"Conseils pour \xAB\xA0".concat(t.nom,"\xA0\xBB");e.textContent=r}}function yk(e){if(e){var t=new Date,r=t.toISOString().substring(0,10),n=t.toLocaleDateString();e.innerHTML="au <time datetime=\"".concat(r,"\">").concat(n,"</time>")}}function zk(e,t){e.textContent=Lg[t]||"Inconnu"}function Ak(e,t){e.setAttribute("href",Jk[t])}function Bk(e,t){var r=Kk[t],n=Lk[t];if(""!==r||""!==n){var i=[];r&&i.push(" au <a href=\"tel:".concat(r,"\" style=\"white-space: nowrap;\">").concat(r.match(/.{1,2}/g).join(" "),"</a>")),n&&i.push(" \xE0 l\u2019adresse <a href=\"mailto:".concat(n,"\">").concat(n,"</a>")),e.innerHTML=i.join(" ou ")}}function Ck(e,t){"00"!==t?e.setAttribute("href","https://www.sante.fr/cf/centres-depistage-covid/departement-".concat(t,".html")):e.setAttribute("href","https://www.sante.fr/cf/centres-depistage-covid.html")}function Dk(e,t){if("00"!==t){var r=Lg[t],n=dk(r);"2A"===t&&(t="20A"),"2B"==t&&(t="20B"),e.setAttribute("href","https://www.sante.fr/cf/centres-vaccination-covid/departement-".concat(t,"-").concat(n,".html"))}else e.setAttribute("href","https://www.sante.fr/cf/centres-vaccination-covid.html")}function Ek(e,t){var r=Jg(t);r.push.apply(r,rk(Kg(t))),r&&(e.textContent=Cd(r))}function Fk(e,t){var r=Jg(t);if(r){var n=Cd(r);e.textContent=n+"."}}function Jg(e){var t=[];return e.sup65?t.push("vous \xEAtes \xE2g\xE9\xB7e de plus de 65\xA0ans"):e.profil.grossesse_3e_trimestre&&t.push("vous \xEAtes au 3e trimestre de votre grossesse"),e.imc>30&&t.push("vous avez un IMC sup\xE9rieur\xA0\xE0\xA030\xA0("+Math.round(e.imc)+")"),t}function Cd(e){return 1===e.length?e[0]:2===e.length?e.join(" et "):e.slice(0,e.length-1).join(", ")+" et "+e[e.length-1]}function Gk(e,t){var r=Kg(t);if(r){var n=Cd(r);e.textContent=n.charAt(0).toUpperCase()+n.slice(1)+"."}}function Kg(e){var t=[];return e.antecedents&&t.push("vous avez des ant\xE9c\xE9dents \xE0 risque"),e.profil.antecedent_chronique_autre&&t.push("vous avez une maladie chronique, un handicap ou vous prenez un traitement au long cours"),t}function Hk(e,t){e.textContent=t.suivi.length}function Ik(e,t){var r=t.dernierEtat();e.textContent=r?tg(new Date(r.date),"fr"):""}var Jk={"01":"http://www.ain.gouv.fr/coronavirus-covid-19-r1627.html","02":"https://www.aisne.gouv.fr/Actualites/COVID-19-point-sur-la-situation-dans-l-Aisne","03":"http://www.allier.gouv.fr/covid-19-point-sur-la-situation-dans-l-allier-a3067.html","04":"http://www.alpes-de-haute-provence.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-les-Alpes-de-Haute-Provence","05":"http://www.hautes-alpes.gouv.fr/informations-covid-19-r1977.html","06":"http://www.alpes-maritimes.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-les-Alpes-Maritimes","07":"http://www.ardeche.gouv.fr/covid-19-point-sur-la-situation-en-ardeche-r1877.html","08":"http://www.ardennes.gouv.fr/crise-sanitaire-liee-a-l-epidemie-de-covid-19-r906.html","09":"http://www.ariege.gouv.fr/Actualites/Covid-19-Intensification-du-port-du-masque-et-controle-du-respect-des-mesures-barriere",10:"http://www.aube.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-de-l-Aube",11:"http://www.aude.gouv.fr/coronavirus-r2462.html",12:"http://www.aveyron.gouv.fr/covid-19-r396.html",13:"http://www.bouches-du-rhone.gouv.fr/Actualites/Actualites/Actualites-COVID-19",14:"http://www.calvados.gouv.fr/coronavirus-covid-19-informations-et-r1953.html",15:"http://www.cantal.gouv.fr/coronavirus-covid-19-informations-et-r2804.html",16:"http://www.charente.gouv.fr/Actualites/Coronavirus-COVID-19-informations-mesures-sanitaires-et-deconfinement",17:"http://www.charente-maritime.gouv.fr/Politiques-publiques/Securite/Securite-sanitaire/Coronavirus-Deconfinement-Masques-Tests/Coronavirus-COVID-19-Informations-recommandations",18:"https://www.cher.gouv.fr/Actualites/COVID-19-point-sur-la-situation-dans-le-Cher",19:"http://www.correze.gouv.fr/Politiques-publiques/Sante/COVID-19",21:"http://www.cote-dor.gouv.fr/coronavirus-covid-19-toutes-les-informations-r3115.html",22:"https://www.cotes-darmor.gouv.fr/Politiques-publiques/Sante/Covid-19",23:"http://www.creuse.gouv.fr/Actualites/Covid-19",24:"http://www.dordogne.gouv.fr/Politiques-publiques/Sante-solidarite-et-cohesion-sociale/Informations-coronavirus-COVID19",25:"http://www.doubs.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-le-Doubs",26:"http://www.drome.gouv.fr/le-covid-19-en-drome-a7414.html",27:"https://www.eure.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19",28:"https://www.eure-et-loir.gouv.fr/Actualites/Annee-2020/INFORMATIONS-CORONAVIRUS-COVID-19",29:"https://www.finistere.gouv.fr/Actualites/Covid-19-informations","2A":"http://www.corse-du-sud.gouv.fr/information-coronavirus-a2335.html","2B":"http://www.haute-corse.gouv.fr/covid-19-point-sur-la-situation-en-haute-corse-r651.html",30:"http://www.gard.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-le-Gard",31:"http://www.haute-garonne.gouv.fr/Politiques-publiques/Securite-et-protection-des-personnes-et-des-biens/Coronavirus-COVID19",32:"https://www.gers.gouv.fr/Actualites/COVID-19-Une-rubrique-dediee",33:"http://www.gironde.gouv.fr/Actualites/COVID-19-point-de-la-situation-en-Gironde",34:"https://www.herault.gouv.fr/Actualites/L-Herault-face-a-la-Covid-19",35:"https://www.ille-et-vilaine.gouv.fr/Actualites/Coronavirus-COVID-19",36:"https://www.indre.gouv.fr/Politiques-publiques/Securite-et-protection-de-la-population/COVID-19",37:"https://www.indre-et-loire.gouv.fr/Actualites/COVID-19-Deconfinement-phase-2",38:"http://www.isere.gouv.fr/Actualites/Actualite-des-particuliers/Actualites-COVID-de-RENTREE-2020",39:"http://www.isere.gouv.fr/Politiques-publiques/Risques/Risques-sanitaires/Covid-19",40:"http://www.landes.gouv.fr/covid-19-point-sur-la-situation-dans-les-landes-r887.html",41:"https://www.loir-et-cher.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Loir-et-Cher",42:"http://www.loire.gouv.fr/covid-19-point-de-situation-dans-la-loire-r1747.html",43:"http://www.haute-loire.gouv.fr/",44:"https://www.loire-atlantique.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Loire-Atlantique",45:"https://www.loiret.gouv.fr/Actualites/COVID-19-La-situation-dans-le-Loiret",46:"http://www.lot.gouv.fr/covid-19-point-sur-la-situation-dans-le-lot-r4332.html",47:"http://www.lot-et-garonne.gouv.fr/coronavirus-covid-19-toutes-les-informations-r876.html",48:"http://www.lozere.gouv.fr/Actualites/COVID-19-Point-de-situation-en-Lozere",49:"http://www.maine-et-loire.gouv.fr/le-maine-et-loire-face-a-la-covid19-r2210.html",50:"https://www.manche.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19",51:"http://www.marne.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-la-Marne",52:"http://www.haute-marne.gouv.fr/Politiques-publiques/Securite/Securite-sanitaire/COVID-19/Covid-19",53:"https://www.mayenne.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19-Informations-recommandations-et-mesures-sanitaires",54:"http://www.meurthe-et-moselle.gouv.fr/Politiques-publiques/Securite-et-protection-de-la-population/Coronavirus-COVID-19",55:"http://www.meuse.gouv.fr/Actualites/Mesures-relatives-a-la-lutte-contre-le-virus-Covid-19",56:"https://www.morbihan.gouv.fr/Actualites/Actus/Le-Morbihan-face-au-Coronavirus-Covid19",57:"http://www.moselle.gouv.fr/",58:"http://www.nievre.gouv.fr/covid-19-r781.html",59:"https://www.nord.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-le-Nord",60:"https://www.oise.gouv.fr/Actualites/COVID-19",61:"http://www.orne.gouv.fr/coronavirus-covid19-r4087.html",62:"https://www.pas-de-calais.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-dans-le-Pas-de-Calais.",63:"http://www.puy-de-dome.gouv.fr/strategie-locale-de-deconfinement-a8240.html",64:"http://www.pyrenees-atlantiques.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Pyrenees-Atlantiques",65:"http://www.hautes-pyrenees.gouv.fr/covid-19-point-sur-la-situation-en-hautes-pyrenees-r1537.html",66:"http://www.pyrenees-orientales.gouv.fr/Actualites/Coronavirus-Covid-19",67:"http://www.bas-rhin.gouv.fr/Actualites/Covid-19",68:"http://www.haut-rhin.gouv.fr/Actualites/Actualites-du-Prefet-et-des-Sous-Prefets/Coronavirus-COVID-19",69:"http://www.rhone.gouv.fr/Actualites/COVID-19",70:"http://www.haute-saone.gouv.fr/Politiques-publiques/Sante/Coronavirus",71:"http://www.saone-et-loire.gouv.fr/informations-coronavirus-covid-19-r2997.html",72:"http://www.sarthe.gouv.fr/covid-19-point-sur-la-situation-en-sarthe-a4484.html",73:"http://www.savoie.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Savoie",74:"http://www.haute-savoie.gouv.fr/Actualites/Actualites/Coronavirus-Covid-19",75:"https://www.prefectures-regions.gouv.fr/ile-de-france/Actualites/Covid-19-le-bilan-de-l-action-des-services-de-l-Etat-en-Ile-de-France",76:"https://www.seine-maritime.gouv.fr/Actualites/COVID19-Point-de-situation-Les-mesures-en-vigueur-dans-le-departement-de-la-Seine-Maritime",77:"http://www.seine-et-marne.gouv.fr/Actualites/Actualite-du-prefet/Les-infos-locales-et-nationales-sur-le-Coronavirus",78:"http://www.yvelines.gouv.fr/Actualites/COVID-19",79:"http://www.deux-sevres.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Deux-Sevres",80:"https://www.somme.gouv.fr/Actualites/COVID-19-point-sur-la-situation-dans-la-Somme",81:"http://www.tarn.gouv.fr/covid-19-point-sur-la-situation-dans-le-tarn-r1145.html",82:"http://www.tarn-et-garonne.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Tarn-et-Garonne",83:"http://www.var.gouv.fr/le-var-face-au-covid-19-r2322.html",84:"http://www.vaucluse.gouv.fr/covid-19-point-de-situation-en-vaucluse-r3752.html",85:"http://www.vendee.gouv.fr/",86:"http://www.vienne.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Vienne",87:"http://www.haute-vienne.gouv.fr/Actualites/COVID-19-en-Haute-Vienne",88:"http://www.vosges.gouv.fr/Actualites/Coronavirus-Covid-19",89:"http://www.yonne.gouv.fr/Actualites/COVID-19-Coronavirus-toutes-les-informations",90:"http://www.territoire-de-belfort.gouv.fr/Politiques-publiques/Sante-Solidarites-et-cohesion-sociale/Coronavirus-COVID-19",91:"http://www.essonne.gouv.fr/Actualites/Covid-19-point-sur-la-situation-en-Essonne",92:"http://www.hauts-de-seine.gouv.fr/COVID-19-Point-sur-la-situation-dans-les-Hauts-de-Seine",93:"http://www.seine-saint-denis.gouv.fr/Actualites/COVID-19-Informations/COVID-19-Point-sur-la-situation-en-Seine-Saint-Denis",94:"http://www.val-de-marne.gouv.fr/Actualites/COVID-19-Plan-de-deconfinement-et-organisation-de-la-vie-quotidienne",95:"http://www.val-doise.gouv.fr/Actualites/COVID-19-Mesures-et-declarations-officielles",971:"http://www.guadeloupe.gouv.fr/Politiques-publiques/Risques-naturels-technologiques-et-sanitaires/Securite-sanitaire/Informations-coronavirus",972:"http://www.martinique.gouv.fr/Politiques-publiques/Environnement-sante-publique/Sante/Informations-COVID-19",973:"http://www.guyane.gouv.fr/Politiques-publiques/COVID-19",974:"http://www.reunion.gouv.fr/la-reunion-face-au-covid-19-r461.html",975:"http://www.saint-pierre-et-miquelon.gouv.fr/Publications/Coronavirus-Covid-19",976:"http://www.mayotte.gouv.fr/Politiques-publiques/Sante/CORONAVIRUS-COVID-19",977:"http://www.saint-barth-saint-martin.gouv.fr/Actualites/LA-UNE/Actualites/COVID-19-Point-sur-la-situation-a-Saint-Martin-et-a-Saint-Barthelemy/(language)/fre-FR",978:"http://www.saint-barth-saint-martin.gouv.fr/Actualites/LA-UNE/Actualites/COVID-19-Point-sur-la-situation-a-Saint-Martin-et-a-Saint-Barthelemy/(language)/fre-FR"};var Kk={"01":"","02":"","03":"0470483048","04":"0492367311","05":"","06":"","07":"0676961742","08":"0324596605","09":"",10:"0325423500",11:"0607318008",12:"0647806282",13:"",14:"0231306760",15:"",16:"0645921506",17:"0546274327",18:"0647637789",19:"0555205520","2A":"0495111043","2B":"0671048929",21:"0685814866",22:"0296624455",23:"0608287191",24:"",25:"0800712025",26:"0475797033",27:"0232782901",28:"",29:"",30:"0466278631",31:"0787895914",32:"",33:"0800009763",34:"0678652027",35:"0299021914",36:"0554295074",37:"0247331010",38:"0476603400",39:"0384868662",40:"0533130130",41:"",42:"0699593989",43:"",44:"0778956793",45:"0238254299",46:"0565231000",47:"0553472111",48:"",49:"0241818222",50:"0261819670",51:"",52:"0325305252",53:"0607152702",54:"0383342533",55:"0329775580",56:"0674687585",57:"0387348734",58:"0386607271",59:"0320305160",60:"0344112189",61:"0233806161",62:"0321212496",63:"",64:"0533090906",65:"0629484475",66:"",67:"0367300367",68:"0787920063",69:"0806112128",70:"0384967621",71:"0385218383",72:"0786671269",73:"0479755286",74:"0450336220",75:"0179356342",76:"0232765207",77:"0160568577",78:"",79:"0549086821",80:"0322333896",81:"0645942321",82:"0563228275",83:"",84:"0488605260",85:"0272199960",86:"0809109109",87:"0519293000",88:"0329698609",89:"0386727915",90:"",91:"0169919092",92:"0149566491",93:"0143014821",94:"",95:"0134411413",971:"",972:"0596543746",973:"0594394500",974:"0262410000",975:"",976:""};var Lk={"01":"pref-covid-isolement@ain.gouv.fr","02":"pref-covid19-appui-lao@aisne.gouv.fr","03":"pref-ctai@allier.gouv.fr","04":"pref-signalementcovid19@alpes-de-haute-provence.gouv.fr","05":"","06":"pref-sidpc-covid19@alpes-maritimes.gouv.fr","07":"pref-clai@ardeche.gouv.fr","08":"pref-ctai-covid@ardennes.gouv.fr","09":"cdai.dt09@croix-rouge.fr",10:"pref-isolement-covid@aube.gouv.fr",11:"ddcspp-isolement-covid@aude.gouv.fr",12:"pref-covid19-isolement@aveyron.gouv.fr",13:"pref-pccrise-13@bouches-du-rhone.gouv.fr",14:"pref-appui@calvados.gouv.fr",15:"pref-ctai@cantal.gouv.fr",16:"alain.claret@charente.gouv.fr",17:"benedicte.lavocat-mailhos@charente-maritime.gouv.fr",18:"pref-soutien-covid@cher.gouv.fr",19:"pref-defense-protection-civile@correze.gouv.fr","2A":"pref-isolement@corse-du-sud.gouv.fr","2B":"covid-appui2B@haute-corse.gouv.fr",21:"pref-appui-isolement@cote-dor.gouv.fr",22:"pref-CAI-covid19@cotes-darmor.gouv.fr",23:"pref-defense-protection-civile@creuse.gouv.fr",24:"pref-cdai24@dordogne.gouv.fr",25:"ddcspp-covid19@doubs.gouv.fr",26:"pref-cellule-isolement@drome.gouv.fr",27:"pref-covid19@eure.gouv.fr",28:"ddcspp-suivi-covid@eure-et-loir.gouv.fr",29:"ai.brest@finistere.gouv.fr",30:"pref-ctai30@gard.gouv.fr",31:"pref-isolement@haute-garonne.gouv.fr",32:"Pref-isolementcovid@gers.gouv.fr",33:"pref-appuicovid@gironde.gouv.fr",34:"pref-covid-isolement@herault.gouv.fr",35:"pref-ctai@ille-et-vilaine.gouv.fr",36:"",37:"pref-appuicovid19@indre-et-loire.gouv.fr",38:"pref-covid19-isolement@isere.gouv.fr",39:"pref-cellule-appui@jura.gouv.fr",40:"",41:"pref-clai@loir-et-cher.gouv.fr",42:"akrache@epvaldo.org",43:"",44:"pref-appui-isolement@loire-atlantique.gouv.fr",45:"pref-defense-protection-civile@loiret.gouv.fr",46:"pref-defense-protection-civile@lot.gouv.fr",47:"suivicovid@pta47.fr",48:"",49:"pref-covid19@maine-et-loire.gouv.fr",50:"ctai.dt50@croix-rouge.fr",51:"",52:"",53:"pref-appui-isolement-covid19@mayenne.gouv.fr",54:"pref-defense-protection-civile@meurthe-et-moselle.gouv.fr",55:"pref-soutien-covid19@meuse.gouv.fr",56:"pref-covid19-ctai@morbihan.gouv.fr",57:"soutiencovid19@moselle.gouv.fr",58:"pref-celluleappui@nievre.gouv.fr",59:"pref-isolement@nord.gouv.fr",60:"pref-clai@oise.gouv.fr",61:"pref-deconfinement@orne.gouv.fr",62:"pref-ctai@pas-de-calais.gouv.fr",63:"pref-covid19-tracage@puy-de-dome.gouv.fr",64:"ctai@ogfa.net",65:"ddcspp-ctai@hautes-pyrenees.gouv.fr",66:"kevin.mazoyer@pyrenees-orientales.gouv.fr",67:"celluleappui67@prag.alsace",68:"pref-cai@haut-rhin.gouv.fr",69:"covid.dt69@croix-rouge.fr",70:"udsp@sdis70.fr",71:"pref-conid19@saone-et-loire.gouv.fr",72:"pref-ctai@sarthe.gouv.fr",73:"pref-depistage-covid19@savoie.gouv.fr",74:"pref-clai@haute-savoie.gouv.fr",75:"contact.covisan@aphp.fr",76:"pref-defense-protection-civile@seine-maritime.gouv.fr",77:"ctai@sdis77.fr",78:"apetit@apta-idf78.org",79:"pref-ctai@deux-sevres.gouv.fr",80:"urgence.ddus80@croix-rouge.fr",81:"pref-covid19@tarn.gouv.fr",82:"pref-covid19@tarn-et-garonne.gouv.fr",83:"pref-soutien-covid@var.gouv.fr",84:"ctai84@epvaldo.org",85:"ctai@protection-civile-vendee.org",86:"contact@pta86.fr",87:"contact@pta87.fr",88:"pref-ctai88@vosges.gouv.fr",89:"pref-cat89@yonne.gouv.fr",90:"pref-ctai@territoire-de-belfort.gouv.fr",91:"pref-covid19-cta@essonne.gouv.fr",92:"pref-covid19@hauts-de-seine.gouv.fr",93:"sylvie.duret@seine-saint-denis.gouv.fr",94:"pref-ctai@val-de-marne.gouv.fr ",95:"pref-covid19@val-doise.gouv.fr",971:"",972:"pref-covid19@martinique.pref.gouv.fr",973:"emzd@guyane.pref.gouv.fr",974:"unitecovid.ps@favron.org",975:"",976:""};var Lg={"01":"Ain","02":"Aisne","03":"Allier","04":"Alpes-de-Haute-Provence","05":"Hautes-Alpes","06":"Alpes-Maritimes","07":"Ard\xE8che","08":"Ardennes","09":"Ari\xE8ge",10:"Aube",11:"Aude",12:"Aveyron",13:"Bouches-du-Rh\xF4ne",14:"Calvados",15:"Cantal",16:"Charente",17:"Charente-Maritime",18:"Cher",19:"Corr\xE8ze","2A":"Corse-du-sud","2B":"Haute-corse",21:"C\xF4te-d\u2019or",22:"C\xF4tes-d\u2019armor",23:"Creuse",24:"Dordogne",25:"Doubs",26:"Dr\xF4me",27:"Eure",28:"Eure-et-Loir",29:"Finist\xE8re",30:"Gard",31:"Haute-Garonne",32:"Gers",33:"Gironde",34:"H\xE9rault",35:"Ille-et-Vilaine",36:"Indre",37:"Indre-et-Loire",38:"Is\xE8re",39:"Jura",40:"Landes",41:"Loir-et-Cher",42:"Loire",43:"Haute-Loire",44:"Loire-Atlantique",45:"Loiret",46:"Lot",47:"Lot-et-Garonne",48:"Loz\xE8re",49:"Maine-et-Loire",50:"Manche",51:"Marne",52:"Haute-Marne",53:"Mayenne",54:"Meurthe-et-Moselle",55:"Meuse",56:"Morbihan",57:"Moselle",58:"Ni\xE8vre",59:"Nord",60:"Oise",61:"Orne",62:"Pas-de-Calais",63:"Puy-de-D\xF4me",64:"Pyr\xE9n\xE9es-Atlantiques",65:"Hautes-Pyr\xE9n\xE9es",66:"Pyr\xE9n\xE9es-Orientales",67:"Bas-Rhin",68:"Haut-Rhin",69:"Rh\xF4ne",70:"Haute-Sa\xF4ne",71:"Sa\xF4ne-et-Loire",72:"Sarthe",73:"Savoie",74:"Haute-Savoie",75:"Paris",76:"Seine-Maritime",77:"Seine-et-Marne",78:"Yvelines",79:"Deux-S\xE8vres",80:"Somme",81:"Tarn",82:"Tarn-et-Garonne",83:"Var",84:"Vaucluse",85:"Vend\xE9e",86:"Vienne",87:"Haute-Vienne",88:"Vosges",89:"Yonne",90:"Territoire de Belfort",91:"Essonne",92:"Hauts-de-Seine",93:"Seine-Saint-Denis",94:"Val-de-Marne",95:"Val-d\u2019oise",971:"Guadeloupe",972:"Martinique",973:"Guyane",974:"R\xE9union",975:"Saint-Pierre-et-Miquelon",976:"Mayotte",977:"Saint-Barth\xE9lemy",978:"Saint-Martin"};function Mk(e,o){var r=document.querySelector("header section");da(r.querySelector(".js-profil-empty")),fa(r.querySelector(".js-profil-full"));var t=e.querySelector("#profils-cards");o.stockage.getProfils().then(function(r){(r.length&&fa(e.querySelector(".js-intro")),-1===r.indexOf("mes_infos"))&&Ok(t.appendChild(Hb("\n                    <li class=\"profil-empty\">\n                        <a class=\"button button-full-width\"\n                            data-set-profil=\"mes_infos\"\n                            href=\"#".concat(o.questionnaire.firstPage,"\"\n                            >Des conseils pour moi</a>\n                    </li>\n                "))).querySelector("[data-set-profil]"),o);t.appendChild(Hb("\n                <li class=\"profil-empty\">\n                    <a class=\"button button-full-width button-outline js-profil-new\"\n                        href=\"#nom\"\n                        >Des conseils pour un\xB7e\xA0proche</a>\n                </li>\n            ")),Nk(t,r,o)})}function Nk(e,o,r){var t=e.firstChild;o.forEach(function(o){var n=new xd(o);r.stockage.charger(n).then(function(o){var n=e.insertBefore(o.renderCard(r.questionnaire),t),i=n.querySelector(".conseils-link");i&&i.setAttribute("href","#conseils"),Array.from(n.querySelectorAll("[data-set-profil]")).forEach(function(e){Pk(e,r)}),Qk(n.querySelector("[data-delete-profil]"),r)})})}function Ok(e,o){return Mg(e,o,o.creerProfil.bind(o))}function Pk(e,o){return Mg(e,o,o.basculerVersProfil.bind(o))}function Mg(e,o,r){e.addEventListener("click",function(t){t.preventDefault(),r(e.dataset.setProfil).then(function(){o.router.navigate(t.target.getAttribute("href"))})})}function Qk(e,o){e.addEventListener("click",function(r){r.preventDefault(),o.plausible("Suppression");var t=e.dataset.deleteProfil,n="mes_infos"===t?"votre profil":"le profil de ".concat(t);confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer ".concat(n,"\xA0?"))&&o.supprimerProfil(t).then(function(){o.chargerProfilActuel().then(function(){window.location.reload(!0)})})})}function Rk(e,t,o){var r=document.querySelector("#nouvelle-version-disponible-block #refresh-button");t.updater.setupRefreshButton(r,o)}function Sk(e,t){var n=e.querySelector("input[type=submit]");Pg(e,n.value,"Cette information est requise"),e.addEventListener("submit",function(e){e.preventDefault();var n=e.target.elements.name.value;t.creerProfil(n).then(function(){t.goToNextPage("nom")})})}function Tk(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function Ng(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uk(e,o,t){return o&&Ng(e.prototype,o),t&&Ng(e,t),e}var Ya=function(){function e(o){Tk(this,e),this.form=o}return Uk(e,[{key:"qS",value:function(e){return this.form.querySelector(e)}},{key:"qSA",value:function(e){return this.form.querySelectorAll(e)}},{key:"submitButton",get:function(){return this.qS("input[type=submit]")}},{key:"requiredTextFields",get:function(){return Array.from(this.qSA("input[type=text][required], input[type=date][required]"))}},{key:"selectFields",get:function(){return Array.from(this.qSA("select"))}},{key:"checkbox",get:function(){return this.qS("input[type=checkbox]")}},{key:"checkboxes",get:function(){return Array.from(this.qSA("input[type=checkbox]"))}},{key:"primaryCheckbox",get:function(){return this.qS("input[type=checkbox].primary")}},{key:"secondaryCheckboxes",get:function(){return Array.from(this.qSA(".secondary input[type=checkbox]"))}},{key:"radios",get:function(){return Array.from(this.qSA(".secondary input[type=radio]"))}},{key:"secondariesRequired",get:function(){return Array.from(this.qSA(".secondary.required [role=\"radiogroup\"]"))}}]),e}();function ua(e,o){var t=e.querySelector("input[name=\"".concat(o,"\"]:checked"));if(t)return t.value}function fc(e,o,t){var r=t.getData()[o];void 0!==r&&""!==r&&(e[o].value=r)}function ba(e,o,t){var r=t.getData()[o];void 0!==r&&r&&(e[o].checked=!0,e[o].dispatchEvent(Jb("change")))}function Jb(e){var o=document.createEvent("Event");return o.initEvent(e,!0,!0),o}function Kb(e){return e.some(function(e){return e.checked})}function Og(e){return e.every(function(e){return""!==e.value})}function Vk(e,o,t){var r=new Ya(e),n=r.submitButton,a=Array.from(r.qSA("input[type=radio]"));function i(){n.disabled=!1,n.value=o,Kb(a)||(n.disabled=!0,n.value=t)}i(),a.forEach(function(e){return e.addEventListener("change",i)})}function Wk(e,o,t,r){var n=new Ya(e),a=n.submitButton,i=n.checkbox,c=n.radios,u=n.secondariesRequired;function d(){(a.disabled=!1,a.value=i.checked?o:t,i.checked)&&(u.every(function(e){return Kb(Array.from(e.querySelectorAll("input[type=radio]")))})||(a.disabled=!0,a.value=r))}function $(){d(),i.checked?c.forEach(function(e){e.disabled=!1}):c.forEach(function(e){e.checked=!1,e.disabled=!0})}d(),c.forEach(function(e){return e.addEventListener("change",d)}),$(),i.addEventListener("change",$)}function Pg(e,o,t){var r=new Ya(e),n=r.submitButton,a=r.requiredTextFields;function i(){var e=Og(a);n.disabled=!e,n.value=e?o:t}i(),a.forEach(function(e){return e.addEventListener("input",i)})}function Qg(e,o,t,r){var n=new Ya(e),a=n.submitButton,i=n.requiredTextFields,c=n.checkbox,u=n.radios;function d(){var e=Og(i);(a.disabled=!1,a.value=c.checked?o:t,c.checked)&&(n.secondariesRequired.every(function(e){return Kb(Array.from(e.querySelectorAll("input[type=radio]")))})&&e||(a.disabled=!0,a.value=r))}function $(){d(),c.checked?u.forEach(function(e){e.disabled=!1}):(u.forEach(function(e){e.checked=!1,e.disabled=!0}),i.forEach(function(e){e.value=""}))}return d(),i.forEach(function(e){e.addEventListener("input",d)}),u.forEach(function(e){e.addEventListener("change",d)}),$(),c.addEventListener("change",$),d}function Xk(e,o,t){var r=new Ya(e),n=r.submitButton,a=r.selectFields;function i(){var e=a.every(function(e){return e.value!==e.options[0].value});n.disabled=!e,n.value=e?o:t}i(),a.forEach(function(e){return e.addEventListener("change",i)})}function na(e,o,t){t=Array.from(t||e.querySelectorAll(".secondary"));var r=!o.checked;t.forEach(function(e){Array.from(e.querySelectorAll("input")).forEach(function(e){e.checked&&r&&(e.checked=!1,e.dispatchEvent(Jb("change"))),e.disabled=r}),r?e.classList.add("disabled"):e.classList.remove("disabled")})}function Yk(e,r){Zk(r),r.profil.vaccins&&(e.querySelector("#vaccins_radio_completement").checked=!0,e.vaccins_radio[0].dispatchEvent(Jb("change")));var i=e.querySelector("input[type=submit]");Vk(e,i.value,"Veuillez remplir le formulaire au complet"),e.addEventListener("submit",function(e){e.preventDefault();var i=e.target;r.profil.vaccins="completement"===i.elements.vaccins_radio.value,r.enregistrerProfilActuel().then(function(){r.goToNextPage("vaccins")})})}function Zk(e){void 0===e.profil.questionnaire_start_date&&(e.profil.questionnaire_start_date=new Date,e.enregistrerProfilActuel(),e.plausible("Questionnaire commenc\xE9"),e.profil.estMonProfil()?e.plausible("Questionnaire commenc\xE9 pour moi"):e.plausible("Questionnaire commenc\xE9 pour un proche"))}function $k(e,o){if(ba(e,"covid_passee",o.profil),void 0!==o.profil.covid_passee_date){var t=wd(o.profil.covid_passee_date,new Date),r=e.querySelector("input#covid_passee_date_".concat(t/30,"_mois"));r.checked=!0,r.dispatchEvent(Jb("change"))}var a=e.elements.covid_passee;na(e,a),a.addEventListener("click",function(){na(e,a)}),[2,3,4,5,6].forEach(function(o){var t=ea(30*o),r=t.toLocaleString("default",{month:"long"}),a=e.querySelector("label[for=\"covid_passee_date_".concat(o,"_mois\"] span")),i=6===o?" ou avant":"";a.innerHTML="".concat(a.innerHTML," (en <strong>").concat(r,"</strong> ").concat(t.getFullYear()).concat(i,")")});var i=e.querySelector("input[type=submit]"),n=o.profil.estMonProfil()?"Je n\u2019ai jamais eu la Covid":"Cette personne n\u2019a jamais eu la Covid";Qg(e,i.value,n,"Veuillez remplir le formulaire au complet"),e.addEventListener("submit",function(e){e.preventDefault();var t=e.target;if(o.profil.covid_passee=t.elements.covid_passee.checked,o.profil.covid_passee){var r=Number(t.elements.covid_passee_date.value);o.profil.covid_passee_date=ea(30*r)}else o.profil.covid_passee_date=void 0;o.enregistrerProfilActuel().then(function(){o.goToNextPage("historique")})})}function _k(e,t){var s=e.elements.symptomes_actuels_statuts,r=e.querySelector("#symptomes-choix"),o=e.querySelector("#debut-symptomes"),a=e.querySelector("#debut_symptomes_aujourdhui"),m=e.querySelector("label[for=\"debut_symptomes_aujourdhui\"]");Array.from(s).forEach(function(e){return e.addEventListener("change",function(){switch(e.id){case"symptomes_actuels":da(r),da(o),da(a),da(m);break;case"symptomes_passes":fa(r),da(o),a.checked=!1,fa(a),fa(m);break;case"symptomes_non":fa(r),fa(o);}})}),al(e,t.profil),cl(e,Tg);var c=e.querySelector("#symptomes_actuels_temperature"),i=e.querySelector("#symptomes_actuels_temperature_inconnue");c.addEventListener("change",function(){c.checked&&(i.checked=!1)}),i.addEventListener("change",function(){i.checked&&(c.checked=!1)}),Array.from(e.querySelectorAll("[name=\"suivi_symptomes_date\"]")).forEach(function(t){t.addEventListener("change",function(t){return el(e,t.target)})}),dl(e),e.addEventListener("submit",function(s){s.preventDefault();var r=s.target.elements.symptomes_actuels.checked,o=s.target.elements.symptomes_passes.checked;r?(t.profil.symptomes_actuels=r,t.profil.symptomes_actuels_temperature=s.target.elements.symptomes_actuels_temperature.checked,t.profil.symptomes_actuels_temperature_inconnue=s.target.elements.symptomes_actuels_temperature_inconnue.checked,t.profil.symptomes_actuels_toux=s.target.elements.symptomes_actuels_toux.checked,t.profil.symptomes_actuels_odorat=s.target.elements.symptomes_actuels_odorat.checked,t.profil.symptomes_actuels_douleurs=s.target.elements.symptomes_actuels_douleurs.checked,t.profil.symptomes_actuels_diarrhee=s.target.elements.symptomes_actuels_diarrhee.checked,t.profil.symptomes_actuels_fatigue=s.target.elements.symptomes_actuels_fatigue.checked,t.profil.symptomes_actuels_alimentation=s.target.elements.symptomes_actuels_alimentation.checked,t.profil.symptomes_actuels_souffle=s.target.elements.symptomes_actuels_souffle.checked,t.profil.symptomes_passes=!1,t.profil.fillContactARisque(!1),Rg(t,e)):o?(Sg(t),t.profil.symptomes_passes=!0,t.profil.fillContactARisque(!1),Rg(t,e)):(Sg(t),t.profil.symptomes_passes=!1,t.profil.symptomes_start_date=void 0),t.enregistrerProfilActuel().then(function(){t.goToNextPage("symptomes")})})}function Rg(e,t){e.profil.symptomes_start_date=Tg(t),e.profil.hasSuiviStartDate()||(e.profil.suivi_start_date=new Date)}function Sg(e){e.profil.symptomes_actuels=!1,e.profil.symptomes_actuels_temperature=!1,e.profil.symptomes_actuels_temperature_inconnue=!1,e.profil.symptomes_actuels_toux=!1,e.profil.symptomes_actuels_odorat=!1,e.profil.symptomes_actuels_douleurs=!1,e.profil.symptomes_actuels_diarrhee=!1,e.profil.symptomes_actuels_fatigue=!1,e.profil.symptomes_actuels_alimentation=!1,e.profil.symptomes_actuels_souffle=!1}function al(e,t){ba(e,"symptomes_actuels",t),ba(e,"symptomes_actuels_temperature",t),ba(e,"symptomes_actuels_temperature_inconnue",t),ba(e,"symptomes_actuels_toux",t),ba(e,"symptomes_actuels_odorat",t),ba(e,"symptomes_actuels_douleurs",t),ba(e,"symptomes_actuels_diarrhee",t),ba(e,"symptomes_actuels_fatigue",t),ba(e,"symptomes_actuels_alimentation",t),ba(e,"symptomes_actuels_souffle",t),ba(e,"symptomes_actuels_autre",t),ba(e,"symptomes_passes",t),bl(e,t),!1===t.symptomes_actuels&&!1===t.symptomes_passes&&(e.symptomes_non.checked=!0,e.symptomes_non.dispatchEvent(Jb("change")))}function bl(e,t){if(void 0!==t.symptomes_start_date)if(t.symptomes_start_date>=ea(1))e.querySelector("#debut_symptomes_aujourdhui").checked=!0;else if(t.symptomes_start_date>=ea(2))e.querySelector("#debut_symptomes_hier").checked=!0;else if(t.symptomes_start_date>=ea(3))e.querySelector("#debut_symptomes_avant_hier").checked=!0;else if(t.symptomes_start_date>=ea(4))e.querySelector("#debut_symptomes_avant_avant_hier").checked=!0;else{e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0,e.elements.suivi_symptomes_date_exacte.value=t.symptomes_start_date.toISOString().substring(0,10)}}function cl(e,t){var s=new Ya(e),r=s.submitButton,o="Continuer",a="Veuillez remplir le formulaire au complet",m=e.elements.symptomes_actuels_statuts,c=e.querySelector("#debut_symptomes_exacte");function i(){var m=e.elements.symptomes_non.checked||e.elements.symptomes_passes.checked&&t(e)||e.elements.symptomes_actuels.checked&&Kb(s.checkboxes)&&t(e);r.disabled=!m,r.value=m?o:a}i(),Array.from(m).forEach(function(e){return e.addEventListener("change",i)}),s.checkboxes.forEach(function(e){return e.addEventListener("change",i)}),Array.from(e.querySelectorAll("[name=\"suivi_symptomes_date\"]")).forEach(function(e){e.addEventListener("change",i)}),c.addEventListener("change",i)}function dl(e){var t=e.querySelector("#debut_symptomes_exacte");t.addEventListener("click",function(){e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0});var s=new Date;t.setAttribute("max",s.toISOString().substring(0,10)),Vg(t,s,null)}function el(e,t){fl(e,t)}function fl(e,t){var s=e.querySelector("#debut_symptomes_exacte");"encore_avant_hier"===t.value?(s.setAttribute("max",new Date().toISOString().slice(0,10)),s.focus()):s.value=""}function Tg(e){var t=ua(e,"suivi_symptomes_date");return"encore_avant_hier"===t?gl(e):hl(t)}function gl(e){var t=e.elements.suivi_symptomes_date_exacte;if(""!==t.value)return new Date(t.value)}function hl(e){var t;switch(e){case"aujourdhui":t=0;break;case"hier":t=1;break;case"avant_hier":t=2;break;case"avant_avant_hier":t=3;break;default:return;}return ea(t)}function il(){var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value","a"),"a"!==e.value}function jl(e){if(void 0===e)return"";var a=e.getDate(),t=e.getMonth()+1;return e.getFullYear()+"-"+Ug(t)+"-"+Ug(a)}function Ug(e){return e<10?"0"+e:e}function Vg(e,a,t){var $kYJw$$interop$default=va(Ed);il()||new $kYJw$$interop$default.d({field:e,format:"YYYY-MM-DD",toString:function(e){return jl(e)},parse:function(e){var a=e.split("-"),t=parseInt(a[0],10),r=parseInt(a[1],10)-1,i=parseInt(a[2],10);return new Date(t,r,i)},maxDate:a,onSelect:t,onOpen:t,onClose:t,firstDay:1,i18n:{previousMonth:"Mois pr\xE9c\xE9dent",nextMonth:"Mois suivant",months:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekdaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},ariaLabel:"Utilisez les fl\xE8ches pour choisir une date",theme:"pika-mcc-theme"})}var Dd,Ed={};!function(e,t){var n;if("object"==typeof Ed){try{n=eh("moment")}catch(a){}Ed=t(n)}else"function"==typeof Dd&&Dd.amd?Dd(function(e){try{n=e("moment")}catch(a){}return t(n)}):e.Pikaday=t(e.moment)}(Ed,function(e){var t="function"==typeof e,n=!!window.addEventListener,a=window.document,i=window.setTimeout,s=function(e,t,a,i){n?e.addEventListener(t,a,!!i):e.attachEvent("on"+t,a)},o=function(e,t,a,i){n?e.removeEventListener(t,a,!!i):e.detachEvent("on"+t,a)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){r(e,t)||(e.className=""===e.className?t:e.className+" "+t)},h=function(e,t){var n;e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},d=function(e){return /Array/.test(Object.prototype.toString.call(e))},u=function(e){return /Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},c=function(e){var t=e.getDay();return 0===t||6===t},f=function(e){return e%4==0&&e%100!=0||e%400==0},g=function(e,t){return[31,f(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){u(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var a,i;for(a in t)(i=void 0!==e[a])&&"object"==typeof t[a]&&null!==t[a]&&void 0===t[a].nodeName?u(t[a])?n&&(e[a]=new Date(t[a].getTime())):d(t[a])?n&&(e[a]=t[a].slice(0)):e[a]=y({},t[a],n):!n&&i||(e[a]=t[a]);return e},D=function(e,t,n){var i;a.createEvent?((i=a.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):a.createEventObject&&(i=a.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},v=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},_=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return"<td class=\"is-empty\"></td>";t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),"<td data-day=\""+e.day+"\" class=\""+t.join(" ")+"\" aria-selected=\""+n+"\"><button class=\"pika-button pika-day\" type=\"button\" data-pika-year=\""+e.year+"\" data-pika-month=\""+e.month+"\" data-pika-day=\""+e.day+"\">"+e.day+"</button></td>"},k=function(n,a,i,s){var o=new Date(i,a,n);return"<td class=\"pika-week\">"+(t?e(o).isoWeek():function(e,t){e.setHours(0,0,0,0);var n=e.getDate(),a=e.getDay(),i=t,s=i-1,o=function(e){return(e+7-1)%7};e.setDate(n+s-o(a));var r=new Date(e.getFullYear(),0,i),l=(e.getTime()-r.getTime())/864e5;return 1+Math.round((l-s+o(r.getDay()))/7)}(o,s))+"</td>"},M=function(e,t,n,a){return"<tr class=\"pika-row"+(n?" pick-whole-week":"")+(a?" is-selected":"")+"\">"+(t?e.reverse():e).join("")+"</tr>"},x=function(e,t,n,a,i,s){var o,r,l,h,u,c=e._o,f=n===c.minYear,g=n===c.maxYear,m="<div id=\""+s+"\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">",p=!0,y=!0;for(l=[],o=0;o<12;o++)l.push("<option value=\""+(n===i?o-t:12+o-t)+"\""+(o===a?" selected=\"selected\"":"")+(f&&o<c.minMonth||g&&o>c.maxMonth?" disabled=\"disabled\"":"")+">"+c.i18n.months[o]+"</option>");for(h="<div class=\"pika-label\">"+c.i18n.months[a]+"<select class=\"pika-select pika-select-month\" tabindex=\"-1\">"+l.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],r=c.yearRange[1]+1):(o=n-c.yearRange,r=1+n+c.yearRange),l=[];o<r&&o<=c.maxYear;o++)o>=c.minYear&&l.push("<option value=\""+o+"\""+(o===n?" selected=\"selected\"":"")+">"+o+"</option>");return u="<div class=\"pika-label\">"+n+c.yearSuffix+"<select class=\"pika-select pika-select-year\" tabindex=\"-1\">"+l.join("")+"</select></div>",c.showMonthAfterYear?m+=u+h:m+=h+u,f&&(0===a||c.minMonth>=a)&&(p=!1),g&&(11===a||c.maxMonth<=a)&&(y=!1),0===t&&(m+="<button class=\"pika-prev"+(p?"":" is-disabled")+"\" type=\"button\">"+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+="<button class=\"pika-next"+(y?"":" is-disabled")+"\" type=\"button\">"+c.i18n.nextMonth+"</button>"),m+"</div>"},R=function(e,t,n){return"<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\""+n+"\">"+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push("<th scope=\"col\"><abbr title=\""+_(e,t)+"\">"+_(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"},N=function(o){var l=this,h=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),h.bound&&i(function(){l.hide(),h.blurFieldOnSelect&&h.field&&h.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:h.field&&h.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null);}},l._parseFieldValue=function(){if(h.parse)return h.parse(h.field.value,h.format);if(t){var n=e(h.field.value,h.format,h.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(h.field.value))},l._onInputChange=function(e){var t;e.firedBy!==l&&(t=l._parseFieldValue(),u(t)&&l.setDate(t),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=a.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,a=t;if(t){!n&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",l._onChange)));do{if(r(a,"pika-single")||a===h.trigger)return}while(a=a.parentNode);l._v&&t!==h.trigger&&a!==h.trigger&&l.hide()}},l.el=a.createElement("div"),l.el.className="pika-single"+(h.isRTL?" is-rtl":"")+(h.theme?" "+h.theme:""),s(l.el,"mousedown",l._onMouseDown,!0),s(l.el,"touchend",l._onMouseDown,!0),s(l.el,"change",l._onChange),h.keyboardInput&&s(a,"keydown",l._onKeyChange),h.field&&(h.container?h.container.appendChild(l.el):h.bound?a.body.appendChild(l.el):h.field.parentNode.insertBefore(l.el,h.field.nextSibling),s(h.field,"change",l._onInputChange),h.defaultDate||(h.defaultDate=l._parseFieldValue(),h.setDefaultDate=!0));var d=h.defaultDate;u(d)?h.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),h.bound?(this.hide(),l.el.className+=" is-bound",s(h.trigger,"click",l._onInputClick),s(h.trigger,"focus",l._onInputFocus),s(h.trigger,"blur",l._onInputBlur)):this.show()};return N.prototype={config:function(e){this._o||(this._o=y({},b,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var a=new Date().getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||a,t.yearRange[1]=parseInt(t.yearRange[1],10)||a}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,u(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,a){t&&e.isMoment(n)&&this.setDate(n.toDate(),a)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",D(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var n=this._o.minDate,a=this._o.maxDate;u(n)&&e<n?e=n:u(a)&&e>a&&(e=a),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),D(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),t=i<n.getTime()||a.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,a=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(a.valueOf()+i):"subtract"===e&&(n=new Date(a.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=v({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,a=n.minYear,s=n.maxYear,o=n.minMonth,r=n.maxMonth,l="";this._y<=a&&(this._y=a,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(r)&&this._m>r&&(this._m=r));for(var h=0;h<n.numberOfMonths;h++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+="<div class=\"pika-lendar\">"+x(this,h,this.calendars[h].year,this.calendars[h].month,this.calendars[0].year,t)+this.render(this.calendars[h].year,this.calendars[h].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,s,o,r,d,u,c,f,g;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||a.documentElement.clientWidth,o=window.innerHeight||a.documentElement.clientHeight,r=window.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop,f=!0,g=!0,"function"==typeof e.getBoundingClientRect)d=(c=e.getBoundingClientRect()).left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(d=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)d+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&d+n>s||this._o.position.indexOf("right")>-1&&d-n+e.offsetWidth>0)&&(d=d-n+e.offsetWidth,f=!1),(this._o.reposition&&u+i>o+r||this._o.position.indexOf("top")>-1&&u-i-e.offsetHeight>0)&&(u=u-i-e.offsetHeight,g=!1),this.el.style.left=d+"px",this.el.style.top=u+"px",l(this.el,f?"left-aligned":"right-aligned"),l(this.el,g?"bottom-aligned":"top-aligned"),h(this.el,f?"right-aligned":"left-aligned"),h(this.el,g?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var a=this._o,i=new Date,s=g(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];m(i),a.firstDay>0&&(o-=a.firstDay)<0&&(o+=7);for(var h=0===t?11:t-1,d=11===t?0:t+1,f=0===t?e-1:e,y=11===t?e+1:e,D=g(f,h),v=s+o,b=v;b>7;)b-=7;v+=7-b;for(var _=!1,x=0,N=0;x<v;x++){var Y=new Date(e,t,x-o+1),S=!!u(this._d)&&p(Y,this._d),C=p(Y,i),I=-1!==a.events.indexOf(Y.toDateString()),T=x<o||x>=s+o,E=x-o+1,O=t,j=e,$=a.startRange&&p(a.startRange,Y),W=a.endRange&&p(a.endRange,Y),F=a.startRange&&a.endRange&&a.startRange<Y&&Y<a.endRange;T&&(x<o?(E=D+E,O=h,j=f):(E-=s,O=d,j=y));var A={day:E,month:O,year:j,hasEvent:I,isSelected:S,isToday:C,isDisabled:a.minDate&&Y<a.minDate||a.maxDate&&Y>a.maxDate||a.disableWeekends&&c(Y)||a.disableDayFn&&a.disableDayFn(Y),isEmpty:T,isStartRange:$,isEndRange:W,isInRange:F,showDaysInNextAndPreviousMonths:a.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:a.enableSelectionDaysInNextAndPreviousMonths};a.pickWholeWeek&&S&&(_=!0),l.push(w(A)),7==++N&&(a.showWeekNumber&&l.unshift(k(x-o,t,e,a.firstWeekOfYearMinDays)),r.push(M(l,a.isRTL,a.pickWholeWeek,_)),l=[],N=0,_=!1)}return R(a,r,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),h(this.el,"is-hidden"),this._o.bound&&(s(a,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&o(a,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),e.keyboardInput&&o(a,"keydown",this._onKeyChange),e.field&&(o(e.field,"change",this._onInputChange),e.bound&&(o(e.trigger,"click",this._onInputClick),o(e.trigger,"focus",this._onInputFocus),o(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},N});function kl(e,t){var i=e.querySelector("#depistage_start_date"),a=new Date;i.setAttribute("max",a.toISOString().substring(0,10)),ba(e,"depistage",t.profil),t.profil.depistage&&(void 0!==t.profil.depistage_start_date&&(i.value=t.profil.depistage_start_date.toISOString().substring(0,10)),"antigenique"===t.profil.depistage_type?e.querySelector("#depistage_type_antigenique").checked=!0:"rt-pcr"===t.profil.depistage_type?e.querySelector("#depistage_type_rtpcr").checked=!0:"antigenique_autotest"===t.profil.depistage_type&&(e.querySelector("#depistage_type_antigenique_autotest").checked=!0),"positif"===t.profil.depistage_resultat?e.querySelector("#depistage_resultat_positif").checked=!0:"negatif"===t.profil.depistage_resultat?e.querySelector("#depistage_resultat_negatif").checked=!0:"en_attente"===t.profil.depistage_resultat&&(e.querySelector("#depistage_resultat_en_attente").checked=!0));var r=e.elements.depistage;na(e,r),r.addEventListener("click",function(){na(e,r)});var p=e.querySelector("input[type=submit]"),s=t.profil.estMonProfil()?"Je n\u2019ai pas pass\xE9 de test":"Cette personne n\u2019a pas pass\xE9 de test",l=Qg(e,p.value,s,"Veuillez remplir le formulaire au complet");Vg(i,a,l),e.addEventListener("submit",function(e){e.preventDefault();var i=e.target;t.profil.depistage=i.elements.depistage.checked,t.profil.depistage?(t.profil.depistage_start_date=new Date(i.elements.depistage_start_date.value),t.profil.depistage_type=ua(i,"depistage_type"),t.profil.depistage_resultat=ua(i,"depistage_resultat")):(t.profil.depistage_start_date=void 0,t.profil.depistage_type=void 0,t.profil.depistage_resultat=void 0),t.enregistrerProfilActuel().then(function(){t.goToNextPage("depistage")})})}function ll(e,t){var c=e.querySelector("input[type=submit]");ba(e,"contact_a_risque",t.profil),ba(e,"contact_a_risque_meme_lieu_de_vie",t.profil),ba(e,"contact_a_risque_contact_direct",t.profil),ba(e,"contact_a_risque_actes",t.profil),ba(e,"contact_a_risque_espace_confine",t.profil),ba(e,"contact_a_risque_tousse_eternue",t.profil),ba(e,"contact_a_risque_meme_classe",t.profil),ba(e,"contact_a_risque_autre",t.profil),ba(e,"contact_a_risque_stop_covid",t.profil),ba(e,"contact_a_risque_assurance_maladie",t.profil);var a=e.elements.contact_a_risque;na(e,a),a.addEventListener("click",function(){na(e,a)});var r=t.profil.estMonProfil()?"Je n\u2019ai pas eu de contact \xE0 risque":"Cette personne n\u2019a pas eu de contact \xE0 risque";ml(e,c.value,r,"Veuillez remplir le formulaire au complet"),e.addEventListener("submit",function(e){e.preventDefault(),t.profil.contact_a_risque=e.target.elements.contact_a_risque.checked,t.profil.contact_a_risque_meme_lieu_de_vie=e.target.elements.contact_a_risque_meme_lieu_de_vie.checked,t.profil.contact_a_risque_contact_direct=e.target.elements.contact_a_risque_contact_direct.checked,t.profil.contact_a_risque_actes=e.target.elements.contact_a_risque_actes.checked,t.profil.contact_a_risque_espace_confine=e.target.elements.contact_a_risque_espace_confine.checked,t.profil.contact_a_risque_tousse_eternue=e.target.elements.contact_a_risque_tousse_eternue.checked,t.profil.contact_a_risque_meme_classe=e.target.elements.contact_a_risque_meme_classe.checked,t.profil.contact_a_risque_stop_covid=e.target.elements.contact_a_risque_stop_covid.checked,t.profil.contact_a_risque_assurance_maladie=e.target.elements.contact_a_risque_assurance_maladie.checked,t.profil.contact_a_risque_autre=e.target.elements.contact_a_risque_autre.checked,t.enregistrerProfilActuel().then(function(){t.goToNextPage("contactarisque")})})}function ml(e,t,c,a){var r=new Ya(e),o=r.submitButton,i=r.primaryCheckbox,n=r.secondaryCheckboxes,_=n.pop(),s=r.qS("input[type=checkbox]#contact_a_risque_stop_covid"),u=r.qS("input[type=checkbox]#contact_a_risque_assurance_maladie");function l(){var e=Kb(n)||_.checked;!i.checked||e?(o.disabled=!1,s.checked||u.checked?o.value=t:o.value=i.checked?t:c):(o.disabled=!0,o.value=a)}function d(){_.checked?n.forEach(function(e){e.checked=!1,e.disabled=!0}):n.forEach(function(e){e.disabled=!1})}l(),i.addEventListener("change",l),s.addEventListener("change",l),u.addEventListener("change",l),n.forEach(function(e){e.addEventListener("change",l)}),_.addEventListener("change",l),d(),_.addEventListener("change",d)}function nl(e,r){fc(e,"departement",r.profil),ba(e,"foyer_autres_personnes",r.profil),ba(e,"foyer_enfants",r.profil),ba(e,"activite_pro",r.profil),ba(e,"activite_pro_sante",r.profil);var t=e.querySelector("input[type=submit]"),o=r.profil.estMonProfil()?"Votre d\xE9partement de r\xE9sidence est requis":"Son d\xE9partement de r\xE9sidence est requis";Xk(e,t.value,o);var i=e.elements.departement;i.addEventListener("focus",function(e){e.target.value=""}),i.addEventListener("change",function(e){e.target.blur()});var n=e.elements.foyer_autres_personnes,a=e.querySelectorAll("#".concat(n.id," ~ .secondary"));na(e,n,a),n.addEventListener("click",function(){return na(e,n,a)});var l=e.elements.activite_pro,c=e.querySelectorAll("#".concat(l.id," ~ .secondary"));na(e,l,c),l.addEventListener("click",function(){return na(e,l,c)}),document.getElementById("geolocalisation").addEventListener("click",sl),jb(e,"#error-geolocalisation"),e.querySelector("select").addEventListener("change",function(){jb(e,"#error-geolocalisation")}),e.addEventListener("submit",function(e){e.preventDefault(),r.profil.departement=e.target.elements.departement.value,r.profil.foyer_autres_personnes=e.target.elements.foyer_autres_personnes.checked,r.profil.foyer_enfants=e.target.elements.foyer_enfants.checked,r.profil.activite_pro=e.target.elements.activite_pro.checked,r.profil.activite_pro_sante=e.target.elements.activite_pro_sante.checked,r.enregistrerProfilActuel().then(function(){r.goToNextPage("situation")})})}var ol,pl=false;function ql(){if(pl)return;pl=true;ol={};ol="/departements-1000m.27eaefd6.geojson"}var rl=function(){this.matchDepartement=function(e,o,t,n){var r=this;this.loadMap(function(a){var i=!0;a.features.forEach(function(n){("Polygon"===n.geometry.type?[n.geometry.coordinates]:n.geometry.coordinates).forEach(function(a){a.forEach(function(a){r.booleanPointInPolygon([o,e],a)&&(i=!1,t(n.properties))})})}),i&&n()})},this.loadMap=function(e){var o=new XMLHttpRequest;o.overrideMimeType("application/json"),o.open("GET",(ql(),ol),!0),o.onload=function(){var t=JSON.parse(o.responseText);e(t)},o.send()},this.booleanPointInPolygon=function(e,o){for(var t=e[0],n=e[1],r=!1,a=0,i=o.length-1;a<o.length;i=a++){var l=o[a][0],c=o[a][1],u=o[i][0],s=o[i][1];c>n!=s>n&&t<(u-l)*(n-c)/(s-c)+l&&(r=!r)}return r}};function sl(e){e.preventDefault();var o=new rl,t=document.querySelector("form#situation-form");jb(t,"#error-geolocalisation");var n=function(e){var o=t.querySelector("#departement");o.value=e.code,o.dispatchEvent(new CustomEvent("change"))},r=function(){dc(t,"error-geolocalisation")};navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,a=e.coords.longitude;o.matchDepartement(t,a,n,r)},function(e){console.warn("ERREUR ("+e.code+"): "+e.message),r()},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}function tl(e,t){var r=e.querySelector("input[type=submit]");fc(e,"age",t.profil),fc(e,"taille",t.profil),fc(e,"poids",t.profil),ba(e,"grossesse_3e_trimestre",t.profil);var i=new Zg(t.profil);e.antecedent_chronique.checked=i.antecedents,ba(e,"antecedent_cardio",t.profil),ba(e,"antecedent_diabete",t.profil),ba(e,"antecedent_respi",t.profil),ba(e,"antecedent_dialyse",t.profil),ba(e,"antecedent_greffe",t.profil),ba(e,"antecedent_cancer",t.profil),ba(e,"antecedent_immunodep",t.profil),ba(e,"antecedent_cirrhose",t.profil),ba(e,"antecedent_drepano",t.profil),ba(e,"antecedent_trisomie",t.profil),ba(e,"antecedent_chronique_autre",t.profil);var o=e.elements.antecedent_chronique;na(e,o),o.addEventListener("click",function(){return na(e,o)});Pg(e,r.value,"Les informations d\u2019\xE2ge, de poids et de taille sont requises"),e.addEventListener("submit",function(e){e.preventDefault(),t.profil.age=Wg(e.target.elements.age),t.profil.poids=Wg(e.target.elements.poids),t.profil.taille=ul(e.target.elements.taille),t.profil.grossesse_3e_trimestre=e.target.elements.grossesse_3e_trimestre.checked,t.profil.antecedent_cardio=e.target.elements.antecedent_cardio.checked,t.profil.antecedent_diabete=e.target.elements.antecedent_diabete.checked,t.profil.antecedent_respi=e.target.elements.antecedent_respi.checked,t.profil.antecedent_dialyse=e.target.elements.antecedent_dialyse.checked,t.profil.antecedent_greffe=e.target.elements.antecedent_greffe.checked,t.profil.antecedent_cancer=e.target.elements.antecedent_cancer.checked,t.profil.antecedent_immunodep=e.target.elements.antecedent_immunodep.checked,t.profil.antecedent_cirrhose=e.target.elements.antecedent_cirrhose.checked,t.profil.antecedent_drepano=e.target.elements.antecedent_drepano.checked,t.profil.antecedent_trisomie=e.target.elements.antecedent_trisomie.checked,t.profil.antecedent_chronique_autre=e.target.elements.antecedent_chronique_autre.checked,t.enregistrerProfilActuel().then(function(){t.goToNextPage("sante")})})}function Wg(e){var t=parseFloat(e.value.replace(",","."));return Math.round(t)}function ul(e){var t=parseFloat(e.value.replace(",","."));return t<3&&(t*=100),Math.round(t)}function vl(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function Xg(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wl(e,s,t){return s&&Xg(e.prototype,s),t&&Xg(e,t),e}var xl={"01":!0,"02":!0,"03":!0,"04":!0,"05":!0,"06":!0,"07":!0,"08":!0,"09":!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0,16:!0,17:!0,18:!0,19:!0,21:!0,22:!0,23:!0,24:!0,25:!0,26:!0,27:!0,28:!0,29:!0,"2A":!0,"2B":!0,30:!0,31:!0,32:!0,33:!0,34:!0,35:!0,36:!0,37:!0,38:!0,39:!0,40:!0,41:!0,42:!0,43:!0,44:!0,45:!0,46:!0,47:!0,48:!0,49:!0,50:!0,51:!0,52:!0,53:!0,54:!0,55:!0,56:!0,57:!0,58:!0,59:!0,60:!0,61:!0,62:!0,63:!0,64:!0,65:!0,66:!0,67:!0,68:!0,69:!0,70:!0,71:!0,72:!0,73:!0,74:!0,75:!0,76:!0,77:!0,78:!0,79:!0,80:!0,81:!0,82:!0,83:!0,84:!0,85:!0,86:!0,87:!0,88:!0,89:!0,90:!0,91:!0,92:!0,93:!0,94:!0,95:!0,971:!1,972:!1,973:!1,974:!1,975:!1,976:!1,977:!1,978:!1};function yl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yg(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zl(e,t,i){return t&&Yg(e.prototype,t),i&&Yg(e,i),e}var Al=function(){function e(t,i){yl(this,e),this.profil=t,this.algoOrientation=i}return zl(e,[{key:"isSup60",value:function(){return this.profil.age>=60}},{key:"isSup50",value:function(){return this.profil.age>=50}},{key:"isProfessionnelDeSante",value:function(){return this.profil.activite_pro_sante}},{key:"isARisque",value:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie}},{key:"isTresHautRisque",value:function(){return this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_trisomie}},{key:"isVaccinable",value:function(){return this.isSup60()||this.isProfessionnelDeSante()||this.isTresHautRisque()||this.isSup50()&&this.isARisque()}}]),e}();var Bl=["antigenique-negatif-fragile","asymptomatique","asymptomatique-positif-antigenique","contact-a-risque-avec-test","contact-a-risque-meme-lieu-de-vie","contact-a-risque-meme-lieu-de-vie-sans-depistage","contact-a-risque-sans-test","en-attente","personne-fragile","peu-de-risques","positif-symptomatique-urgent","symptomatique-antigenique-positif","symptomatique-en-attente","symptomatique-negatif","symptomatique-positif","symptomatique-sans-test","symptomatique-urgent"],Cl=["antigenique-negatif-fragile","contact-a-risque-autre","contact-a-risque-avec-test","contact-a-risque-meme-lieu-de-vie","contact-a-risque-meme-lieu-de-vie-sans-depistage","contact-a-risque-sans-test","depistage-positif-antigenique-asymptomatique","depistage-positif-antigenique-symptomatique","depistage-positif-asymptomatique","depistage-positif-symptomatique","symptomes-actuels-en-attente","symptomes-actuels-positif-critique","symptomes-actuels-sans-depistage","symptomes-actuels-sans-depistage-critique","symptomes-passes-en-attente","symptomes-passes-positif","symptomes-passes-positif-antigenique","symptomes-passes-sans-depistage"],Zg=function(){function e(s){vl(this,e),this.profil=s}return wl(e,[{key:"situation",get:function(){return this.profil.isComplete()?this._situationDepistage()+"_"+this._situationSymptomes():""}},{key:"_situationDepistage",value:function(){return!this.profil.depistage||this.profil.depistageNegatifObsolete()||this.profil.depistagePositifObsolete()?"pas_teste":"antigenique"===this.profil.depistage_type&&"negatif"===this.profil.depistage_resultat&&this.personneFragile?"antigenique_negatif_fragile":"antigenique"!==this.profil.depistage_type&&"antigenique_autotest"!==this.profil.depistage_type||"positif"!==this.profil.depistage_resultat?this.profil.depistage_resultat:"antigenique_positif"}},{key:"_situationSymptomes",value:function(){var e;return this.profil.hasSymptomesActuelsReconnus()?(e="symptomes_actuels",this.facteursDeGraviteMajeurs&&(e+="_graves")):e=this.profil.symptomes_passes?"symptomes_passes":this.profil.hasContactARisqueReconnus()?this.profil.contact_a_risque_meme_lieu_de_vie?"contact_a_risque_meme_lieu_de_vie":"contact_a_risque":this.profil.contact_a_risque_autre?"contact_pas_vraiment_a_risque":"asymptomatique",e}},{key:"sup65",get:function(){return this.profil.age>=65}},{key:"sup50",get:function(){return this.profil.age>=50}},{key:"imc",get:function(){var e=this.profil.taille/100;return this.profil.poids/(e*e)}},{key:"personneFragile",get:function(){return this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30||this.antecedents}},{key:"antecedents",get:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie}},{key:"fievre",get:function(){return this.profil.symptomes_actuels&&(this.profil.symptomes_actuels_temperature||this.profil.symptomes_actuels_temperature_inconnue)}},{key:"facteursDeGraviteMajeurs",get:function(){return this.profil.symptomes_actuels_souffle||this.profil.symptomes_actuels_alimentation}},{key:"risqueDInfection",get:function(){return this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes||this.profil.hasContactARisqueReconnus()}},{key:"listStatuts",get:function(){return Bl}},{key:"listConseilsPersonnels",get:function(){return Cl}},{key:"statutEtConseils",get:function(){switch(this.situation){case"positif_symptomes_actuels_graves":case"antigenique_positif_symptomes_actuels_graves":return{statut:"positif-symptomatique-urgent",conseils:"symptomes-actuels-positif-critique"};case"negatif_symptomes_actuels_graves":case"antigenique_negatif_fragile_symptomes_actuels_graves":case"en_attente_symptomes_actuels_graves":case"pas_teste_symptomes_actuels_graves":return{statut:"symptomatique-urgent",conseils:"symptomes-actuels-sans-depistage-critique"};case"positif_symptomes_actuels":return{statut:"symptomatique-positif",conseils:"depistage-positif-symptomatique"};case"positif_symptomes_passes":return{statut:"symptomatique-positif",conseils:"symptomes-passes-positif"};case"positif_contact_a_risque":case"positif_contact_a_risque_meme_lieu_de_vie":case"positif_contact_pas_vraiment_a_risque":case"positif_asymptomatique":return{statut:"asymptomatique",conseils:"depistage-positif-asymptomatique"};case"antigenique_positif_contact_a_risque":case"antigenique_positif_contact_a_risque_meme_lieu_de_vie":case"antigenique_positif_contact_pas_vraiment_a_risque":case"antigenique_positif_asymptomatique":return{statut:"asymptomatique-positif-antigenique",conseils:"depistage-positif-antigenique-asymptomatique"};case"negatif_symptomes_actuels":return{statut:"symptomatique-negatif",conseils:null};case"negatif_symptomes_passes":return{statut:this.statutSelonFragilite(),conseils:null};case"antigenique_positif_symptomes_actuels":return{statut:"symptomatique-antigenique-positif",conseils:"depistage-positif-antigenique-symptomatique"};case"antigenique_positif_symptomes_passes":return{statut:"symptomatique-antigenique-positif",conseils:"symptomes-passes-positif-antigenique"};case"antigenique_negatif_fragile_symptomes_actuels":case"antigenique_negatif_fragile_symptomes_passes":return{statut:"antigenique-negatif-fragile",conseils:"antigenique-negatif-fragile"};case"negatif_contact_a_risque_meme_lieu_de_vie":case"antigenique_negatif_fragile_contact_a_risque_meme_lieu_de_vie":case"en_attente_contact_a_risque_meme_lieu_de_vie":return{statut:"contact-a-risque-meme-lieu-de-vie",conseils:"contact-a-risque-meme-lieu-de-vie"};case"negatif_contact_a_risque":case"antigenique_negatif_fragile_contact_a_risque":case"en_attente_contact_a_risque":return{statut:"contact-a-risque-avec-test",conseils:"contact-a-risque-avec-test"};case"negatif_contact_pas_vraiment_a_risque":case"antigenique_negatif_fragile_contact_pas_vraiment_a_risque":return{statut:this.statutSelonFragilite(),conseils:"contact-a-risque-autre"};case"negatif_asymptomatique":case"antigenique_negatif_fragile_asymptomatique":return{statut:this.statutSelonFragilite(),conseils:null};case"en_attente_symptomes_actuels":return{statut:"symptomatique-en-attente",conseils:"symptomes-actuels-en-attente"};case"en_attente_symptomes_passes":return{statut:"symptomatique-en-attente",conseils:"symptomes-passes-en-attente"};case"en_attente_contact_pas_vraiment_a_risque":return{statut:"en-attente",conseils:"contact-a-risque-autre"};case"en_attente_asymptomatique":return{statut:"en-attente",conseils:null};case"pas_teste_symptomes_actuels":return{statut:"symptomatique-sans-test",conseils:"symptomes-actuels-sans-depistage"};case"pas_teste_symptomes_passes":return{statut:"symptomatique-sans-test",conseils:"symptomes-passes-sans-depistage"};case"pas_teste_contact_a_risque":return{statut:"contact-a-risque-sans-test",conseils:"contact-a-risque-sans-test"};case"pas_teste_contact_a_risque_meme_lieu_de_vie":return{statut:"contact-a-risque-meme-lieu-de-vie-sans-depistage",conseils:"contact-a-risque-meme-lieu-de-vie-sans-depistage"};case"pas_teste_contact_pas_vraiment_a_risque":return{statut:this.statutSelonFragilite(),conseils:"contact-a-risque-autre"};case"pas_teste_asymptomatique":return{statut:this.statutSelonFragilite(),conseils:null};default:return console.error("situation inconnue",this.situation),{statut:null,conseils:null};}}},{key:"statutSelonFragilite",value:function(){return this.personneFragile?"personne-fragile":"peu-de-risques"}},{key:"recommandeAutoSuivi",value:function(){return this.profil.hasSymptomesActuelsReconnus()&&!this.profil.depistagePositifRecentAsymptomatique()&&!this.profil.depistageNegatifRecentSymptomatique()}},{key:"timelineBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes?e.push("conseils-timeline-isolement-positif-avec-symptomes"):e.push("conseils-timeline-isolement-positif-sans-symptomes"):this.profil.hasContactARisqueReconnus()&&this.profil.contact_a_risque_meme_lieu_de_vie&&e.push("conseils-timeline-isolement-foyer-malade"),e}},{key:"conseilsPersonnelsBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?e.push("reponse-depistage-positif"):this.profil.depistageNegatifRecent()?e.push("reponse-depistage-negatif"):this.profil.depistageEnAttenteRecent()?e.push("reponse-depistage-en-attente"):this.profil.sansDepistage()&&e.push("reponse-depistage-sans"),e.push("conseils-personnels-".concat(this.statutEtConseils.conseils)),e}},{key:"isolementBlockNamesToDisplay",value:function(){var e=[];return(this.profil.depistagePositifRecent()||this.profil.depistageNegatifRecent()&&this.profil.hasContactARisqueReconnus()||this.profil.depistageEnAttenteRecent()&&this.risqueDInfection||this.profil.sansDepistage()&&this.risqueDInfection)&&(e.push("conseils-isolement"),this.profil.depistagePositifRecent()?e.push("conseils-isolement-depistage-positif"):this.profil.hasContactARisqueReconnus()?e.push("conseils-isolement-contact-a-risque"):this.risqueDInfection&&e.push("conseils-isolement-symptomes"),this.profil.foyer_autres_personnes?e.push("conseils-isolement-autres-personnes"):e.push("conseils-isolement-personne-seule")),e}},{key:"depistageBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()||this.profil.depistageNegatifRecent()||(e.push("conseils-tests"),this.profil.depistageEnAttenteRecent()?e.push("conseils-tests-resultats"):e.push("conseils-tests-general")),this.profil.depistageNegatifRecent()&&void 0!==this.profil.depistage_type&&"antigenique"===this.profil.depistage_type&&this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes)&&(e.push("conseils-tests"),e.push("conseils-tests-rt-pcr")),e}},{key:"vaccinBlockNamesToDisplay",value:function(){var e=[];function s(s,t){var i=new Al(s,t);i.isProfessionnelDeSante()?e.push("conseils-vaccins-activite-pro-sante"):i.isSup60()?e.push("conseils-vaccins-60-ans"):i.isARisque()&&(i.isTresHautRisque()?e.push("conseils-vaccins-tres-haut-risque"):i.isSup50()?e.push("conseils-vaccins-50-ans-a-risque"):e.push("conseils-vaccins-demande-medecin"))}return this.profil.vaccins?(e.push("reponse-vaccins-deja-vaccine"),e.push("conseils-vaccins-deja-vaccine")):(e.push("reponse-vaccins-pas-encore-vaccine"),e.push("conseils-vaccins-pas-encore-vaccine"),this.profil.covid_passee?this.profil.hasCovidPlus6Mois()?e.push("reponse-historique-6-mois-plus"):this.profil.hasCovidPlus3Mois()?e.push("reponse-historique-3-6-mois"):e.push("reponse-historique-3-mois-moins"):e.push("reponse-historique-sans"),this.profil.covid_passee?this.profil.hasCovidPlus6Mois()?(e.push("conseils-vaccins-6-mois-plus"),s(this.profil,this)):this.profil.hasCovidPlus3Mois()?e.push("conseils-vaccins-3-6-mois"):e.push("conseils-vaccins-3-mois-moins"):s(this.profil,this)),e}},{key:"gestesBarriereBlockNamesToDisplay",value:function(){var e=["conseils-gestes-barrieres-masque"];return this.personneFragile?((this.antecedents||this.profil.antecedent_chronique_autre)&&e.push("reponse-gestes-barrieres-masque-antecedents"),(this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.push("reponse-gestes-barrieres-masque-caracteristiques-a-risques"),e.push("conseils-gestes-barrieres-masque-fragile")):e.push("conseils-gestes-barrieres-masque-general"),e}},{key:"scolariteBlockNamesToDisplay",value:function(){return["conseils-scolarite"]}},{key:"vieQuotidienneBlockNamesToDisplay",value:function(){var e=["conseils-vie-quotidienne"];return xl[this.profil.departement]?e.push("conseils-confinement"):"971"===this.profil.departement?e.push("conseils-couvre-feu-971"):"972"===this.profil.departement?e.push("conseils-couvre-feu-972"):"973"===this.profil.departement?e.push("conseils-couvre-feu-973"):"974"===this.profil.departement?e.push("conseils-couvre-feu-974"):e.push("conseils-couvre-feu-19h"),e}},{key:"activiteProBlockNamesToDisplay",value:function(){var e=[];if(this.profil.activite_pro||this.profil.activite_pro_sante){e.push("conseils-activite"),e.push("reponse-activite-pro");var s=this.profil.hasSymptomesActuelsReconnus()&&(!this.profil.depistage||this.profil.depistage&&"en_attente"==this.profil.depistage_resultat);s&&e.push("conseils-activite-pro-arret-de-travail-isolement"),this.profil.contact_a_risque_stop_covid&&e.push("conseils-activite-pro-arret-de-travail-tac"),this.profil.activite_pro_sante?e.push("conseils-activite-pro-sante"):(this.antecedents?(e.push("reponse-activite-pro-antecedents"),e.push("conseils-activite-pro-arret")):s||e.push("conseils-activite-pro"),e.push("conseils-activite-pro-infos"))}return e}},{key:"grossesseBlockNamesToDisplay",value:function(){var e=[];return this.profil.grossesse_3e_trimestre&&e.push("conseils-grossesse"),e}},{key:"santeBlockNamesToDisplay",value:function(){var e=[];return this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()?e.push("conseils-sante-personne-fragile-symptomatique"):e.push("conseils-sante-personne-fragile")),e.length&&((this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.unshift("reponse-sante-caracteristiques-a-risques"),(this.antecedents||this.profil.antecedent_chronique_autre)&&e.unshift("reponse-sante-antecedents"),e.unshift("conseils-sante")),e}},{key:"enfantsBlockNamesToDisplay",value:function(){var e=[];return this.profil.foyer_enfants&&e.push("conseils-foyer-enfants"),e}}]),e}();function Dl(e,i){Ll(e),Bg(e,i.profil);var t=new Zg(i.profil);if(void 0===i.profil.questionnaire_completion_date&&(i.profil.questionnaire_completion_date=new Date,i.enregistrerProfilActuel(),i.plausible("Questionnaire termin\xE9"),i.profil.estMonProfil()?i.plausible("Questionnaire termin\xE9 pour moi"):i.plausible("Questionnaire termin\xE9 pour un proche")),t.recommandeAutoSuivi()&&!i.profil.suivi_active?(i.profil.suivi_active=!0,i.enregistrerProfilActuel()):i.profil.suivi_active&&!i.profil.hasSuiviStartDate()&&(i.profil.suivi_active=!1,i.enregistrerProfilActuel()),Fl(e,i.profil,t),i.profil.hasSuiviStartDate()&&i.profil.hasHistorique()){if(i.profil.hasDeconfinementDate())dc(e,"deconfinement");else{var o=new _g(i.profil);dc(e,"suivi"),El(e,o),Gl(e,o)}jb(e,"#conseils-statut")}(Hl(e,i.profil,t),Kl())?navigator.standalone||da(e.querySelector(".browser-mobile-safari")):da(e.querySelector(".browser-other"));xg(e.querySelector(".feedback-component"),i),yg(e,i),i.profil.hasSuiviStartDate()&&wg(e,i.profil),zg(e.querySelector(".js-suppression"),i)}function El(e,i){var t=i.profil,o=[i.graviteBlockNameToDisplay()];0!==i.psy&&o.push(i.psyBlockNameToDisplay()),t.hasHistorique()&&(o.push("suivi-bloc-liens"),o.push("conseils-personnels-titre"),o.push("conseils-sante"),o.push("conseils-sante-historique-symptomes"),Array.from(e.querySelectorAll(".suivi-repetition")).forEach(function(e){Hk(e,t)}),Array.from(e.querySelectorAll(".suivi-derniere-fois")).forEach(function(e){Ik(e,t)})),vd(e,o)}function Fl(e,i,t){var o=Jl(t);o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.concat(t.timelineBlockNamesToDisplay())).concat(t.conseilsPersonnelsBlockNamesToDisplay())).concat(t.isolementBlockNamesToDisplay())).concat(t.depistageBlockNamesToDisplay())).concat(t.vaccinBlockNamesToDisplay())).concat(t.gestesBarriereBlockNamesToDisplay())).concat(t.scolariteBlockNamesToDisplay())).concat(t.vieQuotidienneBlockNamesToDisplay())).concat(t.activiteProBlockNamesToDisplay())).concat(t.grossesseBlockNamesToDisplay())).concat(t.santeBlockNamesToDisplay())).concat(t.enfantsBlockNamesToDisplay()),vd(e,o)}function Gl(e,i){var t=i.evolutionsBlockNamesToDisplay();t.length&&(da(e.querySelector(".reponse")),vd(e,t))}function Hl(e,i,t){xk(e.querySelector("#conseils-block-titre"),i),yk(e.querySelector("#conseils-block-date")),zk(e.querySelector("#nom-departement"),i.departement),Array.from(e.querySelectorAll(".lien-vaccination")).forEach(function(e){Dk(e,i.departement)}),Array.from(e.querySelectorAll(".lien-depistage")).forEach(function(e){Ck(e,i.departement)});var o=e.querySelector("#lien-prefecture");o&&Ak(o,i.departement);var s=e.querySelector("#ctai-contact-placeholder");s&&Bk(s,i.departement),Array.from(e.querySelectorAll(".nom-caracteristiques-a-risques")).forEach(function(e){Fk(e,t)}),Array.from(e.querySelectorAll(".reponse-personne-fragile")).forEach(function(e){Ek(e,t)}),Array.from(e.querySelectorAll(".nom-antecedents")).forEach(function(e){Gk(e,t)}),Il(e,i)}function Il(e,i){function t(e){if(void 0===e)return"";return e.toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"})}function o(i,t){Array.from(e.querySelectorAll(".timeline .timeline-".concat(i," .timeline-date"))).forEach(function(e){var i;e.innerHTML=(i=t).charAt(0).toUpperCase()+i.slice(1)})}function s(e){o("exposition","\xC0 partir du ".concat(t(e.exposition))),o("contagiosite",t(e.contagiosite)),o("isolement",e.debutIsolement),o("aujourdhui","".concat(t(new Date)," (aujourd\u2019hui)")),o("demain","".concat(t(e.demain)," (demain)")),o("test","".concat(t(e.finIsolement))),o("fin","\xC0 partir du ".concat(t(e.finIsolement))),o("fin-positif","\xC0 partir du ".concat(t(e.finIsolementPositif)))}i.depistagePositifRecent()&&(i.hasSymptomesActuelsReconnus()||i.symptomes_passes?(s({exposition:ea(14,i.symptomes_start_date),contagiosite:ea(2,i.symptomes_start_date),debutIsolement:"".concat(t(i.symptomes_start_date)," (<a href=\"#symptomes\">modifier</a>)"),demain:Xa(1,new Date),finIsolement:Xa(10,i.symptomes_start_date),finIsolementPositif:Xa(17,i.symptomes_start_date)}),i.symptomes_start_date>ea(1)?(jb(e,".timeline .timeline-aujourdhui"),ud(e,".timeline .timeline-demain")):i.suiviAujourdhui()&&(jb(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-a-faire"),ud(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-fait"),ud(e,".timeline .timeline-demain"))):(s({exposition:ea(14,i.depistage_start_date),contagiosite:ea(2,i.depistage_start_date),debutIsolement:"".concat(t(i.depistage_start_date)," (<a href=\"#depistage\">modifier</a>)"),demain:Xa(1,new Date),finIsolement:Xa(10,i.depistage_start_date),finIsolementPositif:Xa(17,i.symptomes_start_date)}),function(i){e.querySelector(".duree-isolement").innerText=i}(10)))}function Jl(e){return["statut-".concat(e.statutEtConseils.statut)]}function Kl(){var e=window.navigator.userAgent,i=!!e.match(/iPad/i),t=!!e.match(/iPhone/i),o=i||t,s=!!e.match(/WebKit/i),r=!!e.match(/CriOS/i);return o&&s&&!r}function Ll(e){var t="details",r="summary";(function(){var e=document.createElement(t);if(!("open"in e))return!1;e.innerHTML="<"+r+">a</"+r+">b",document.body.appendChild(e);var n=e.offsetHeight;e.open=!0;var o=n!=e.offsetHeight;return document.body.removeChild(e),o})()||Array.from(e.querySelectorAll("details summary")).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();for(var r=e.target;r.tagName.toLowerCase()!==t;)r=r.parentElement;r.hasAttribute("open")||r.open?(r.open=!1,r.removeAttribute("open")):(r.open=!0,r.setAttribute("open","open"))})})}function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $g(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t,i){return t&&$g(e.prototype,t),i&&$g(e,i),e}var _g=function(){function e(t){Ml(this,e),this.profil=t,this.dernierEtat=t.dernierEtat()}return Nl(e,[{key:"calculGravite",value:function(e){var t=0;return"oui"!==e.fievre&&"oui"!==e.diarrheeVomissements&&"oui"!==e.toux||(t=1),"pire"!==e.essoufflement&&"pire"!==e.etatGeneral&&"oui"!==e.confusion&&"oui"!==e.alimentationHydratation&&"oui"!==e.mauxDeTete||(t=2),"critique"!==e.essoufflement&&"critique"!==e.etatGeneral||(t=3),t}},{key:"gravite",get:function(){return this.calculGravite(this.dernierEtat)}},{key:"graviteBlockNameToDisplay",value:function(){return"suivi-gravite-".concat(this.gravite)}},{key:"psy",get:function(){var e=0;return"critique"===this.dernierEtat.etatPsychologique&&(e=0===this.gravite?1:2),e}},{key:"psyBlockNameToDisplay",value:function(){return"suivi-psy-".concat(this.psy)}},{key:"evolutionsBlockNamesToDisplay",value:function(){var e=[],t=this.dernierEtat;return"critique"===t.essoufflement&&e.push("essoufflement-gravite-3"),"pire"===t.essoufflement&&e.push("essoufflement-gravite-2"),"critique"===t.etatGeneral&&e.push("etat-general-gravite-3"),"pire"===t.etatGeneral&&e.push("etat-general-gravite-2"),"oui"===t.confusion&&e.push("confusion-gravite-2"),"oui"===t.alimentationHydratation&&e.push("alimentation-hydratation-gravite-2"),"critique"===t.etatPsychologique&&e.push("etat-psychologique-gravite-3"),"oui"===t.fievre&&e.push("fievre-gravite-1"),"oui"===t.diarrheeVomissements&&e.push("diarrhee-vomissements-gravite-1"),"oui"===t.mauxDeTete&&e.push("maux-de-tete-gravite-2"),"oui"===t.toux&&e.push("toux-gravite-1"),e}}]),e}();function Ol(e,i){var r=new bh(i.profil),n=e.querySelector("#profils-cards-suivi"),t=n.insertBefore(r.renderCardSuivi(),n.firstChild);i.profil.hasSuiviStartDate()&&(Pl(t.querySelector("[data-delete-suivi]"),i),wg(e,i.profil))}function Pl(e,i){e.addEventListener("click",function(r){r.preventDefault();var n=e.dataset.deleteSuivi,t="mes_infos"===n?"votre suivi":"le suivi de ".concat(n);confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer ".concat(t,"\xA0?"))&&i.supprimerSuivi(n).then(function(){i.chargerProfilActuel().then(function(){window.location.reload(!0)})})})}var Ql,Rl,Sl;function Fd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t,n){return t&&ah(e.prototype,t),n&&ah(e,n),e}var Vl={};var Wl={};Wl="/suivi_gravite.2be5ab74.svg";var Xl={};Xl="/suivi_gravite_superieure.71ef163c.svg";var Yl={};Yl="/suivi_interrogation.ca18cc71.svg";var Zl={};Zl="/suivi_ok.0e6b0564.svg";var $l={};$l="/suivi_stable.aa042c30.svg";Vl={gravite:Wl,gravite_superieure:Xl,interrogation:Yl,ok:Zl,stable:$l};var bh=function(){function e(t){Tl(this,e),this.profil=t}return Ul(e,[{key:"renderButtonSuivi",value:function(){var e=this.profil.estMonProfil()?"mon":"son",t=this.profil.estMonProfil()?"mes":"ses",n=this.profil.hasSuiviStartDate()&&this.profil.hasHistorique()?"Continuer":"D\xE9marrer",r=this.profil.hasSymptomesStartDate()?"suivisymptomes":"symptomes",a=Na(Ql||(Ql=Fd(["\n            <a class=\"button button-full-width conseils-link\"\n                data-set-profil=\"","\" href=\"#","\"\n                >"," "," suivi</a>\n        "])),this.profil.nom,r,n,e),i=Na(Rl||(Rl=Fd(["\n            <a class=\"button button-outline button-full-width conseils-link\"\n                data-set-profil=\"","\" href=\"#conseils\"\n                >Voir "," conseils</a>\n        "])),this.profil.nom,t),o="";return this.profil.hasSuiviStartDate()&&(o=Na(Sl||(Sl=Fd(["\n                <a data-delete-suivi=\"","\" href=\"\" role=\"button\"\n                    >Supprimer "," suivi</a>\n            "])),this.profil.nom,e)),a+i+o}},{key:"renderDernierSuivi",value:function(){var e=this.profil.dernierEtat();if(e){var t=tg(new Date(e.date),"fr");return"<small>Derni\xE8re r\xE9ponse\xA0: ".concat(t,"</small>")}return""}},{key:"renderCardSuivi",value:function(){return Hb("\n        <li class=\"card\">\n            ".concat(this.profil.renderNom(),"\n            ").concat(this.renderDernierSuivi(),"\n            <div>").concat(this.renderButtonSuivi(),"</div>\n        </li>\n        "))}},{key:"renderDebutSymptomes",value:function(){return"<p>D\xE9but des sympt\xF4mes\xA0:\n            ".concat(this.profil.symptomes_start_date.toLocaleString(),"\n            (<a href=\"#symptomes\">modifier</a>)\n        </p>")}},{key:"renderDebutSuivi",value:function(){return"<p>D\xE9but du suivi\xA0: ".concat(this.profil.suivi_start_date.toLocaleString(),"</p>")}},{key:"suiviParSymptome",value:function(e){return this.profil.suivi.map(function(t){return{date:t.date,statut:t[e]}})}},{key:"switchSymptomeTitre",value:function(e){switch(e){case"essoufflement":return"Manque de souffle";case"etatGeneral":return"\xC9tat g\xE9n\xE9ral";case"etatPsychologique":return"\xC9tat psychologique";case"alimentationHydratation":return"Absence d\u2019alimentation ou d\u2019hydratation";case"diarrheeVomissements":return"Diarrh\xE9e ou vomissements";case"fievre":return"Fi\xE8vre sup\xE9rieure \xE0 39\xB0C";case"confusion":return"Somnolence ou confusion";case"mauxDeTete":return"Maux de t\xEAte";case"toux":return"Toux";default:return"";}}},{key:"switchStatut",value:function(e){switch(e){case"critique":return"Beaucoup moins bien";case"pire":return"Un peu moins bien";case"stable":return"Stable";case"aucun":return"Pas ce sympt\xF4me";case"mieux":return"Mieux";case"":return"Pas de sympt\xF4mes";default:return"";}}},{key:"switchBooleen",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas de sympt\xF4mes";default:return"";}}},{key:"switchBooleenOptionnel",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas d\u2019information";default:return"";}}},{key:"switchGravite",value:function(e){switch(e){case"gravite_3":return"\xC9tat grave, il est recommand\xE9 d\u2019appeler le SAMU\xA0(15)";case"gravite_2":return"\xC9tat pr\xE9occupant, consulter un m\xE9decin ou \xE0 d\xE9faut le SAMU\xA0(15)";case"gravite_1":return"\xC9tat \xE0 v\xE9rifier, consulter votre m\xE9decin traitant";case"gravite_0":return"\xC9tat correct";default:return"";}}},{key:"switchIcone",value:function(e){switch(e){case"critique":case"oui":case"gravite_3":return"gravite_superieure";case"pire":case"gravite_2":return"gravite";case"stable":case"aucun":case"gravite_1":return"stable";case"mieux":case"non":case"gravite_0":return"ok";default:return"interrogation";}}},{key:"renderIcone",value:function(e){var $PGTo$$interop$default=va(Vl);var t=$PGTo$$interop$default.d[this.switchIcone(e)];return"<img src=\"".concat(t,"\" width=\"40px\" height=\"40px\" />")}},{key:"renderSymptomeStatutTableCell",value:function(e){return"<tr>\n            <td>".concat(new Date(e.date).toLocaleString(),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchStatut(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeStatutTable",value:function(e){var t=this,n="<tbody>\n            ".concat(e.map(function(e){return t.renderSymptomeStatutTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat("<thead><tr><td>Date</td><td colspan=\"2\">Statut</td></tr></thead>","\n            ").concat(n,"\n        </table>")}},{key:"renderSymptomeStatut",value:function(e,t){var n="<h3>".concat(this.switchSymptomeTitre(e),"</h3>");return"".concat(n,"\n            ").concat(this.renderSymptomeStatutTable(t),"\n        ")}},{key:"renderSymptomeBooleenTableCell",value:function(e){return"<tr>\n            <td>".concat(new Date(e.date).toLocaleString(),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchBooleen(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeBooleenTable",value:function(e){var t=this,n="<tbody>\n            ".concat(e.map(function(e){return t.renderSymptomeBooleenTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat("<thead><tr><td>Date</td><td colspan=\"2\">Statut</td></tr></thead>","\n            ").concat(n,"\n        </table>")}},{key:"renderSymptomeBooleen",value:function(e,t){var n="<h3>".concat(this.switchSymptomeTitre(e),"</h3>");return"".concat(n,"\n            ").concat(this.renderSymptomeBooleenTable(t),"\n        ")}},{key:"renderSymptomeBooleenOptionnelTableCell",value:function(e){return"<tr>\n            <td>".concat(new Date(e.date).toLocaleString(),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchBooleenOptionnel(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeBooleenOptionnelTable",value:function(e){var t=this,n="<tbody>\n            ".concat(e.map(function(e){return t.renderSymptomeBooleenOptionnelTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat("<thead><tr><td>Date</td><td colspan=\"2\">Statut</td></tr></thead>","\n            ").concat(n,"\n        </table>")}},{key:"renderSymptomeBooleenOptionnel",value:function(e,t){var n="<h3>".concat(this.switchSymptomeTitre(e),"</h3>");return"".concat(n,"\n            ").concat(this.renderSymptomeBooleenOptionnelTable(t),"\n        ")}},{key:"renderGraviteTableCell",value:function(e,t){var n="gravite_".concat(t.calculGravite(e));return"<tr>\n            <td>".concat(new Date(e.date).toLocaleString(),"</td>\n            <td>").concat(this.renderIcone(n),"</td>\n            <td>").concat(this.switchGravite(n),"</td>\n        </tr>")}},{key:"renderGraviteTable",value:function(e,t){var n=this,r="<tbody>\n            ".concat(e.map(function(e){return n.renderGraviteTableCell(e,t)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat("<thead><tr><td>Date</td><td colspan=\"2\">Statut</td></tr></thead>","\n            ").concat(r,"\n        </table>")}},{key:"renderGravite",value:function(){var e=new _g(this.profil);return"<h3>Bilan de votre situation</h3>\n            ".concat(this.renderGraviteTable(this.profil.suivi,e),"\n        ")}},{key:"renderHistorique",value:function(){var e=this,t=["alimentationHydratation","diarrheeVomissements","fievre"];this.profil.estMonProfil()||t.push("confusion");return Hb("\n            <div>\n                ".concat(this.renderDebutSymptomes(),"\n                ").concat(this.renderDebutSuivi(),"\n                ").concat(this.renderGravite(),"\n                ").concat(["essoufflement","etatGeneral","etatPsychologique"].map(function(t){return e.renderSymptomeStatut(t,e.suiviParSymptome(t))}).join("\n"),"\n                ").concat(t.map(function(t){return e.renderSymptomeBooleen(t,e.suiviParSymptome(t))}).join("\n"),"\n                ").concat(["mauxDeTete","toux"].map(function(t){return e.renderSymptomeBooleenOptionnel(t,e.suiviParSymptome(t))}).join("\n"),"\n            </div>\n        "))}}]),e}();function _l(e,t){t.profil.hasSuiviStartDate()||(t.profil.suivi_start_date=new Date);var i=!t.profil.estMonProfil(),s=e.querySelector(".them-only");i?(da(s),s.classList.add("required")):(fa(s),s.classList.remove("required"));var o=e.querySelector("input[type=submit]");e.suivi_symptomes.checked=!0;var r=e.elements.suivi_symptomes;na(e,r),r.addEventListener("click",function(){na(e,r)});var a=i?"Cette personne n\u2019a pas de sympt\xF4mes aujourd\u2019hui":"Je n\u2019ai pas eu de sympt\xF4mes aujourd\u2019hui";Wk(e,o.value,a,"Veuillez remplir le formulaire au complet"),e.addEventListener("submit",function(e){e.preventDefault();var s=e.target,o={date:new Date().toJSON(),symptomes:s.elements.suivi_symptomes.checked,essoufflement:ua(s,"suivi_symptomes_essoufflement"),etatGeneral:ua(s,"suivi_symptomes_etat_general"),alimentationHydratation:ua(s,"suivi_symptomes_alimentation_hydratation"),etatPsychologique:ua(s,"suivi_symptomes_etat_psychologique"),fievre:ua(s,"suivi_symptomes_fievre"),diarrheeVomissements:ua(s,"suivi_symptomes_diarrhee_vomissements"),mauxDeTete:ua(s,"suivi_symptomes_maux_de_tete"),toux:ua(s,"suivi_symptomes_toux")};i&&(o.confusion=ua(s,"suivi_symptomes_confusion")),t.profil.ajouterEtat(o),t.plausible("Suivi rempli"),1===t.profil.suivi.length?t.plausible("Premier suivi"):2===t.profil.suivi.length?t.plausible("Deuxi\xE8me suivi"):3===t.profil.suivi.length&&t.plausible("Troisi\xE8me suivi");var r=function(e){return"oui"===e},a=function(e){return"pire"===e||"critique"===e};o.symptomes?(void 0===t.profil.symptomes_start_date&&(t.profil.symptomes_start_date=new Date),t.profil.symptomes_passes=!1,t.profil.symptomes_actuels=!0,t.profil.symptomes_actuels_temperature=r(o.fievre),t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=r(o.toux),t.profil.symptomes_actuels_douleurs=a(o.etatGeneral),t.profil.symptomes_actuels_diarrhee=r(o.diarrheeVomissements),t.profil.symptomes_actuels_fatigue=a(o.etatGeneral),t.profil.symptomes_actuels_alimentation=r(o.alimentationHydratation),t.profil.symptomes_actuels_souffle=a(o.essoufflement)):(t.profil.symptomes_passes=!0,t.profil.symptomes_actuels=!1,t.profil.symptomes_actuels_temperature=!1,t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=!1,t.profil.symptomes_actuels_douleurs=!1,t.profil.symptomes_actuels_diarrhee=!1,t.profil.symptomes_actuels_fatigue=!1,t.profil.symptomes_actuels_alimentation=!1,t.profil.symptomes_actuels_souffle=!1),new cm(t.profil).isDeconfinable()?t.profil.hasDeconfinementDate()||(t.profil.deconfinement_date=new Date,t.plausible("Suivi deconfinement")):t.profil.deconfinement_date=void 0,t.enregistrerProfilActuel().then(function(){t.goToNextPage("suivisymptomes")})})}function am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ch(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bm(e,t,r){return t&&ch(e.prototype,t),r&&ch(e,r),e}var cm=function(){function e(t){am(this,e),this.profil=t}return bm(e,[{key:"isQuarantaineDone",value:function(){return new Date>Xa(10,this.profil.symptomes_start_date)}},{key:"isSuiviRegulier",value:function(){var e=ea(0),t=ea(1),r=ea(2);return this.profil.suiviEntre(t,e).length>=1&&this.profil.suiviEntre(r,t).length>=1}},{key:"isFievreDone",value:function(){return this.profil.suiviDerniersJours(2).every(function(e){return!e.symptomes||"non"===e.fievre})}},{key:"isEssoufflementDone",value:function(){return this.profil.suiviDerniersJours(2).every(function(e){return!e.symptomes||"mieux"===e.essoufflement||"stable"===e.essoufflement||"aucun"===e.essoufflement})}},{key:"isDeconfinable",value:function(){return this.isQuarantaineDone()&&this.isSuiviRegulier()&&this.isFievreDone()&&this.isEssoufflementDone()}}]),e}();function dm(e,r){var i=new bh(r.profil),s=e.querySelector("#suivi-historique-content");s.innerHTML="<div class=\"break\"></div>",s.insertBefore(i.renderHistorique(),s.firstChild),yg(e,r)}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fm(e,t,r){return t&&dh(e.prototype,t),r&&dh(e,r),e}var gm=function(){function e(t){em(this,e),this.router=t,this.currentVersion=null,this.updateInProgress=!1}return fm(e,[{key:"checkForUpdatesEvery",value:function(e){this.checkForUpdate(),setInterval(this.checkForUpdate.bind(this),60*e*1e3)}},{key:"checkForUpdate",value:function(){var e=this;if(!0!==this.updateInProgress&&"nouvelleversiondisponible"!==ec()){var t=new XMLHttpRequest;t.open("GET","version.json?"+new Date().getTime(),!0),t.setRequestHeader("Cache-Control","no-cache"),t.onload=function(){if(200===t.status){var r=JSON.parse(t.responseText);e.updateVersion(r.version)}else console.debug("Impossible de r\xE9cup\xE9rer les informations de mise \xE0 jour")},t.onerror=function(){console.debug("Impossible de r\xE9cup\xE9rer les informations de mise \xE0 jour")},t.send()}}},{key:"showBanner",value:function(e){var t=e.querySelector("#update-banner");da(t),e.dispatchEvent(new CustomEvent("show-banner",{detail:t}))}},{key:"updateFooter",value:function(e){if(this.currentVersion!==e){var t=document.querySelector(".js-latest-update"),r=e.substring(0,10).split("-").reverse().join("-");t.innerText=" - Mis \xE0 jour le\xA0: ".concat(r,".")}}},{key:"updateVersion",value:function(e){var t=this;this.updateFooter(e),null!==this.currentVersion&&this.currentVersion!==e?(this.updateInProgress=!0,"serviceWorker"in navigator?(console.debug("Service worker supported"),navigator.serviceWorker.getRegistration().then(function(e){console.debug("Telling service worker to look for an update"),e.update().catch(function(e){console.error("Mise \xE0 jour du service worker impossible :",e)}),e.addEventListener("updatefound",function(){console.debug("Service worker update found");var r=e.installing;r.addEventListener("statechange",function(){console.debug("New service worker state:",r.state),"installed"==r.state&&t.notifyUser()})})})):(console.debug("Service worker NOT supported"),this.notifyUser())):this.currentVersion=e}},{key:"notifyUser",value:function(){var e=ec();this.onInteractivePage(e)?this.notifyUserWithoutInterrupting(e):this.redirectUserToUpdatePage(e)}},{key:"onInteractivePage",value:function(e){return Ig.concat(["suivisymptomes"]).indexOf(e)>-1}},{key:"notifyUserWithoutInterrupting",value:function(e){var t=this;document.addEventListener("show-banner",function(r){setTimeout(function(){r.detail.scrollIntoView({behavior:"smooth"})},100);var n=r.detail.querySelector("#refresh-button-banner");t.setupRefreshButton(n,e)}),this.showBanner(document)}},{key:"redirectUserToUpdatePage",value:function(e){this.router.navigate("nouvelleversiondisponible?origine=".concat(e))}},{key:"setupRefreshButton",value:function(e,t){e.innerText="Mettre \xE0 jour",e.setAttribute("href","#"+(t||"introduction")),e.addEventListener("click",this.onClickRefreshButton.bind(this))}},{key:"onClickRefreshButton",value:function(e){console.debug("Updater.onClickRefreshButton()"),e.preventDefault();var t=e.target;this.router.pause(),console.log(window.location),window.location=t.href,console.log(window.location),t.innerText="Mise \xE0 jour en cours...",t.setAttribute("href",""),"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(function(e){null===e.waiting?(console.debug("New service worker is already active"),console.debug("Reloading the page"),window.location.reload(!0)):(console.debug("New service worker is waiting"),navigator.serviceWorker.addEventListener("controllerchange",function(){console.debug("New service worker is now controlling the page"),console.debug("Reloading the page"),window.location.reload(!0)}),console.debug("Sending message to activate new service worker"),e.waiting.postMessage("skipWaiting"))}):(console.debug("Browser does not support service workers"),console.debug("Reloading the page"),window.location.reload(!0))}}]),e}();function hm(e){var t=e.location,n=e.document,r=n.body.dataset.statsUrl,a={domain:t.hostname};function s(e){console.warn("[Plausible] Ignore event: "+e)}function o(o,i){if("prerender"===n.visibilityState)return s("prerendering");var l={};if(l.n=o,l.u=t.protocol+"//"+t.hostname+t.pathname+t.hash.slice(1)+t.search,l.d=a.domain,l.r=n.referrer||null,l.w=e.innerWidth,i&&i.props&&(l.p=JSON.stringify(i.props)),/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(t.hostname)||"file:"===t.protocol)return s("running locally"),e.app._plausibleTrackingEvents.push("".concat(l.n,":").concat(t.hash.slice(1))),void console.debug("[Plausible]",l);var c=new XMLHttpRequest;c.open("POST",r+"/api/event",!0),c.setRequestHeader("Content-Type","text/plain"),c.send(JSON.stringify(l)),c.onreadystatechange=function(){4==c.readyState&&i&&i.callback&&i.callback()}}try{""===t.hash.slice(1)&&o("pageview")}catch(i){new Image().src=r+"/api/error?message="+encodeURIComponent(i.message)}return o}function im(){var e="https://logs1412.xiti.com",n=614871;function t(e){console.warn("[ATInternet] Ignore event: "+e)}return function(r){if("prerender"===document.visibilityState)return t("prerendering");var o={};if(o.s=n,o.ts=new Date().getTime(),o.idclient="Consent-NO",o.p=r,o.s2="","mesconseilscovid.sante.gouv.fr"!==location.hostname)return t("running locally"),void console.debug("[ATInternet]",o);var i,s=new XMLHttpRequest;s.open("GET","".concat(e,"/hit.xiti").concat((i=o,"?"+Object.keys(i).map(function(e){return e+"="+encodeURIComponent(i[e])}).join("&"))),!0),s.send(null)}}var jm=function(){function e(){Vj(this,e),this.profil=new xd,this.stockage=new hk,this.questionnaire=new pk,this._plausibleTrackingEvents=[],this._plausible=hm(window),this.atinternet=im();var r=new URLSearchParams(window.location.search);this.source=r.get("source")||r.get("utm_source")}return Wj(e,[{key:"init",value:function(){return this.router=qk(this),this.updater=new gm(this.router),this.chargerProfilActuel()}},{key:"chargerProfilActuel",value:function(){var e=this;return this.stockage.getProfilActuel().then(function(r){return e.chargerProfil(r)})}},{key:"enregistrerProfilActuel",value:function(){return this.stockage.enregistrer(this.profil)}},{key:"creerProfil",value:function(e){var r=this;return this.profil.resetData(e),this.stockage.setProfilActuel(e).then(function(){return r.enregistrerProfilActuel()})}},{key:"creerProfilsTypes",value:function(){for(var e=["Positif","N\xE9gatif","En attente","Pas test\xE9"],r=["Sympt\xF4mes actuels graves","Sympt\xF4mes actuels","Sympt\xF4mes actuels non \xE9vocateurs","Sympt\xF4mes pass\xE9s","Contact \xE0 risque","Contact pas vraiment \xE0 risque","Rien de tout \xE7a"],t=[],i=0;i<e.length;i++)for(var o=0;o<r.length;o++){var n=e[i],a=r[o];("N\xE9gatif"!==n||"Sympt\xF4mes pass\xE9s"!==a&&"Contact pas vraiment \xE0 risque"!==a&&"Rien de tout \xE7a"!==a)&&("Pas test\xE9"!==n||"Contact pas vraiment \xE0 risque"!==a&&"Rien de tout \xE7a"!==a)||(t.push(this.creerProfilType(n,a,!0,!1)),t.push(this.creerProfilType(n,a,!1,!0))),t.push(this.creerProfilType(n,a,!1,!1))}return Promise.all(t)}},{key:"creerProfilType",value:function(e,r,t){var i=this,o="".concat(e," + ").concat(r);return t&&(o="".concat(o," + personne fragile")),this.stockage.getProfil(o).then(function(n){if(null===n)return(n=new xd(o)).fillTestData(e,r,t),i.stockage.enregistrer(n);console.error("Le profil \"".concat(o,"\" existe d\xE9j\xE0"))})}},{key:"basculerVersProfil",value:function(e){var r=this;return this.stockage.setProfilActuel(e).then(function(){return r.chargerProfil(e)})}},{key:"chargerProfil",value:function(e){return this.profil.nom=e,this.stockage.charger(this.profil)}},{key:"supprimerProfil",value:function(e){var r=this;return this.stockage.supprimer(e).then(function(){r.profil.nom===e&&(r.profil.nom=void 0,r.stockage.setProfilActuel(void 0))})}},{key:"supprimerSuivi",value:function(e){var r=this;return this.basculerVersProfil(e).then(function(e){return e.resetSuivi(),r.stockage.enregistrer(e)})}},{key:"supprimerTout",value:function(){var e=this;return this.stockage.supprimerTout().then(function(){e.profil.resetData()})}},{key:"goToNextPage",value:function(e){var r=this.questionnaire.nextPage(e,this.profil);this.router.navigate(r)}},{key:"loadFakeSuiviData",value:function(){this.profil.symptomes_start_date=ea(11),this.profil.suivi_start_date=ea(11),this.profil.suivi=[{date:ea(1).toJSON(),symptomes:!0,essoufflement:"mieux",etatGeneral:"mieux",etatPsychologique:"mieux",alimentationHydratation:"non",fievre:"non",diarrheeVomissements:"non",mauxDeTete:"non",toux:"non"}],this.enregistrerProfilActuel()}},{key:"plausible",value:function(e){var r=new URLSearchParams(window.location.search),t={},i={};if(void 0!==this.profil.nom&&(i.profil=this.profil.estMonProfil()?"moi":"proche"),r.toString().length){var o=r.get("source")||r.get("utm_source");o&&(i.source=o)}return Object.keys(i).length>0&&(t.props=i),this._plausible(e,t)}}]),e}();var Za=new jm;window.app=Za,Za.init().then(function(){Za.router.resolve(),Za.updater.checkForUpdatesEvery(10),xg(document.querySelector("footer .feedback-component"),Za),Mj(document.querySelector("footer .js-feedback-contact"),Za),zg(document.querySelector("footer .js-suppression"),Za)}),td("fr",function(e,r){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][r]}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(function(){}).catch(function(e){console.log("SW registration failed: ",e)});return{"KIzB":{}};});