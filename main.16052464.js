parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function ma(a){return a&&a.__esModule?{d:a.default}:{d:a}}function Ni(name){var err=new Error("Cannot find module '"+name+"'");err.code="MODULE_NOT_FOUND";throw err}var Pa=this;var ba={},af=Function.prototype,Qc=af.bind,Rc=af.call,Oi=Qc&&Qc.bind(Rc);ba=Qc?function($){return $&&Oi(Rc,$)}:function($){return $&&function(){return Rc.apply($,arguments)}};var Sc={},Pi=Math.ceil,Qi=Math.floor;Sc=function($){var r=+$;return r!=r||0===r?0:(r>0?Qi:Pi)(r)};var aa={},gc=function($){return $&&$.Math==Math&&$};aa=gc("object"==typeof globalThis&&globalThis)||gc("object"==typeof window&&window)||gc("object"==typeof self&&self)||gc("object"==typeof Pa&&Pa)||function(){return this}()||Function("return this")();var Aa={};Aa=!1;var Tc={},Ri=Object.defineProperty;Tc=function(r,$){try{Ri(aa,r,{value:$,configurable:!0,writable:!0})}catch(e){aa[r]=$}return $};var Qa={},bf="__core-js_shared__",Si=aa[bf]||Tc(bf,{});Qa=Si;var cf={};(cf=function(r,e){return Qa[r]||(Qa[r]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:Aa?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"});var Uc={},Ti=aa.TypeError;Uc=function(r){if(null==r)throw Ti("Can't call method on "+r);return r};var hc={},Ui=aa.Object;hc=function(e){return Ui(Uc(e))};var ka={},Vi=ba({}.hasOwnProperty);ka=Object.hasOwn||function(r,$){return Vi(hc(r),$)};var df={},Wi=0,Xi=Math.random(),Yi=ba(1 .toString);df=function($){return"Symbol("+(void 0===$?"":$)+")_"+Yi(++Wi+Xi,36)};var ea={};ea=function(t){return"function"==typeof t};var xa={},Zi=function($){return ea($)?$:void 0};xa=function($,a){return arguments.length<2?Zi(aa[$]):aa[$]&&aa[$][a]};var fb={};fb=xa("navigator","userAgent")||"";var Ab,ef,ic={},ff=aa.process,gf=aa.Deno,hf=ff&&ff.versions||gf&&gf.version,jf=hf&&hf.v8;jf&&(ef=(Ab=jf.split("."))[0]>0&&Ab[0]<4?1:+(Ab[0]+Ab[1])),!ef&&fb&&(!(Ab=fb.match(/Edge\/(\d+)/))||Ab[1]>=74)&&(Ab=fb.match(/Chrome\/(\d+)/))&&(ef=+Ab[1]),ic=ef;var ya={};ya=function(r){try{return!!r()}catch(t){return!0}};var Vc={};Vc=!!Object.getOwnPropertySymbols&&!ya(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&ic&&ic<41});var Wc={};Wc=Vc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var la={},Bb=cf("wks"),Wa=aa.Symbol,kf=Wa&&Wa.for,$i=Wc?Wa:Wa&&Wa.withoutSetter||df;la=function($){if(!ka(Bb,$)||!Vc&&"string"!=typeof Bb[$]){var r="Symbol."+$;Vc&&ka(Wa,$)?Bb[$]=Wa[$]:Bb[$]=Wc&&kf?kf(r):$i(r)}return Bb[$]};var Xc={},_i=la("toStringTag"),lf={};lf[_i]="z",Xc="[object z]"===String(lf);var gb={},aj=ba({}.toString),bj=ba("".slice);gb=function(r){return bj(aj(r),8,-1)};var Cb={},cj=la("toStringTag"),dj=aa.Object,ej="Arguments"==gb(function(){return arguments}()),fj=function(r,$){try{return r[$]}catch(a){}};Cb=Xc?gb:function(r){var $,a,s;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(a=fj($=dj(r),cj))?a:ej?gb($):"Object"==(s=gb($))&&ea($.callee)?"Arguments":s};var ia={},gj=aa.String;ia=function(r){if("Symbol"===Cb(r))throw TypeError("Cannot convert a Symbol value to a string");return gj(r)};var mf={},hj=ba("".charAt),nf=ba("".charCodeAt),ij=ba("".slice),of=function(r){return function($,e){var t,a,i=ia(Uc($)),n=Sc(e),c=i.length;return n<0||n>=c?r?"":void 0:(t=nf(i,n))<55296||t>56319||n+1===c||(a=nf(i,n+1))<56320||a>57343?r?hj(i,n):t:r?ij(i,n,n+2):a-56320+(t-55296<<10)+65536}};mf={codeAt:of(!1),charAt:of(!0)};var jc={},jj=ba(Function.toString);ea(Qa.inspectSource)||(Qa.inspectSource=function(r){return jj(r)}),jc=Qa.inspectSource;var kj={},pf=aa.WeakMap;kj=ea(pf)&&/native code/.test(jc(pf));var ra={};ra=function(l){return"object"==typeof l?null!==l:ea(l)};var sa={};sa=!ya(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]});var Db={},Yc=aa.document,lj=ra(Yc)&&ra(Yc.createElement);Db=function($){return lj?Yc.createElement($):{}};var qf={};qf=!sa&&!ya(function(){return 7!=Object.defineProperty(Db("div"),"a",{get:function(){return 7}}).a});var pa={},mj=aa.String,nj=aa.TypeError;pa=function(r){if(ra(r))return r;throw nj(mj(r)+" is not an object")};var ha={},Eb=Function.prototype.call;ha=Eb.bind?Eb.bind(Eb):function(){return Eb.apply(Eb,arguments)};var Fb={};Fb=ba({}.isPrototypeOf);var Zc={},oj=aa.Object;Zc=Wc?function($){return"symbol"==typeof $}:function($){var r=xa("Symbol");return ea(r)&&Fb(r.prototype,oj($))};var kc={},pj=aa.String;kc=function(r){try{return pj(r)}catch($){return"Object"}};var Ha={},qj=aa.TypeError;Ha=function(r){if(ea(r))return r;throw qj(kc(r)+" is not a function")};var lc={};lc=function(a,e){var l=a[e];return null==l?void 0:Ha(l)};var rj={},sj=aa.TypeError;rj=function(l,e){var $,r;if("string"===e&&ea($=l.toString)&&!ra(r=ha($,l)))return r;if(ea($=l.valueOf)&&!ra(r=ha($,l)))return r;if("string"!==e&&ea($=l.toString)&&!ra(r=ha($,l)))return r;throw sj("Can't convert object to primitive value")};var tj={},uj=aa.TypeError,vj=la("toPrimitive");tj=function(r,$){if(!ra(r)||Zc(r))return r;var e,a=lc(r,vj);if(a){if(void 0===$&&($="default"),e=ha(a,r,$),!ra(e)||Zc(e))return e;throw uj("Can't convert object to primitive value")}return void 0===$&&($="number"),rj(r,$)};var $c={};$c=function(r){var $=tj(r,"string");return Zc($)?$:$+""};var wj=aa.TypeError,rf=Object.defineProperty,Xa=sa?rf:function(r,$,e){if(pa(r),$=$c($),pa(e),qf)try{return rf(r,$,e)}catch(t){}if("get"in e||"set"in e)throw wj("Accessors not supported");return"value"in e&&(r[$]=e.value),r};var Ia={};Ia=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};var za={};za=sa?function(r,e,$){return Xa(r,e,Ia(1,$))}:function(r,e,$){return r[e]=$,r};var _c={},sf=cf("keys");_c=function($){return sf[$]||(sf[$]=df($))};var ad={};ad={};var tf,bd,uf,ta={},vf="Object already initialized",cd=aa.TypeError,xj=aa.WeakMap,yj=function($){return uf($)?bd($):tf($,{})},zj=function($){return function(r){var v;if(!ra(r)||(v=bd(r)).type!==$)throw cd("Incompatible receiver, "+$+" required");return v}};if(kj||Qa.state){var Ya=Qa.state||(Qa.state=new xj),Aj=ba(Ya.get),wf=ba(Ya.has),Bj=ba(Ya.set);tf=function($,r){if(wf(Ya,$))throw new cd(vf);return r.facade=$,Bj(Ya,$,r),r},bd=function($){return Aj(Ya,$)||{}},uf=function($){return wf(Ya,$)}}else{var hb=_c("state");ad[hb]=!0,tf=function($,r){if(ka($,hb))throw new cd(vf);return r.facade=$,za($,hb,r),r},bd=function($){return ka($,hb)?$[hb]:{}},uf=function($){return ka($,hb)}}ta={set:tf,get:bd,has:uf,enforce:yj,getterFor:zj};var xf={}.propertyIsEnumerable,yf=Object.getOwnPropertyDescriptor,Cj=yf&&!xf.call({1:2},1),zf=Cj?function(r){var $=yf(this,r);return!!$&&$.enumerable}:xf;var Af={},dd=aa.Object,Dj=ba("".split);Af=ya(function(){return!dd("z").propertyIsEnumerable(0)})?function($){return"String"==gb($)?Dj($,""):dd($)}:dd;var Gb={};Gb=function(e){return Af(Uc(e))};var Bf=Object.getOwnPropertyDescriptor,ed=sa?Bf:function(r,e){if(r=Gb(r),e=$c(e),qf)try{return Bf(r,e)}catch($){}if(ka(r,e))return Ia(!ha(zf,r,e),r[e])};var fd={},Cf=Function.prototype,Ej=sa&&Object.getOwnPropertyDescriptor,gd=ka(Cf,"name"),Fj=gd&&"something"===function(){}.name,Gj=gd&&(!sa||sa&&Ej(Cf,"name").configurable);fd={EXISTS:gd,PROPER:Fj,CONFIGURABLE:Gj};var oa={},Hj=fd.CONFIGURABLE,Ij=ta.get,Jj=ta.enforce,Kj=String(String).split("String");(oa=function(e,t,r,$){var a,n=!!$&&!!$.unsafe,s=!!$&&!!$.enumerable,l=!!$&&!!$.noTargetGet,o=$&&void 0!==$.name?$.name:t;ea(r)&&("Symbol("===String(o).slice(0,7)&&(o="["+String(o).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ka(r,"name")||Hj&&r.name!==o)&&za(r,"name",o),(a=Jj(r)).source||(a.source=Kj.join("string"==typeof o?o:""))),e!==aa?(n?!l&&e[t]&&(s=!0):delete e[t],s?e[t]=r:za(e,t,r)):s?e[t]=r:Tc(t,r)})(Function.prototype,"toString",function(){return ea(this)&&Ij(this).source||jc(this)});var hd={},Lj=Math.max,Mj=Math.min;hd=function($,r){var n=Sc($);return n<0?Lj(n+r,0):Mj(n,r)};var Nj={},Oj=Math.min;Nj=function(r){return r>0?Oj(Sc(r),9007199254740991):0};var mc={};mc=function(a){return Nj(a.length)};var Pj={},Df=function(e){return function(r,$,t){var n,a=Gb(r),b=mc(a),o=hd(t,b);if(e&&$!=$){for(;b>o;)if((n=a[o++])!=n)return!0}else for(;b>o;o++)if((e||o in a)&&a[o]===$)return e||o||0;return!e&&-1}};Pj={includes:Df(!0),indexOf:Df(!1)};var Ef={},Qj=Pj.indexOf,Ff=ba([].push);Ef=function(r,$){var i,e=Gb(r),n=0,a=[];for(i in e)!ka(ad,i)&&ka(e,i)&&Ff(a,i);for(;$.length>n;)ka(e,i=$[n++])&&(~Qj(a,i)||Ff(a,i));return a};var nc={};nc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var Rj=nc.concat("length","prototype"),Sj=Object.getOwnPropertyNames||function(e){return Ef(e,Rj)};var Gf=Object.getOwnPropertySymbols;var Tj={},Uj=ba([].concat);Tj=xa("Reflect","ownKeys")||function(r){var e=Sj(pa(r)),$=Gf;return $?Uj(e,$(r)):e};var Hf={};Hf=function(r,e){for(var $=Tj(e),o=Xa,n=ed,t=0;t<$.length;t++){var a=$[t];ka(r,a)||o(r,a,n(e,a))}};var If={},Vj=/#|\.prototype\./,Hb=function($,r){var a=Xj[Wj($)];return a==Zj||a!=Yj&&(ea(r)?ya(r):!!r)},Wj=Hb.normalize=function($){return String($).replace(Vj,".").toLowerCase()},Xj=Hb.data={},Yj=Hb.NATIVE="N",Zj=Hb.POLYFILL="P";If=Hb;var na={},$j=ed;na=function(r,e){var $,a,o,t,l,n=r.target,i=r.global,q=r.stat;if($=i?aa:q?aa[n]||Tc(n,{}):(aa[n]||{}).prototype)for(a in e){if(t=e[a],o=r.noTargetGet?(l=$j($,a))&&l.value:$[a],!If(i?a:n+(q?".":"#")+a,r.forced)&&void 0!==o){if(typeof t==typeof o)continue;Hf(t,o)}(r.sham||o&&o.sham)&&za(t,"sham",!0),oa($,a,t,r)}};var oc={};oc=Object.keys||function(e){return Ef(e,nc)};var Jf={};Jf=sa?Object.defineProperties:function(e,d){pa(e);for(var r,$=Gb(d),t=oc(d),a=t.length,n=0;a>n;)Xa(e,r=t[n++],$[r]);return e};var id={};id=xa("document","documentElement");var jd,ib={},Kf=">",Lf="<",kd="prototype",ld="script",Mf=_c("IE_PROTO"),md=function(){},Nf=function($){return Lf+ld+Kf+$+Lf+"/"+ld+Kf},Of=function($){$.write(Nf("")),$.close();var e=$.parentWindow.Object;return $=null,e},_j=function(){var $,e=Db("iframe"),r="java"+ld+":";return e.style.display="none",id.appendChild(e),e.src=String(r),($=e.contentWindow.document).open(),$.write(Nf("document.F=Object")),$.close(),$.F},nd=function(){try{jd=new ActiveXObject("htmlfile")}catch(e){}nd="undefined"!=typeof document?document.domain&&jd?Of(jd):_j():Of(jd);for(var $=nc.length;$--;)delete nd[kd][nc[$]];return nd()};ad[Mf]=!0,ib=Object.create||function($,e){var r;return null!==$?(md[kd]=pa($),r=new md,md[kd]=null,r[Mf]=$):r=nd(),void 0===e?r:Jf(r,e)};var ak={};ak=!ya(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype});var Ib={},Pf=_c("IE_PROTO"),od=aa.Object,bk=od.prototype;Ib=ak?od.getPrototypeOf:function(e){var $=hc(e);if(ka($,Pf))return $[Pf];var r=$.constructor;return ea(r)&&$ instanceof r?r.prototype:$ instanceof od?bk:null};var jb,ck,dk,pd={},qd=la("iterator"),ek=!1;[].keys&&("next"in(dk=[].keys())?(ck=Ib(Ib(dk)))!==Object.prototype&&(jb=ck):ek=!0);var fk=null==jb||ya(function(){var r={};return jb[qd].call(r)!==r});fk?jb={}:Aa&&(jb=ib(jb)),ea(jb[qd])||oa(jb,qd,function(){return this}),pd={IteratorPrototype:jb,BUGGY_SAFARI_ITERATORS:ek};var Jb={},gk=Xa,Qf=la("toStringTag");Jb=function($,r,e){$&&!ka($=e?$:$.prototype,Qf)&&gk($,Qf,{configurable:!0,value:r})};var Za={};Za={};var Rf={},hk=pd.IteratorPrototype,ik=function(){return this};Rf=function(r,e,t,$){var a=e+" Iterator";return r.prototype=ib(hk,{next:Ia(+!$,t)}),Jb(r,a,!1,!0),Za[a]=ik,r};var jk={},kk=aa.String,lk=aa.TypeError;jk=function(r){if("object"==typeof r||ea(r))return r;throw lk("Can't set "+kk(r)+" as a prototype")};var Ra={};Ra=Object.setPrototypeOf||("__proto__"in{}?function(){var e,r=!1,t={};try{(e=ba(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(o){}return function(t,o){return pa(t),jk(o),r?e(t,o):t.__proto__=o,t}}():void 0);var Sf={},mk=fd.PROPER,nk=fd.CONFIGURABLE,Tf=pd.IteratorPrototype,pc=pd.BUGGY_SAFARI_ITERATORS,Kb=la("iterator"),Uf="keys",Lb="values",Vf="entries",Wf=function(){return this};Sf=function(r,$,a,e,t,p,C){Rf(a,$,e);var n,o,J,v=function(r){if(r===t&&R)return R;if(!pc&&r in s)return s[r];switch(r){case Uf:case Lb:case Vf:return function(){return new a(this,r)};}return function(){return new a(this)}},i=$+" Iterator",l=!1,s=r.prototype,c=s[Kb]||s["@@iterator"]||t&&s[t],R=!pc&&c||v(t),u="Array"==$&&s.entries||c;if(u&&(n=Ib(u.call(new r)))!==Object.prototype&&n.next&&(Aa||Ib(n)===Tf||(Ra?Ra(n,Tf):ea(n[Kb])||oa(n,Kb,Wf)),Jb(n,i,!0,!0),Aa&&(Za[i]=Wf)),mk&&t==Lb&&c&&c.name!==Lb&&(!Aa&&nk?za(s,"name",Lb):(l=!0,R=function(){return ha(c,this)})),t)if(o={values:v(Lb),keys:p?R:v(Uf),entries:v(Vf)},C)for(J in o)!pc&&!l&&J in s||oa(s,J,o[J]);else na({target:$,proto:!0,forced:pc||l},o);return Aa&&!C||s[Kb]===R||oa(s,Kb,R,{name:t}),Za[$]=R,o};var ok=mf.charAt,Xf="String Iterator",pk=ta.set,qk=ta.getterFor(Xf);Sf(String,"String",function(t){pk(this,{type:Xf,string:ia(t),index:0})},function(){var t,r=qk(this),e=r.string,$=r.index;return $>=e.length?{value:void 0,done:!0}:(t=ok(e,$),r.index+=t.length,{value:t,done:!1})});var Sa={},Yf=ba(ba.bind);Sa=function($,r){return Ha($),void 0===r?$:Yf?Yf($,r):function(){return $.apply(r,arguments)}};var rd={};rd=function(r,$,e){var t,a;pa(r);try{if(!(t=lc(r,"return"))){if("throw"===$)throw e;return e}t=ha(t,r)}catch(n){a=!0,t=n}if("throw"===$)throw e;if(a)throw t;return pa(t),e};var rk={};rk=function(r,e,$,t){try{return t?e(pa($)[0],$[1]):e($)}catch(a){rd(r,"throw",a)}};var Zf={},sk=la("iterator"),tk=Array.prototype;Zf=function(r){return void 0!==r&&(Za.Array===r||tk[sk]===r)};var $f={},_f=function(){},uk=[],ag=xa("Reflect","construct"),sd=/^\s*(?:class|function)\b/,vk=ba(sd.exec),wk=!sd.exec(_f),Mb=function(r){if(!ea(r))return!1;try{return ag(_f,uk,r),!0}catch($){return!1}},xk=function(r){if(!ea(r))return!1;switch(Cb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}return wk||!!vk(sd,jc(r))};$f=!ag||ya(function(){var r;return Mb(Mb.call)||!Mb(Object)||!Mb(function(){r=!0})||r})?xk:Mb;var td={};td=function(r,e,$){var t=$c(e);t in r?Xa(r,t,Ia(0,$)):r[t]=$};var qc={},yk=la("iterator");qc=function($){if(null!=$)return lc($,yk)||lc($,"@@iterator")||Za[Cb($)]};var Nb={},zk=aa.TypeError;Nb=function(r,t){var $=arguments.length<2?qc(r):t;if(Ha($))return pa(ha($,r));throw zk(kc(r)+" is not iterable")};var $a={},bg=aa.Array;$a=function(r){var e=hc(r),$=$f(this),a=arguments.length,n=a>1?arguments[1]:void 0,t=void 0!==n;t&&(n=Sa(n,a>2?arguments[2]:void 0));var i,l,o,I,L,T,v=qc(e),c=0;if(!v||this==bg&&Zf(v))for(i=mc(e),l=$?new this(i):bg(i);i>c;c++)T=t?n(e[c],c):e[c],td(l,c,T);else for(L=(I=Nb(e,v)).next,l=$?new this:[];!(o=ha(L,I)).done;c++)T=t?rk(I,n,[o.value,c],!0):o.value,td(l,c,T);return l.length=c,l};var cg={},dg=la("iterator"),Ak=!1;try{var Bk=0,eg={next:function(){return{done:!!Bk++}},return:function(){Ak=!0}};eg[dg]=function(){return this},Array.from(eg,function(){throw 2})}catch(error){}cg=function(r,$){if(!$&&!Ak)return!1;var t=!1;try{var n={};n[dg]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch(error){}return t};var Ck=!cg(function(r){Array.from(r)});na({target:"Array",stat:!0,forced:Ck},{from:$a});var Ob={},kb=Object.assign,fg=Object.defineProperty,Dk=ba([].concat);Ob=!kb||ya(function(){if(sa&&1!==kb({b:1},kb(fg({},"a",{enumerable:!0,get:function(){fg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var $={},a={},r=Symbol();return $[r]=7,"abcdefghijklmnopqrst".split("").forEach(function($){a[$]=$}),7!=kb({},$)[r]||"abcdefghijklmnopqrst"!=oc(kb({},a)).join("")})?function($,a){for(var r=hc($),e=arguments.length,n=1,t=Gf,i=zf;e>n;)for(var s,o=Af(arguments[n++]),w=t?Dk(oc(o),t(o)):oc(o),c=w.length,l=0;c>l;)s=w[l++],sa&&!ha(i,o,s)||(r[s]=o[s]);return r}:kb;na({target:"Object",stat:!0,forced:Object.assign!==Ob},{assign:Ob});var ua={},Ek=aa.Array,Fk=Math.max;ua=function(r,$,e){for(var a=mc(r),t=hd($,a),A=hd(void 0===e?a:e,a),g=Ek(Fk(A-t,0)),l=0;t<A;t++,l++)td(g,l,r[t]);return g.length=l,g};var Gk={},Hk=ba("".replace),Ik=ba("".split),Jk=ba([].join),ud=String(Error("zxcasd").stack),gg=/\n\s*at [^:]*:[^\n]*/,Kk=gg.test(ud),Lk=/@[^\n]*\n/.test(ud)&&!/zxcasd/.test(ud);Gk=function($,r){if("string"!=typeof $)return $;if(Kk)for(;r--;)$=Hk($,gg,"");else if(Lk)return Jk(ua(Ik($,"\n"),r),"\n");return $};var Mk={};Mk=function(e,r){ra(r)&&"cause"in r&&za(e,"cause",r.cause)};var Pb={},Nk=aa.TypeError,rc=function(r,$){this.stopped=r,this.result=$},hg=rc.prototype;Pb=function(r,$,e){var t,a,o,i,n,l,O,j=e&&e.that,G=!(!e||!e.AS_ENTRIES),s=!(!e||!e.IS_ITERATOR),v=!(!e||!e.INTERRUPTED),u=Sa($,j),c=function(r){return t&&rd(t,"normal",r),new rc(!0,r)},p=function(r){return G?(pa(r),v?u(r[0],r[1],c):u(r[0],r[1])):v?u(r,c):u(r)};if(s)t=r;else{if(!(a=qc(r)))throw Nk(kc(r)+" is not iterable");if(Zf(a)){for(o=0,i=mc(r);i>o;o++)if((n=p(r[o]))&&Fb(hg,n))return n;return new rc(!1)}t=Nb(r,a)}for(l=t.next;!(O=ha(l,t)).done;){try{n=p(O.value)}catch(y){rd(t,"throw",y)}if("object"==typeof n&&n&&Fb(hg,n))return n}return new rc(!1)};var Ok={};Ok=function(t,r){return void 0===t?arguments.length<2?"":r:ia(t)};var Pk={};Pk=!ya(function(){var r=Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",Ia(1,7)),7!==r.stack)});var Qk=la("toStringTag"),sc=aa.Error,Rk=[].push,Qb=function(r,e){var $,a=arguments.length>2?arguments[2]:void 0,t=Fb(vd,this);Ra?$=Ra(new sc(void 0),t?Ib(this):vd):($=t?this:ib(vd),za($,Qk,"Error")),za($,"message",Ok(e,"")),Pk&&za($,"stack",Gk($.stack,1)),Mk($,a);var p=[];return Pb(r,Rk,{that:p}),za($,"errors",p),$};Ra?Ra(Qb,sc):Hf(Qb,sc);var vd=Qb.prototype=ib(sc.prototype,{constructor:Ia(1,Qb),message:Ia(1,""),name:Ia(1,"AggregateError")});na({global:!0},{AggregateError:Qb});var wd={},xd=la("unscopables"),yd=Array.prototype;null==yd[xd]&&Xa(yd,xd,{configurable:!0,value:ib(null)}),wd=function(e){yd[xd][e]=!0};var Rb={},ig="Array Iterator",Sk=ta.set,Tk=ta.getterFor(ig);Rb=Sf(Array,"Array",function(e,r){Sk(this,{type:ig,target:Gb(e),index:0,kind:r})},function(){var e=Tk(this),r=e.target,a=e.kind,$=e.index++;return!r||$>=r.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:$,done:!1}:"values"==a?{value:r[$],done:!1}:{value:[$,r[$]],done:!1}},"values"),Za.Arguments=Za.Array,wd("keys"),wd("values"),wd("entries");var Uk={};Uk=Xc?{}.toString:function(){return"[object "+Cb(this)+"]"};Xc||oa(Object.prototype,"toString",Uk,{unsafe:!0});var Ma={};Ma=aa.Promise;var jg={};jg=function(e,r,$){for(var n in r)oa(e,n,r[n],$);return e};var Vk={},kg=la("species");Vk=function($){var e=xa($),r=Xa;sa&&e&&!e[kg]&&r(e,kg,{configurable:!0,get:function(){return this}})};var tc={},Wk=aa.TypeError;tc=function(r,o){if(Fb(o,r))return r;throw Wk("Incorrect invocation")};var Xk={},Yk=aa.TypeError;Xk=function(r){if($f(r))return r;throw Yk(kc(r)+" is not a constructor")};var lg={},Zk=la("species");lg=function($,r){var a,e=pa($).constructor;return void 0===e||null==(a=pa(e)[Zk])?r:Xk(a)};var $k={},zd=Function.prototype,mg=zd.apply,_k=zd.bind,ng=zd.call;$k="object"==typeof Reflect&&Reflect.apply||(_k?ng.bind(mg):function(){return ng.apply(mg,arguments)});var al={};al=ba([].slice);var og={};og=/(?:ipad|iphone|ipod).*applewebkit/i.test(fb);var Ta={};Ta="process"==gb(aa.process);var uc,bl,cl,pg,qg={},rg=aa.setImmediate,sg=aa.clearImmediate,dl=aa.process,Ad=aa.Dispatch,el=aa.Function,tg=aa.MessageChannel,fl=aa.String,Bd=0,Sb={},ug="onreadystatechange";try{uc=aa.location}catch(error){}var Cd=function($){if(ka(Sb,$)){var n=Sb[$];delete Sb[$],n()}},Dd=function($){return function(){Cd($)}},vg=function($){Cd($.data)},wg=function($){aa.postMessage(fl($),uc.protocol+"//"+uc.host)};rg&&sg||(rg=function($){var n=al(arguments,1);return Sb[++Bd]=function(){$k(ea($)?$:el($),void 0,n)},bl(Bd),Bd},sg=function($){delete Sb[$]},Ta?bl=function($){dl.nextTick(Dd($))}:Ad&&Ad.now?bl=function($){Ad.now(Dd($))}:tg&&!og?(pg=(cl=new tg).port2,cl.port1.onmessage=vg,bl=Sa(pg.postMessage,pg)):aa.addEventListener&&ea(aa.postMessage)&&!aa.importScripts&&uc&&"file:"!==uc.protocol&&!ya(wg)?(bl=wg,aa.addEventListener("message",vg,!1)):bl=ug in Db("script")?function($){id.appendChild(Db("script"))[ug]=function(){id.removeChild(this),Cd($)}}:function($){setTimeout(Dd($),0)}),qg={set:rg,clear:sg};var gl={};gl=/ipad|iphone|ipod/i.test(fb)&&void 0!==aa.Pebble;var hl={};hl=/web0s(?!.*chrome)/i.test(fb);var vc,Tb,xg,yg,il,zg,Ag,jl,Bg={},kl=ed,Cg=qg.set,Dg=aa.MutationObserver||aa.WebKitMutationObserver,Eg=aa.document,Fg=aa.process,wc=aa.Promise,Gg=kl(aa,"queueMicrotask"),Hg=Gg&&Gg.value;Hg||(vc=function(){var r,$;for(Ta&&(r=Fg.domain)&&r.exit();Tb;){$=Tb.fn,Tb=Tb.next;try{$()}catch(a){throw Tb?yg():xg=void 0,a}}xg=void 0,r&&r.enter()},og||Ta||hl||!Dg||!Eg?!gl&&wc&&wc.resolve?((Ag=wc.resolve(void 0)).constructor=wc,jl=Sa(Ag.then,Ag),yg=function(){jl(vc)}):Ta?yg=function(){Fg.nextTick(vc)}:(Cg=Sa(Cg,aa),yg=function(){Cg(vc)}):(il=!0,zg=Eg.createTextNode(""),new Dg(vc).observe(zg,{characterData:!0}),yg=function(){zg.data=il=!il})),Bg=Hg||function(r){var $={fn:r,next:void 0};xg&&(xg.next=$),Tb||(Tb=$,yg()),xg=$};var _a={},ll=function(r){var a,e;this.promise=new r(function(r,$){if(void 0!==a||void 0!==e)throw TypeError("Bad Promise constructor");a=r,e=$}),this.resolve=Ha(a),this.reject=Ha(e)};_a.f=function(r){return new ll(r)};var Ed={};Ed=function(r,e){if(pa(r),ra(e)&&e.constructor===r)return e;var $=_a.f(r);return(0,$.resolve)(e),$.promise};var ml={};ml=function(r,$){var e=aa.console;e&&e.error&&(1==arguments.length?e.error(r):e.error(r,$))};var lb={};lb=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}};var nl={};nl="object"==typeof window;var Ig,ol,Jg,pl,Kg=qg.set,ql=la("species"),Ja="Promise",Lg=ta.getterFor(Ja),rl=ta.set,sl=ta.getterFor(Ja),ab=Ma&&Ma.prototype,Ka=Ma,Ub=ab,Mg=aa.TypeError,Fd=aa.document,Gd=aa.process,Vb=_a.f,tl=Vb,ul=!!(Fd&&Fd.createEvent&&aa.dispatchEvent),Ng=ea(aa.PromiseRejectionEvent),Og="unhandledrejection",vl="rejectionhandled",Pg=0,Qg=1,wl=2,Hd=1,Rg=2,xl=!1,Wb=If(Ja,function(){var $=jc(Ka),t=$!==String(Ka);if(!t&&66===ic)return!0;if(Aa&&!Ub.finally)return!0;if(ic>=51&&/native code/.test($))return!1;var r=new Ka(function($){$(1)}),e=function($){$(function(){},function(){})};return(r.constructor={})[ql]=e,!(xl=r.then(function(){})instanceof e)||!t&&nl&&!Ng}),yl=Wb||!cg(function($){Ka.all($).catch(function(){})}),Sg=function($){var t;return!(!ra($)||!ea(t=$.then))&&t},Id=function($,t){if(!$.notified){$.notified=!0;var r=$.reactions;Bg(function(){for(var e=$.value,a=$.state==Qg,n=0;r.length>n;){var i,I,o,b=r[n++],v=a?b.ok:b.fail,G=b.resolve,l=b.reject,s=b.domain;try{v?(a||($.rejection===Rg&&Al($),$.rejection=Hd),!0===v?i=e:(s&&s.enter(),i=v(e),s&&(s.exit(),o=!0)),i===b.promise?l(Mg("Promise-chain cycle")):(I=Sg(i))?ha(I,i,G,l):G(i)):l(e)}catch(c){s&&!o&&s.exit(),l(c)}}$.reactions=[],$.notified=!1,t&&!$.rejection&&zl($)})}},Tg=function($,t,r){var e,a;ul?((e=Fd.createEvent("Event")).promise=t,e.reason=r,e.initEvent($,!1,!0),aa.dispatchEvent(e)):e={promise:t,reason:r},!Ng&&(a=aa["on"+$])?a(e):$===Og&&ml("Unhandled promise rejection",r)},zl=function($){ha(Kg,aa,function(){var t,r=$.facade,e=$.value;if(Ug($)&&(t=lb(function(){Ta?Gd.emit("unhandledRejection",e,r):Tg(Og,r,e)}),$.rejection=Ta||Ug($)?Rg:Hd,t.error))throw t.value})},Ug=function($){return $.rejection!==Hd&&!$.parent},Al=function($){ha(Kg,aa,function(){var t=$.facade;Ta?Gd.emit("rejectionHandled",t):Tg(vl,t,$.value)})},mb=function($,t,r){return function(e){$(t,e,r)}},nb=function($,t,r){$.done||($.done=!0,r&&($=r),$.value=t,$.state=wl,Id($,!0))},Jd=function($,t,r){if(!$.done){$.done=!0,r&&($=r);try{if($.facade===t)throw Mg("Promise can't be resolved itself");var e=Sg(t);e?Bg(function(){var r={done:!1};try{ha(e,t,mb(Jd,r,$),mb(nb,r,$))}catch(a){nb(r,a,$)}}):($.value=t,$.state=Qg,Id($,!1))}catch(a){nb({done:!1},a,$)}}};if(Wb&&(Ub=(Ka=function($){tc(this,Ub),Ha($),ha(Ig,this);var t=Lg(this);try{$(mb(Jd,t),mb(nb,t))}catch(r){nb(t,r)}}).prototype,(Ig=function($){rl(this,{type:Ja,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Pg,value:void 0})}).prototype=jg(Ub,{then:function($,t){var r=sl(this),e=r.reactions,a=Vb(lg(this,Ka));return a.ok=!ea($)||$,a.fail=ea(t)&&t,a.domain=Ta?Gd.domain:void 0,r.parent=!0,e[e.length]=a,r.state!=Pg&&Id(r,!1),a.promise},catch:function($){return this.then(void 0,$)}}),ol=function(){var $=new Ig,t=Lg($);this.promise=$,this.resolve=mb(Jd,t),this.reject=mb(nb,t)},_a.f=Vb=function($){return $===Ka||$===Jg?new ol($):tl($)},!Aa&&ea(Ma)&&ab!==Object.prototype)){pl=ab.then,xl||(oa(ab,"then",function($,t){var r=this;return new Ka(function($,t){ha(pl,r,$,t)}).then($,t)},{unsafe:!0}),oa(ab,"catch",Ub.catch,{unsafe:!0}));try{delete ab.constructor}catch(error){}Ra&&Ra(ab,Ub)}na({global:!0,wrap:!0,forced:Wb},{Promise:Ka}),Jb(Ka,Ja,!1,!0),Vk(Ja),Jg=xa(Ja),na({target:Ja,stat:!0,forced:Wb},{reject:function($){var t=Vb(this);return ha(t.reject,void 0,$),t.promise}}),na({target:Ja,stat:!0,forced:Aa||Wb},{resolve:function($){return Ed(Aa&&this===Jg?Ka:this,$)}}),na({target:Ja,stat:!0,forced:yl},{all:function($){var t=this,r=Vb(t),e=r.resolve,a=r.reject,n=lb(function(){var r=Ha(t.resolve),n=[],i=0,I=1;Pb($,function($){var o=i++,b=!1;I++,ha(r,t,$).then(function($){b||(b=!0,n[o]=$,--I||e(n))},a)}),--I||e(n)});return n.error&&a(n.value),r.promise},race:function($){var t=this,r=Vb(t),e=r.reject,a=lb(function(){var a=Ha(t.resolve);Pb($,function($){ha(a,t,$).then(r.resolve,e)})});return a.error&&e(a.value),r.promise}});na({target:"Promise",stat:!0},{allSettled:function(e){var r=this,a=_a.f(r),i=a.resolve,$=a.reject,l=lb(function(){var a=Ha(r.resolve),$=[],l=0,t=1;Pb(e,function(e){var n=l++,o=!1;t++,ha(a,r,e).then(function(e){o||(o=!0,$[n]={status:"fulfilled",value:e},--t||i($))},function(e){o||(o=!0,$[n]={status:"rejected",reason:e},--t||i($))})}),--t||i($)});return l.error&&$(l.value),a.promise}});var Vg="No one promise resolved";na({target:"Promise",stat:!0},{any:function(r){var e=this,$=xa("AggregateError"),a=_a.f(e),l=a.resolve,i=a.reject,n=lb(function(){var a=Ha(e.resolve),n=[],t=0,o=1,v=!1;Pb(r,function(r){var k=t++,z=!1;o++,ha(a,e,r).then(function(r){z||v||(v=!0,l(r))},function(r){z||v||(z=!0,n[k]=r,--o||i(new $(n,Vg)))})}),--o||i(new $(n,Vg))});return n.error&&i(n.value),a.promise}});var Bl=!!Ma&&ya(function(){Ma.prototype.finally.call({then:function(){}},function(){})});if(na({target:"Promise",proto:!0,real:!0,forced:Bl},{finally:function(r){var $=lg(this,xa("Promise")),e=ea(r);return this.then(e?function(e){return Ed($,r()).then(function(){return e})}:r,e?function(e){return Ed($,r()).then(function(){throw e})}:r)}}),!Aa&&ea(Ma)){var Wg=xa("Promise").prototype.finally;Ma.prototype.finally!==Wg&&oa(Ma.prototype,"finally",Wg,{unsafe:!0})}var Xg={};Xg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var Cl={},Kd=Db("span").classList,Yg=Kd&&Kd.constructor&&Kd.constructor.prototype;Cl=Yg===Object.prototype?void 0:Yg;var Ld=la("iterator"),Zg=la("toStringTag"),Md=Rb.values,$g=function(r,$){if(r){if(r[Ld]!==Md)try{za(r,Ld,Md)}catch(d){r[Ld]=Md}if(r[Zg]||za(r,Zg,$),Xg[$])for(var a in Rb)if(r[a]!==Rb[a])try{za(r,a,Rb[a])}catch(d){r[a]=Rb[a]}}};for(var Nd in Xg)$g(aa[Nd]&&aa[Nd].prototype,Nd);$g(Cl,"DOMTokenList");na({target:"Promise",stat:!0},{try:function(r){var e=_a.f(this),i=lb(r);return(i.error?e.reject:e.resolve)(i.value),e.promise}});var Od={},Dl=la("iterator");Od=!ya(function(){var r=new URL("b?a=1&b=2&c=3","http://a"),a=r.searchParams,e="";return r.pathname="c%20d",a.forEach(function(r,$){a.delete("b"),e+=$+r}),Aa&&!r.toJSON||!a.sort||"http://a/c%20d?a=1&c=3"!==r.href||"3"!==a.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!a[Dl]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==e||"x"!==new URL("http://x",void 0).host});var El={},Pd=2147483647,Xb=36,_g=1,Qd=26,Fl=38,Gl=700,Hl=72,Il=128,Jl="-",Kl=/[^\0-\u007E]/,ah=/[.\u3002\uFF0E\uFF61]/g,bh="Overflow: input needs wider integers to process",Rd=Xb-_g,ch=aa.RangeError,Ll=ba(ah.exec),ob=Math.floor,Sd=String.fromCharCode,dh=ba("".charCodeAt),eh=ba([].join),Ua=ba([].push),Ml=ba("".replace),Nl=ba("".split),Ol=ba("".toLowerCase),Pl=function($){for(var a=[],r=0,v=$.length;r<v;){var F=dh($,r++);if(F>=55296&&F<=56319&&r<v){var e=dh($,r++);56320==(64512&e)?Ua(a,((1023&F)<<10)+(1023&e)+65536):(Ua(a,F),r--)}else Ua(a,F)}return a},fh=function($){return $+22+75*($<26)},Ql=function($,a,r){var v=0;for($=r?ob($/Gl):$>>1,$+=ob($/a);$>Rd*Qd>>1;)$=ob($/Rd),v+=Xb;return ob(v+(Rd+1)*$/($+Fl))},Rl=function($){var a,r,v=[],F=($=Pl($)).length,e=Il,o=0,i=Hl;for(a=0;a<$.length;a++)(r=$[a])<128&&Ua(v,Sd(r));var n=v.length,t=n;for(n&&Ua(v,Jl);t<F;){var s=Pd;for(a=0;a<$.length;a++)(r=$[a])>=e&&r<s&&(s=r);var u=t+1;if(s-e>ob((Pd-o)/u))throw ch(bh);for(o+=(s-e)*u,e=s,a=0;a<$.length;a++){if((r=$[a])<e&&++o>Pd)throw ch(bh);if(r==e){for(var l=o,h=Xb;;){var c=h<=i?_g:h>=i+Qd?Qd:h-i;if(l<c)break;var f=l-c,p=Xb-c;Ua(v,Sd(fh(c+f%p))),l=ob(f/p),h+=Xb}Ua(v,Sd(fh(l))),i=Ql(o,u,t==n),o=0,t++}}o++,e++}return eh(v,"")};El=function($){var a,r,v=[],F=Nl(Ml(Ol($),ah,"."),".");for(a=0;a<F.length;a++)r=F[a],Ua(v,Ll(Kl,r)?"xn--"+Rl(r):r);return eh(v,".")};var Sl={},Tl=Math.floor,Td=function(r,$){var e=r.length,a=Tl(e/2);return e<8?Ul(r,$):Vl(r,Td(ua(r,0,a),$),Td(ua(r,a),$),$)},Ul=function(r,$){for(var e,a,o=r.length,t=1;t<o;){for(a=t,e=r[t];a&&$(r[a-1],e)>0;)r[a]=r[--a];a!==t++&&(r[a]=e)}return r},Vl=function(r,$,e,a){for(var o=$.length,t=e.length,n=0,v=0;n<o||v<t;)r[n+v]=n<o&&v<t?a($[n],e[v])<=0?$[n++]:e[v++]:n<o?$[n++]:e[v++];return r};Sl=Td;var gh={};var Wl=la("iterator"),Yb="URLSearchParams",hh=Yb+"Iterator",ih=ta.set,Ea=ta.getterFor(Yb),Xl=ta.getterFor(hh),jh=xa("fetch"),xc=xa("Request"),Zb=xa("Headers"),Ud=xc&&xc.prototype,kh=Zb&&Zb.prototype,Yl=aa.RegExp,lh=aa.TypeError,mh=aa.decodeURIComponent,Zl=aa.encodeURIComponent,$l=ba("".charAt),nh=ba([].join),bb=ba([].push),Vd=ba("".replace),_l=ba([].shift),oh=ba([].splice),ph=ba("".split),am=ba("".slice),bm=/\+/g,qh=Array(4),cm=function(r){return qh[r-1]||(qh[r-1]=Yl("((?:%[\\da-f]{2}){"+r+"})","gi"))},dm=function(r){try{return mh(r)}catch($){return r}},rh=function(r){var $=Vd(r,bm," "),e=4;try{return mh($)}catch(a){for(;e;)$=Vd($,cm(e--),dm);return $}},em=/[!'()~]|%20/g,fm={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},gm=function(r){return fm[r]},sh=function(r){return Vd(Zl(r),em,gm)},pb=function(r,$){if(r<$)throw lh("Not enough arguments")},Wd=Rf(function(r,$){ih(this,{type:hh,iterator:Nb(Ea(r).entries),kind:$})},"Iterator",function(){var r=Xl(this),$=r.kind,e=r.iterator.next(),a=e.value;return e.done||(e.value="keys"===$?a.key:"values"===$?a.value:[a.key,a.value]),e},!0),th=function(r){this.entries=[],this.url=null,void 0!==r&&(ra(r)?this.parseObject(r):this.parseQuery("string"==typeof r?"?"===$l(r,0)?am(r,1):r:ia(r)))};th.prototype={type:Yb,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var $,e,a,t,n,p,g,C=qc(r);if(C)for(e=($=Nb(r,C)).next;!(a=ha(e,$)).done;){if(n=(t=Nb(pa(a.value))).next,(p=ha(n,t)).done||(g=ha(n,t)).done||!ha(n,t).done)throw lh("Expected sequence with length 2");bb(this.entries,{key:ia(p.value),value:ia(g.value)})}else for(var v in r)ka(r,v)&&bb(this.entries,{key:v,value:ia(r[v])})},parseQuery:function(r){if(r)for(var $,e,a=ph(r,"&"),t=0;t<a.length;)($=a[t++]).length&&(e=ph($,"="),bb(this.entries,{key:rh(_l(e)),value:rh(nh(e,"="))}))},serialize:function(){for(var r,$=this.entries,e=[],a=0;a<$.length;)r=$[a++],bb(e,sh(r.key)+"="+sh(r.value));return nh(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var yc=function(){tc(this,$b);var r=arguments.length>0?arguments[0]:void 0;ih(this,new th(r))},$b=yc.prototype;if(jg($b,{append:function(r,$){pb(arguments.length,2);var e=Ea(this);bb(e.entries,{key:ia(r),value:ia($)}),e.updateURL()},delete:function(r){pb(arguments.length,1);for(var $=Ea(this),e=$.entries,a=ia(r),t=0;t<e.length;)e[t].key===a?oh(e,t,1):t++;$.updateURL()},get:function(r){pb(arguments.length,1);for(var $=Ea(this).entries,e=ia(r),a=0;a<$.length;a++)if($[a].key===e)return $[a].value;return null},getAll:function(r){pb(arguments.length,1);for(var $=Ea(this).entries,e=ia(r),a=[],t=0;t<$.length;t++)$[t].key===e&&bb(a,$[t].value);return a},has:function(r){pb(arguments.length,1);for(var $=Ea(this).entries,e=ia(r),a=0;a<$.length;)if($[a++].key===e)return!0;return!1},set:function(r,$){pb(arguments.length,1);for(var e,a=Ea(this),t=a.entries,n=!1,p=ia(r),g=ia($),C=0;C<t.length;C++)(e=t[C]).key===p&&(n?oh(t,C--,1):(n=!0,e.value=g));n||bb(t,{key:p,value:g}),a.updateURL()},sort:function(){var r=Ea(this);Sl(r.entries,function(r,$){return r.key>$.key?1:-1}),r.updateURL()},forEach:function(r){for(var $,e=Ea(this).entries,a=Sa(r,arguments.length>1?arguments[1]:void 0),t=0;t<e.length;)a(($=e[t++]).value,$.key,this)},keys:function(){return new Wd(this,"keys")},values:function(){return new Wd(this,"values")},entries:function(){return new Wd(this,"entries")}},{enumerable:!0}),oa($b,Wl,$b.entries,{name:"entries"}),oa($b,"toString",function(){return Ea(this).serialize()},{enumerable:!0}),Jb(yc,Yb),na({global:!0,forced:!Od},{URLSearchParams:yc}),!Od&&ea(Zb)){var hm=ba(kh.has),im=ba(kh.set),uh=function(r){if(ra(r)){var $,e=r.body;if(Cb(e)===Yb)return $=r.headers?new Zb(r.headers):new Zb,hm($,"content-type")||im($,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ib(r,{body:Ia(0,ia(e)),headers:Ia(0,$)})}return r};if(ea(jh)&&na({global:!0,enumerable:!0,forced:!0},{fetch:function(r){return jh(r,arguments.length>1?uh(arguments[1]):{})}}),ea(xc)){var Xd=function(r){return tc(this,Ud),new xc(r,arguments.length>1?uh(arguments[1]):{})};Ud.constructor=Xd,Xd.prototype=Ud,na({global:!0,forced:!0},{Request:Xd})}}gh={URLSearchParams:yc,getState:Ea};var Ba,jm=mf.codeAt,km=ta.set,zc=ta.getterFor("URL"),lm=gh.URLSearchParams,mm=gh.getState,_b=aa.URL,Yd=aa.TypeError,Ac=aa.parseInt,nm=Math.floor,vh=Math.pow,Ca=ba("".charAt),Fa=ba(/./.exec),ac=ba([].join),om=ba(1 .toString),pm=ba([].pop),qb=ba([].push),wh=ba("".replace),qm=ba([].shift),rm=ba("".split),bc=ba("".slice),Bc=ba("".toLowerCase),sm=ba([].unshift),tm="Invalid authority",Zd="Invalid scheme",cb="Invalid host",xh="Invalid port",yh=/[a-z]/i,um=/[\d+-.a-z]/i,$d=/\d/,vm=/^0x/i,wm=/^[0-7]+$/,xm=/^\d+$/,zh=/^[\da-f]+$/i,ym=/[\0\t\n\r #%/:<>?@[\\\]^|]/,zm=/[\0\t\n\r #/:<>?@[\\\]^|]/,Am=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Bm=/[\t\n\r]/g,Cm=function($){var r,t,e,a,n,s,i,y=rm($,".");if(y.length&&""==y[y.length-1]&&y.length--,(r=y.length)>4)return $;for(t=[],e=0;e<r;e++){if(""==(a=y[e]))return $;if(n=10,a.length>1&&"0"==Ca(a,0)&&(n=Fa(vm,a)?16:8,a=bc(a,8==n?1:2)),""===a)s=0;else{if(!Fa(10==n?xm:8==n?wm:zh,a))return $;s=Ac(a,n)}qb(t,s)}for(e=0;e<r;e++)if(s=t[e],e==r-1){if(s>=vh(256,5-r))return null}else if(s>255)return null;for(i=pm(t),e=0;e<t.length;e++)i+=t[e]*vh(256,3-e);return i},Dm=function($){var r,t,e,a,n,s,i,y=[0,0,0,0,0,0,0,0],v=0,q=null,o=0,c=function(){return Ca($,o)};if(":"==c()){if(":"!=Ca($,1))return;o+=2,q=++v}for(;c();){if(8==v)return;if(":"!=c()){for(r=t=0;t<4&&Fa(zh,c());)r=16*r+Ac(c(),16),o++,t++;if("."==c()){if(0==t)return;if(o-=t,v>6)return;for(e=0;c();){if(a=null,e>0){if(!("."==c()&&e<4))return;o++}if(!Fa($d,c()))return;for(;Fa($d,c());){if(n=Ac(c(),10),null===a)a=n;else{if(0==a)return;a=10*a+n}if(a>255)return;o++}y[v]=256*y[v]+a,2!=++e&&4!=e||v++}if(4!=e)return;break}if(":"==c()){if(o++,!c())return}else if(c())return;y[v++]=r}else{if(null!==q)return;o++,q=++v}}if(null!==q)for(s=v-q,v=7;0!=v&&s>0;)i=y[v],y[v--]=y[q+s-1],y[q+--s]=i;else if(8!=v)return;return y},Em=function($){for(var r=null,t=1,e=null,a=0,n=0;n<8;n++)0!==$[n]?(a>t&&(r=e,t=a),e=null,a=0):(null===e&&(e=n),++a);return a>t&&(r=e,t=a),r},cc=function($){var r,t,e,a;if("number"==typeof $){for(r=[],t=0;t<4;t++)sm(r,$%256),$=nm($/256);return ac(r,".")}if("object"==typeof $){for(r="",e=Em($),t=0;t<8;t++)a&&0===$[t]||(a&&(a=!1),e===t?(r+=t?":":"::",a=!0):(r+=om($[t],16),t<7&&(r+=":")));return"["+r+"]"}return $},Cc={},Ah=Ob({},Cc,{" ":1,"\"":1,"<":1,">":1,"`":1}),Bh=Ob({},Ah,{"#":1,"?":1,"{":1,"}":1}),_d=Ob({},Bh,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Va=function($,r){var t=jm($,0);return t>32&&t<127&&!ka(r,$)?$:encodeURIComponent($)},Dc={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dc=function($,r){var t;return 2==$.length&&Fa(yh,Ca($,0))&&(":"==(t=Ca($,1))||!r&&"|"==t)},Ch=function($){var r;return $.length>1&&dc(bc($,0,2))&&(2==$.length||"/"===(r=Ca($,2))||"\\"===r||"?"===r||"#"===r)},Fm=function($){return"."===$||"%2e"===Bc($)},Gm=function($){return".."===($=Bc($))||"%2e."===$||".%2e"===$||"%2e%2e"===$},be={},Dh={},ge={},Eh={},Fh={},je={},Gh={},Hh={},Ec={},Fc={},ke={},me={},pe={},qe={},Ih={},we={},rb={},La={},Jh={},db={},Na={},xe=function($,r,t){var e,a,n,s=ia($);if(r){if(a=this.parse(s))throw Yd(a);this.searchParams=null}else{if(void 0!==t&&(e=new xe(t,!0)),a=this.parse(s,null,e))throw Yd(a);(n=mm(new lm)).bindURL(this),this.searchParams=n}};xe.prototype={type:"URL",parse:function($,r,t){var e,a,n,s,i=this,y=r||be,v=0,q="",o=!1,c=!1,u=!1;for($=ia($),r||(i.scheme="",i.username="",i.password="",i.host=null,i.port=null,i.path=[],i.query=null,i.fragment=null,i.cannotBeABaseURL=!1,$=wh($,Am,"")),$=wh($,Bm,""),e=$a($);v<=e.length;){switch(a=e[v],y){case be:if(!a||!Fa(yh,a)){if(r)return Zd;y=ge;continue}q+=Bc(a),y=Dh;break;case Dh:if(a&&(Fa(um,a)||"+"==a||"-"==a||"."==a))q+=Bc(a);else{if(":"!=a){if(r)return Zd;q="",y=ge,v=0;continue}if(r&&(i.isSpecial()!=ka(Dc,q)||"file"==q&&(i.includesCredentials()||null!==i.port)||"file"==i.scheme&&!i.host))return;if(i.scheme=q,r)return void(i.isSpecial()&&Dc[i.scheme]==i.port&&(i.port=null));q="","file"==i.scheme?y=qe:i.isSpecial()&&t&&t.scheme==i.scheme?y=Eh:i.isSpecial()?y=Hh:"/"==e[v+1]?(y=Fh,v++):(i.cannotBeABaseURL=!0,qb(i.path,""),y=Jh)}break;case ge:if(!t||t.cannotBeABaseURL&&"#"!=a)return Zd;if(t.cannotBeABaseURL&&"#"==a){i.scheme=t.scheme,i.path=ua(t.path),i.query=t.query,i.fragment="",i.cannotBeABaseURL=!0,y=Na;break}y="file"==t.scheme?qe:je;continue;case Eh:if("/"!=a||"/"!=e[v+1]){y=je;continue}y=Ec,v++;break;case Fh:if("/"==a){y=Fc;break}y=La;continue;case je:if(i.scheme=t.scheme,a==Ba)i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=ua(t.path),i.query=t.query;else if("/"==a||"\\"==a&&i.isSpecial())y=Gh;else if("?"==a)i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=ua(t.path),i.query="",y=db;else{if("#"!=a){i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=ua(t.path),i.path.length--,y=La;continue}i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=ua(t.path),i.query=t.query,i.fragment="",y=Na}break;case Gh:if(!i.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,y=La;continue}y=Fc}else y=Ec;break;case Hh:if(y=Ec,"/"!=a||"/"!=Ca(q,v+1))continue;v++;break;case Ec:if("/"!=a&&"\\"!=a){y=Fc;continue}break;case Fc:if("@"==a){o&&(q="%40"+q),o=!0,n=$a(q);for(var l=0;l<n.length;l++){var h=n[l];if(":"!=h||u){var p=Va(h,_d);u?i.password+=p:i.username+=p}else u=!0}q=""}else if(a==Ba||"/"==a||"?"==a||"#"==a||"\\"==a&&i.isSpecial()){if(o&&""==q)return tm;v-=$a(q).length+1,q="",y=ke}else q+=a;break;case ke:case me:if(r&&"file"==i.scheme){y=we;continue}if(":"!=a||c){if(a==Ba||"/"==a||"?"==a||"#"==a||"\\"==a&&i.isSpecial()){if(i.isSpecial()&&""==q)return cb;if(r&&""==q&&(i.includesCredentials()||null!==i.port))return;if(s=i.parseHost(q))return s;if(q="",y=rb,r)return;continue}"["==a?c=!0:"]"==a&&(c=!1),q+=a}else{if(""==q)return cb;if(s=i.parseHost(q))return s;if(q="",y=pe,r==me)return}break;case pe:if(!Fa($d,a)){if(a==Ba||"/"==a||"?"==a||"#"==a||"\\"==a&&i.isSpecial()||r){if(""!=q){var f=Ac(q,10);if(f>65535)return xh;i.port=i.isSpecial()&&f===Dc[i.scheme]?null:f,q=""}if(r)return;y=rb;continue}return xh}q+=a;break;case qe:if(i.scheme="file","/"==a||"\\"==a)y=Ih;else{if(!t||"file"!=t.scheme){y=La;continue}if(a==Ba)i.host=t.host,i.path=ua(t.path),i.query=t.query;else if("?"==a)i.host=t.host,i.path=ua(t.path),i.query="",y=db;else{if("#"!=a){Ch(ac(ua(e,v),""))||(i.host=t.host,i.path=ua(t.path),i.shortenPath()),y=La;continue}i.host=t.host,i.path=ua(t.path),i.query=t.query,i.fragment="",y=Na}}break;case Ih:if("/"==a||"\\"==a){y=we;break}t&&"file"==t.scheme&&!Ch(ac(ua(e,v),""))&&(dc(t.path[0],!0)?qb(i.path,t.path[0]):i.host=t.host),y=La;continue;case we:if(a==Ba||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&dc(q))y=La;else if(""==q){if(i.host="",r)return;y=rb}else{if(s=i.parseHost(q))return s;if("localhost"==i.host&&(i.host=""),r)return;q="",y=rb}continue}q+=a;break;case rb:if(i.isSpecial()){if(y=La,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a){if(r||"#"!=a){if(a!=Ba&&(y=La,"/"!=a))continue}else i.fragment="",y=Na;}else i.query="",y=db;break;case La:if(a==Ba||"/"==a||"\\"==a&&i.isSpecial()||!r&&("?"==a||"#"==a)){if(Gm(q)?(i.shortenPath(),"/"==a||"\\"==a&&i.isSpecial()||qb(i.path,"")):Fm(q)?"/"==a||"\\"==a&&i.isSpecial()||qb(i.path,""):("file"==i.scheme&&!i.path.length&&dc(q)&&(i.host&&(i.host=""),q=Ca(q,0)+":"),qb(i.path,q)),q="","file"==i.scheme&&(a==Ba||"?"==a||"#"==a))for(;i.path.length>1&&""===i.path[0];)qm(i.path);"?"==a?(i.query="",y=db):"#"==a&&(i.fragment="",y=Na)}else q+=Va(a,Bh);break;case Jh:"?"==a?(i.query="",y=db):"#"==a?(i.fragment="",y=Na):a!=Ba&&(i.path[0]+=Va(a,Cc));break;case db:r||"#"!=a?a!=Ba&&("'"==a&&i.isSpecial()?i.query+="%27":i.query+="#"==a?"%23":Va(a,Cc)):(i.fragment="",y=Na);break;case Na:a!=Ba&&(i.fragment+=Va(a,Ah));}v++}},parseHost:function($){var r,t,e;if("["==Ca($,0)){if("]"!=Ca($,$.length-1))return cb;if(!(r=Dm(bc($,1,-1))))return cb;this.host=r}else if(this.isSpecial()){if($=El($),Fa(ym,$))return cb;if(null===(r=Cm($)))return cb;this.host=r}else{if(Fa(zm,$))return cb;for(r="",t=$a($),e=0;e<t.length;e++)r+=Va(t[e],Cc);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return ka(Dc,this.scheme)},shortenPath:function(){var $=this.path,r=$.length;!r||"file"==this.scheme&&1==r&&dc($[0],!0)||$.length--},serialize:function(){var $=this,r=$.scheme,t=$.username,e=$.password,a=$.host,n=$.port,s=$.path,i=$.query,y=$.fragment,v=r+":";return null!==a?(v+="//",$.includesCredentials()&&(v+=t+(e?":"+e:"")+"@"),v+=cc(a),null!==n&&(v+=":"+n)):"file"==r&&(v+="//"),v+=$.cannotBeABaseURL?s[0]:s.length?"/"+ac(s,"/"):"",null!==i&&(v+="?"+i),null!==y&&(v+="#"+y),v},setHref:function($){var r=this.parse($);if(r)throw Yd(r);this.searchParams.update()},getOrigin:function(){var $=this.scheme,r=this.port;if("blob"==$)try{return new sb($.path[0]).origin}catch(t){return"null"}return"file"!=$&&this.isSpecial()?$+"://"+cc(this.host)+(null!==r?":"+r:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function($){this.parse(ia($)+":",be)},getUsername:function(){return this.username},setUsername:function($){var r=$a(ia($));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var t=0;t<r.length;t++)this.username+=Va(r[t],_d)}},getPassword:function(){return this.password},setPassword:function($){var r=$a(ia($));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var t=0;t<r.length;t++)this.password+=Va(r[t],_d)}},getHost:function(){var $=this.host,r=this.port;return null===$?"":null===r?cc($):cc($)+":"+r},setHost:function($){this.cannotBeABaseURL||this.parse($,ke)},getHostname:function(){var $=this.host;return null===$?"":cc($)},setHostname:function($){this.cannotBeABaseURL||this.parse($,me)},getPort:function(){var $=this.port;return null===$?"":ia($)},setPort:function($){this.cannotHaveUsernamePasswordPort()||(""==($=ia($))?this.port=null:this.parse($,pe))},getPathname:function(){var $=this.path;return this.cannotBeABaseURL?$[0]:$.length?"/"+ac($,"/"):""},setPathname:function($){this.cannotBeABaseURL||(this.path=[],this.parse($,rb))},getSearch:function(){var $=this.query;return $?"?"+$:""},setSearch:function($){""==($=ia($))?this.query=null:("?"==Ca($,0)&&($=bc($,1)),this.query="",this.parse($,db)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var $=this.fragment;return $?"#"+$:""},setHash:function($){""!=($=ia($))?("#"==Ca($,0)&&($=bc($,1)),this.fragment="",this.parse($,Na)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var sb=function($){var r=tc(this,Gc),t=arguments.length>1?arguments[1]:void 0,e=km(r,new xe($,!1,t));sa||(r.href=e.serialize(),r.origin=e.getOrigin(),r.protocol=e.getProtocol(),r.username=e.getUsername(),r.password=e.getPassword(),r.host=e.getHost(),r.hostname=e.getHostname(),r.port=e.getPort(),r.pathname=e.getPathname(),r.search=e.getSearch(),r.searchParams=e.getSearchParams(),r.hash=e.getHash())},Gc=sb.prototype,Da=function($,r){return{get:function(){return zc(this)[$]()},set:r&&function($){return zc(this)[r]($)},configurable:!0,enumerable:!0}};if(sa&&Jf(Gc,{href:Da("serialize","setHref"),origin:Da("getOrigin"),protocol:Da("getProtocol","setProtocol"),username:Da("getUsername","setUsername"),password:Da("getPassword","setPassword"),host:Da("getHost","setHost"),hostname:Da("getHostname","setHostname"),port:Da("getPort","setPort"),pathname:Da("getPathname","setPathname"),search:Da("getSearch","setSearch"),searchParams:Da("getSearchParams"),hash:Da("getHash","setHash")}),oa(Gc,"toJSON",function(){return zc(this).serialize()},{enumerable:!0}),oa(Gc,"toString",function(){return zc(this).serialize()},{enumerable:!0}),_b){var Kh=_b.createObjectURL,Lh=_b.revokeObjectURL;Kh&&oa(sb,"createObjectURL",Sa(Kh,_b)),Lh&&oa(sb,"revokeObjectURL",Sa(Lh,_b))}Jb(sb,"URL"),na({global:!0,forced:!Od,sham:!sa},{URL:sb});na({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return ha(URL.prototype.toString,this)}});!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e}}();var Hm={};var Im={};Im="/suivi_gravite.e3aad7d5.svg";var Jm={};Jm="/suivi_gravite_superieure.c6113f27.svg";var Km={};Km="/suivi_interrogation.e697a9bd.svg";var Lm={};Lm="/suivi_ok.5568e219.svg";var Mm={};Mm="/suivi_stable.4f4ec377.svg";Hm={gravite:Im,gravite_superieure:Jm,interrogation:Km,ok:Lm,stable:Mm};var Nm=["second","minute","hour","day","week","month","year"],Om=function(a,r){if(0===r)return["just now","right now"];var $=Nm[Math.floor(r/2)];return a>1&&($+="s"),[a+" "+$+" ago","in "+a+" "+$]};var Pm=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"],Qm=function($,r){if(0===r)return["\u521A\u521A","\u7247\u523B\u540E"];var t=Pm[~~(r/2)];return[$+" "+t+"\u524D",$+" "+t+"\u540E"]};var ye={},ze=function($,e){ye[$]=e};var Rm=function($){return ye[$]||ye.en_US};var eb=[60,60,24,7,365/7/12,12];function Mh($){return $ instanceof Date?$:!isNaN($)||/^\d+$/.test($)?new Date(parseInt($)):($=($||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date($))}function Nh($,e){for(var t=$<0?1:0,r=$=Math.abs($),a=0;$>=eb[a]&&a<eb.length;a++)$/=eb[a];return($=Math.floor($))>(0===(a*=2)?9:1)&&(a+=1),e($,a,r)[t].replace("%s",$.toString())}function Oh($,e){return(+(e?Mh(e):new Date)-+Mh($))/1e3}function Sm($){for(var e=1,t=0,r=Math.abs($);$>=eb[t]&&t<eb.length;t++)$/=eb[t],e*=eb[t];return r=(r%=e)?e-r:e,Math.ceil(r)}var Ph=function(t,r,$){var e=Oh(t,$&&$.relativeDate);return Nh(e,Rm(r))};var Qh="timeago-id";function Tm(t,e){t.setAttribute(Qh,e)}function Um(t){return parseInt(t.getAttribute(Qh))}var Rh={},Vm=function($){clearTimeout($),delete Rh[$]};function Wm($,r,e,t){Vm(Um($));var a=t.relativeDate,h=t.minInterval,i=Oh(r,a);$.innerText=Nh(i,e);var D=setTimeout(function(){Wm($,r,e,t)},Math.min(1e3*Math.max(Sm(i),h||1),2147483647));Rh[D]=0,Tm($,D)}ze("en_US",Om),ze("zh_CN",Qm);function Sh(e,t){var r=new Zm(navigator.appVersion),o="https://mesconseilscovid.sante.gouv.fr/#suiviintroduction";t.hasSymptomesStartDate()&&r.addEvent("D\xE9but sympt\xF4mes Covid-19","Vous pouvez faire votre suivi quotidien sur ".concat(o),t.symptomes_start_date,1,void 0);var i={freq:"DAILY",interval:1,count:15};r.addEvent("Suivi Covid-19","Aller faire mon suivi quotidien sur ".concat(o),t.suivi_start_date,1,i);var n=r.generateCalendar();Array.from(e.querySelectorAll(".js-calendar")).forEach(function(e){var t="data:text/x-vCalendar;charset=utf-8,"+encodeURIComponent(n);e.setAttribute("href",t)})}function Ae(e,t){e.querySelector(".js-impression").addEventListener("click",function(r){r.preventDefault(),t.plausible("Impression");try{Array.from(e.querySelectorAll("details")).forEach(function(e){e.setAttribute("open","")}),window.setTimeout(function(){return window.print()},400)}catch(o){console.error(o),alert("Cette fonctionnalit\xE9 n\u2019est pas pr\xE9sente sur votre appareil")}})}function Th(e,t){e.addEventListener("click",function(e){e.preventDefault(),t.plausible("Suppression totale"),confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer tous les profils\xA0?")&&t.supprimerTout().then(function(){t.router&&(t.router.lastRouteResolved().url!==Mc?t.router.navigate(Mc):window.location.reload(!0))})})}function Xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uh(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ym(e,t,r){return t&&Uh(e.prototype,t),r&&Uh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zm=function(){function e(t){Xm(this,e),this.uidDomain="default",this.prodId="Calendar",this.SEPARATOR=-1!==t.indexOf("Win")?"\r\n":"\n",this.calendarEvents=[],this.calendarStart=["BEGIN:VCALENDAR","PRODID:"+this.prodId,"VERSION:2.0"].join(this.SEPARATOR),this.calendarEnd=this.SEPARATOR+"END:VCALENDAR"}return Ym(e,[{key:"addEvent",value:function(e,t,r,i,n,a){var s=new Date(r);s.setHours(s.getHours()+i);var l=this.generateDates(r,s,a),o=this.generateRRule(n),c=["BEGIN:VEVENT","UID:"+this.calendarEvents.length+"@"+this.uidDomain,"CLASS:PUBLIC","DESCRIPTION:"+t,"DTSTAMP;VALUE=DATE-TIME:"+l.now,"DTSTART;VALUE=DATE-TIME:"+l.start,"DTEND;VALUE=DATE-TIME:"+l.end,"SUMMARY;LANGUAGE=fr-fr:"+e,"TRANSP:TRANSPARENT","END:VEVENT"];o&&c.splice(4,0,o);var u=c.join(this.SEPARATOR);return this.calendarEvents.push(u),u}},{key:"generateCalendar",value:function(){return this.calendarStart+this.SEPARATOR+this.calendarEvents.join(this.SEPARATOR)+this.calendarEnd}},{key:"generateDates",value:function(e,t,r){var i=r||new Date,n=("0000"+e.getFullYear().toString()).slice(-4),a=("00"+(e.getMonth()+1).toString()).slice(-2),s=("00"+e.getDate().toString()).slice(-2),l=("00"+e.getHours().toString()).slice(-2),o=("00"+e.getMinutes().toString()).slice(-2),c=("00"+e.getMinutes().toString()).slice(-2),u=("0000"+t.getFullYear().toString()).slice(-4),g=("00"+(t.getMonth()+1).toString()).slice(-2),E=("00"+t.getDate().toString()).slice(-2),S="T"+l+o+c,d="T"+("00"+t.getHours().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2);return"T000000"===S&&"T000000"===d&&(S="",d=""),{start:n+a+s+S,end:u+g+E+d,now:("0000"+i.getFullYear().toString()).slice(-4)+("00"+(i.getMonth()+1).toString()).slice(-2)+("00"+i.getDate().toString()).slice(-2)+("T"+("00"+i.getHours().toString()).slice(-2)+("00"+i.getMinutes().toString()).slice(-2)+("00"+i.getSeconds().toString()).slice(-2))}}},{key:"generateRRule",value:function(e){var t;return e&&(e.rrule?t=e.rrule:(t="RRULE:FREQ="+e.freq,t+=";INTERVAL="+e.interval,t+=";COUNT="+e.count)),t}}]),e}();function Vh(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function Wh(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(o),!0).forEach(function(t){$m(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vh(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function $m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xh(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t,o){return t&&Xh(e.prototype,t),o&&Xh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hc(){var e=document.location.hash;return(e?e.slice(1):"").split("?")[0]}var Be,Ce={};!function(e,t){"object"==typeof Ce?Ce=t():"function"==typeof Be&&Be.amd?Be(t):e.Navigo=t()}(Ce,function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function t(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function n(e,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?"#":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&t(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",e?this.root=n?e.replace(/\/$/,"/"+this._hash):e.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function o(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"^/")}function i(e){return e.replace(/\/$/,"").split("/").length}function s(e,t){return i(t)-i(e)}function r(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var i=function(e){var t=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(n.PARAMETER_REGEXP,function(e,o,i){return t.push(i),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:t}}(o(t.route)),s=i.regexp,r=i.paramNames,a=e.replace(/^\/+/,"/").match(s),h=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}(a,r);return!!a&&{match:a,route:t,params:h}}).filter(function(e){return e})}(e,t)[0]||!1}function a(e,t){var n=t.map(function(t){return""===t.route||"*"===t.route?e:e.split(new RegExp(t.route+"($|/)"))[0]}),i=o(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:i}function h(e,n,o){var i,s=function(e){return e.split(/\?(.*)?$/)[0]};return void 0===o&&(o="#"),t()&&!n?s(e).split(o)[0]:(i=e.split(o)).length>1?s(i[1]):s(i[0])}function u(t,n,o){if(n&&"object"===(void 0===n?"undefined":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}return n.prototype={helpers:{match:r,root:a,clean:o,getOnlyURL:h},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(e=e.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+e),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2){if("/"===o[0]){var r=o[1];"object"===e(o[1])&&(r=o[1].uses),this._defaultHandler={handler:r,hooks:o[2]}}else this._add(o[0],o[1],o[2]);}else"object"===e(o[0])&&Object.keys(o[0]).sort(s).forEach(function(e){t.on(e,o[0][e])});return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var n,o,i=this,s=(e||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(s=s.replace(new RegExp("^/"+this._hash),"/"));var a=function(e){return e.split(/\?(.*)?$/).slice(1).join("")}(e||this._cLoc()),l=h(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&a===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=r(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:a,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,u(function(){u(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,a)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(""===l||"/"===l||l===this._hash||function(e,n,o){if(t()&&!n)return!1;if(!e.match(o))return!1;var i=e.split(o);return i.length<2||""===i[1]}(l,this._useHash,this._hash))?(u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(a)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(a)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var e=this;"undefined"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener("click",function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\/+$/,"").replace(/^\/+/,"/")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===e)for(i in n=o.route,t)n=n.toString().replace(":"+i,t[i]);return n},"");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){t()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute("href")},hooks:function(e){this._genericHooks=e},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof t&&(t=encodeURI(t)),this._routes.push("object"===(void 0===n?"undefined":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc().split("?")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},n.PARAMETER_REGEXP=/([:*])(\w+)/g,n.WILDCARD_REGEXP=/\*/g,n.REPLACE_VARIABLE_REGEXP="([^/]+)",n.REPLACE_WILDCARD="(?:.*)",n.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",n.MATCH_REGEXP_FLAGS="",n});function Yh(e,t){var $=t.estMonProfil()?bn:cn;Array.from(e.querySelectorAll(".me")).forEach($)}function bn(e){fa(e),ca(e.nextSibling)}function cn(e){ca(e),fa(e.nextSibling)}function ca(e){e&&(e.setAttribute("hidden",""),e.classList.remove("visible"))}function fa(e){e.removeAttribute("hidden"),e.classList.add("visible")}function tb(e,t){Array.from(e.querySelectorAll(t)).forEach(ca)}function De(e,t){Array.from(e.querySelectorAll(t)).forEach(fa)}function ub(e,t,$){$||tb(e,t)}function Ee(e,t){var $=e.querySelector("#"+t);$&&fa($)}function Fe(e,t){t.forEach(function(t){Ee(e,t)})}function Ic(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function Zh(e,t){var $=e.cloneNode(!0);for(t.innerHTML="";$.firstElementChild;)t.insertAdjacentElement("beforeend",$.firstElementChild)}function dn(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;")}function Oa(e){for(var t="",$=0;$<(arguments.length<=1?0:arguments.length-1);$++)t+=e[$],t+=dn($+1<1||arguments.length<=$+1?void 0:arguments[$+1]);return t+=e[e.length-1]}function $h(e){Zh(document.querySelector("#feedback-difficultes"),e)}function Jc(e,t,r){e.style.transition="opacity ".concat(t/1e3,"s"),e.style.opacity="0",window.setTimeout(function(){e.style.opacity="1",r(e)},t)}function Kc(e,t){Array.from(e.querySelectorAll(".button-feedback")).forEach(function(r){r.addEventListener("click",function(r){r.preventDefault();var a=r.target.dataset.feedback;t.plausible("Avis ".concat(a)),function(e,r){var a=r.dataset.feedbackTransitionDelay;Jc(r,a,function(r){ca(r.querySelector(".feedback-question")),fa(r.querySelector(".feedback-form")),r.querySelector(".feedback-form textarea").focus(),r.querySelector(".feedback-form form").addEventListener("submit",function(o){o.preventDefault(),_h({feedbackHost:document.body.dataset.statsUrl,kind:e,message:o.target.elements.message.value,page:ai()?document.location.pathname.slice(1):Hc(),source:t.source}),Jc(r,a,function(e){ca(e.querySelector(".feedback-form")),fa(e.querySelector(".feedback-thankyou")),fa(e.querySelector(".feedback-partager"))})})})}(a,e)})});var r=e.querySelector(".button-partager");r&&r.addEventListener("click",function(r){r.preventDefault(),t.plausible("Menu Partager");var a=e.dataset.feedbackTransitionDelay;Jc(e,a,function(e){ca(e.querySelector(".feedback-question")),fa(e.querySelector(".feedback-partager")),void 0===navigator.share&&ca(e.querySelector(".feedback-partager .button-feedback-partager").parentElement);var a=e.querySelectorAll(".feedback-partager a");Array.from(a).forEach(function(e){e.addEventListener("click",function(){var a=e.dataset.service;t.plausible("Partage avec\u2026",{service:a}),"autres"===a&&(r.preventDefault(),navigator.share({title:document.title,text:"Retrouvez cette information sur MesConseilsCovid",url:window.location}))})})})}),document.addEventListener("pageChanged",function(){ca(e.querySelector(".feedback-form")),ca(e.querySelector(".feedback-thankyou")),ca(e.querySelector(".feedback-partager")),fa(e.querySelector(".feedback-question"))})}function _h(e){var t=e.feedbackHost,r=e.kind,a=e.message,o=e.page,n=e.question,i=e.source,c=new XMLHttpRequest;c.open("POST",t+"/feedback",!0),c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify({kind:r,message:a,page:o,question:n,source:i}))}function ai(){return document.body.classList.contains("page-thematique")}function Ge(e,t){var a=document.querySelectorAll(".thematiques a");Array.from(a).forEach(function(a){var r=a.getAttribute("href");a.addEventListener("click",function(a){a.preventDefault(),e.plausible(t,{chemin:"".concat(He()," \u2192 ").concat(r)}),window.location=r})})}function en(e){var t=e.location,n=e.document,o=n.body.dataset.statsUrl,a={domain:t.hostname};function r(e){console.warn("[Plausible] Ignore event: "+e)}function i(){return t.protocol+"//"+t.hostname+He()+t.search+function(){if("/"===t.pathname)return"";return t.hash}()}return function(s,c){if("prerender"===n.visibilityState)return r("prerendering");var l={};if(l.n=s,l.u=i(),l.d=a.domain,l.r=n.referrer||null,l.w=e.innerWidth,c&&c.props&&(l.p=JSON.stringify(c.props)),/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^0\.0\.0\.0$|^(?:0*:)*?:?0*1$/.test(t.hostname)||"file:"===t.protocol){r("running locally");var p="".concat(l.n,":").concat(He().slice(1));return c&&c.props&&c.props.source&&(p="".concat(p,":").concat(c.props.source)),e.app._plausibleTrackingEvents.push(p),void console.debug("[Plausible]",JSON.stringify(l))}var u=new XMLHttpRequest;u.open("POST",o+"/api/event",!0),u.setRequestHeader("Content-Type","text/plain"),u.send(JSON.stringify(l)),u.onreadystatechange=function(){4==u.readyState&&c&&c.callback&&c.callback()}}}function He(){return"/"===location.pathname?"/"+location.hash.slice(1):location.pathname}function fn(e){return kn(e)||jn(e)||hn(e)||gn()}function gn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hn(e,t){if(e){if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(e,t):void 0}}function jn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function kn(e){if(Array.isArray(e))return Ie(e)}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ln(e,t){e&&(e.textContent=t.profil.affichageNom())}function mn(e,t){if(e){var r=t.estMonProfil()?"Mes conseils":"Conseils pour \xAB\xA0".concat(t.nom,"\xA0\xBB");e.textContent=r}}function nn(e){if(e){var t=new Date,r=t.toISOString().substring(0,10),n=t.toLocaleDateString();e.innerHTML="au <time datetime=\"".concat(r,"\">").concat(n,"</time>")}}function on(e,t){var r=bi(t);r.push.apply(r,fn(ci(t))),r&&(e.textContent=Je(r))}function pn(e,t){var r=bi(t);if(r){var n=Je(r);e.textContent=n+"."}}function bi(e){var t=[];return e.sup65?t.push("vous \xEAtes \xE2g\xE9\xB7e de plus de 65\xA0ans"):e.profil.grossesse_3e_trimestre&&t.push("vous \xEAtes au 3e trimestre de votre grossesse"),e.imc>30&&t.push("vous avez un IMC sup\xE9rieur\xA0\xE0\xA030\xA0("+Math.round(e.imc)+")"),t}function Je(e){return 1===e.length?e[0]:2===e.length?e.join(" et "):e.slice(0,e.length-1).join(", ")+" et "+e[e.length-1]}function qn(e,t){var r=ci(t);if(r){var n=Je(r);e.textContent=wb(n)+"."}}function ci(e){var t=[];return e.antecedents&&t.push("vous avez des ant\xE9c\xE9dents \xE0 risque"),e.profil.antecedent_chronique_autre&&t.push("vous avez une maladie chronique, un handicap ou vous prenez un traitement au long cours"),t}function rn(e,t){e.textContent=t.suivi.length}function sn(e,t){var r=t.dernierEtat();e.textContent=r?Ph(new Date(r.date),"fr"):""}function ja(e,t){var r=t||new Date;return new Date(r.setDate(r.getDate()-e))}function vb(e,t){var r=t||new Date;return new Date(r.setDate(r.getDate()+e))}var tn=864e5;function Lc(e,t){var r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((a-r)/tn)}function wb(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Mc="introduction";var un=function(){function e(t){_m(this,e),this.app=t,this.initialTitle=document.title,this.navigo=this.initNavigo(),this.setupGlobalHooks(),this.setupNotFound()}return an(e,[{key:"initNavigo",value:function(){var $vI6X$$interop$default=ma(Ce);var e=new $vI6X$$interop$default.d(null,!0);return"/"!==e.root.slice(-1)&&(e.root=e.root+"/"),e}},{key:"resolve",value:function(){return this.navigo.resolve()}},{key:"lastRouteResolved",value:function(){return this.navigo.lastRouteResolved()}},{key:"navigate",value:function(e){return this.navigo.navigate(e)}},{key:"setupGlobalHooks",value:function(){this.navigo.hooks({before:this.beforeGlobalHook.bind(this),after:this.afterGlobalHook.bind(this)})}},{key:"beforeGlobalHook",value:function(e){var t=document.querySelector("header section");void 0===this.app.profil.nom?(fa(t.querySelector(".js-profil-empty")),ca(t.querySelector(".js-profil-full"))):(fa(t.querySelector(".js-profil-full")),ca(t.querySelector(".js-profil-empty")),ln(t.querySelector("#nom-profil-header"),this.app)),e()}},{key:"afterGlobalHook",value:function(){this.sendPageChangeEvent(),this.focusMainHeaderElement()}},{key:"sendPageChangeEvent",value:function(){var e=Hc();document.dispatchEvent(new CustomEvent("pageChanged",{detail:e}))}},{key:"focusMainHeaderElement",value:function(){document.querySelector("[role=\"banner\"]").focus()}},{key:"addQuestionnaireRoute",value:function(e,t,o){var r=this;this.addAppRoute(e,function(e,o){t(e,o),$h(e.querySelector(".feedback-difficultes")),Kc(e.querySelector(".feedback-component"),o)},Wh(Wh({},o),{},{beforeFunc:function(t){return void 0===t.nom&&t.resetData("mes_infos"),r.app.questionnaire.before(e,t)}}))}},{key:"addAppRoute",value:function(e,t,o){var r=this;this.addRoute(e,function(e){t(e,r.app)},o)}},{key:"addRoute",value:function(e,t,o){var r,n=this;r=o&&void 0!==o.route?o.route:new RegExp("^"+e+"$");var i=o&&o.beforeFunc,a=o&&o.pageTitle;this.navigo.on(r,function(){var o=n.loadPage(e,n.app);n.updateTitle(o,e,a,n.app.profil),n.fillProgress(o,e),n.fillNavigation(o,e),t(o),n.app.trackPageView(e),o.classList.remove("loading"),o.classList.add("ready")},{before:function(t){if(void 0!==i){var o=i(n.app.profil,n.app.questionnaire);o&&o!==e?(n.redirectTo(o),t(!1)):t()}else t()}})}},{key:"loadPage",value:function(e){var t=document.querySelector("section#page");return t.classList.remove("ready"),t.classList.add("loading"),Zh(document.querySelector("#"+e),t),Yh(t,this.app.profil),this.scrollToTopOfPage(),t}},{key:"scrollToTopOfPage",value:function(){"function"==typeof document.documentElement.scrollTo?document.documentElement.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}},{key:"updateTitle",value:function(e,t,o,r){var n=o;if(void 0===o){var i=e.querySelector("h1, #conseils-block-titre, h2");n=i?i.innerText:wb(t)}var a=n?" \u2014 ":"",c=this.app.questionnaire.numeroEtape(t,r),l=c?" (\xE9tape ".concat(c,")"):"";document.title=n+l+a+this.initialTitle}},{key:"fillProgress",value:function(e,t){var o=e.querySelector(".progress");o&&(o.innerText=this.app.questionnaire.etapesRestantes(t))}},{key:"fillNavigation",value:function(e,t){var o=this,r=e.querySelector("form .back-button, .form-controls .back-button");if(r){var n=this.app.questionnaire.previousPage(t,this.app.profil);n&&r.setAttribute("href","#".concat(n))}Array.from(e.querySelectorAll(".premiere-question")).forEach(function(e){e.setAttribute("href","#".concat(o.app.questionnaire.firstPage))})}},{key:"setupNotFound",value:function(){var e=this;this.navigo.notFound(function(){e.redirectTo(Mc)})}},{key:"redirectTo",value:function(e){"undefined"!=typeof window&&window.history&&window.history.replaceState?(window.history.replaceState({},"","#".concat(e)),this.navigo.resolve()):this.navigo.navigate(e)}}]),e}();function vn(e){e.trackPageView(document.location.pathname),Kc(document.querySelector(".feedback-component"),e),Ae(document,e),Array.from(document.querySelectorAll(".cta [data-set-profil]")).forEach(function(t){Cn(t,e)}),wn(),Dn(),En(e),zn(),Ge(e,"Navigue vers une th\xE9matique depuis une autre th\xE9matique")}function wn(){gi(document),xn(),di(),window.addEventListener("hashchange",di),yn()}function xn(){var e=document.querySelectorAll("summary .lire-la-suite .button");Array.from(e).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=ei(e.target);t&&t.setAttribute("open","")})})}function di(){var e=document.location.hash?document.location.hash.slice(1):"";if(e){var t=document.querySelector("#".concat(e)),r=ei(t);r&&(r.setAttribute("open",""),setTimeout(function(){t.scrollIntoView({behavior:fi()})},100))}}function ei(e){for(;e;){if("details"===e.tagName.toLowerCase())return e;e=e.parentElement}}function fi(){return!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth"}function yn(){var e=document.querySelectorAll("summary");Array.from(e).forEach(function(e){e.addEventListener("click",function(){var t=e.parentElement;setTimeout(function(){t.scrollIntoView({behavior:fi()})},100),Bn(t)})})}function zn(){Array.from(document.querySelectorAll(".formulaire")).forEach(function(e){An(e.dataset.nom)(e.dataset.prefixe)})}function An(e){return"pass-sanitaire"==e?co:"tests-de-depistage"==e?Pn:"rappel"==e?xo:void 0}function Bn(e){e.id&&"undefined"!=typeof window&&window.history&&window.history.replaceState&&window.history.replaceState({},"","#".concat(e.id))}function Cn(e,t){e.addEventListener("click",function(r){r.preventDefault(),t.plausible("Je veux des conseils personnalis\xE9s"),t.basculerVersProfil(e.dataset.setProfil).then(function(){window.location=r.target.getAttribute("href")})})}function Dn(){var e=document.querySelectorAll(".feedback-partager a");Array.from(e).forEach(function(e){var t=e.href,r=new URL(document.URL);r.searchParams.set("source","partage-thematique"),t=t.replace("https%3A%2F%2Fmesconseilscovid.sante.gouv.fr%2F",encodeURIComponent(r)),e.href=t})}function En(e){var t=document.querySelectorAll("form.question-feedback");Array.from(t).forEach(function(t){var r=t.parentNode.querySelector("[itemprop=\"name\"]"),a=r.innerText.substring(0,r.innerText.length-" #".length),n=t.querySelectorAll("input[type=\"submit\"]");Array.from(n).forEach(function(e){e.addEventListener("click",function(e){t.submitter=e.target})}),t.addEventListener("submit",function(r){r.preventDefault();var n=r.target.submitter.dataset.value;e.plausible("Avis par question",{reponse:"".concat(a," : ").concat(n)});var o=r.target.submitter.value;Jc(t,500,function(e){Fn(e,n,a,o,"oui"===n?"Avez-vous des remarques ou des suggestions pour am\xE9liorer ces conseils\xA0?":"Pouvez-vous nous en dire plus, afin que nous puissions am\xE9liorer ces conseils\xA0?")})})})}function Fn(e,t,r,a,n){var o=document.createElement("form");o.classList.add("feedback-form"),o.innerHTML="\n        <fieldset>\n            <p role=\"status\">Merci pour votre retour.</p>\n            <label for=\"message_conseils\">".concat(n,"</label>\n            <textarea id=\"message_conseils\" name=\"message\" rows=\"9\" cols=\"20\" required></textarea>\n        </fieldset>\n        <div class=\"form-controls\">\n            <input type=\"submit\" class=\"button\" value=\"Envoyer mes remarques\">\n        </div>\n    "),e.parentNode.replaceChild(o,e),o.addEventListener("submit",function(e){e.preventDefault(),_h({feedbackHost:document.body.dataset.statsUrl,kind:t,message:e.target.elements.message.value,page:document.location.pathname.slice(1),question:r,source:window.app.source}),Gn(o,t,a)})}function Gn(e,t,r){var a=document.createElement("div");a.style.color="#656565",a.style.textAlign="center",a.style.border="2px solid #d5dbef",a.innerHTML="\n        <p>Votre r\xE9ponse\xA0: ".concat(r,"</p>\n        <p>Merci pour votre avis\xA0!</p>\n        "),e.parentNode.replaceChild(a,e)}function gi(e){var t="details",r="summary";(function(){var e=document.createElement(t);if(!("open"in e))return!1;e.innerHTML="<"+r+">a</"+r+">b",document.body.appendChild(e);var n=e.offsetHeight;e.open=!0;var o=n!=e.offsetHeight;return document.body.removeChild(e),o})()||Array.from(e.querySelectorAll("details summary")).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();for(var r=e.target;r.tagName.toLowerCase()!==t;)r=r.parentElement;r.hasAttribute("open")||r.open?(r.open=!1,r.removeAttribute("open")):(r.open=!0,r.setAttribute("open","open"))})})}function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Kn(e,t)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){var t=Nn();return function(){var r,o=ii(e);if(t){var n=ii(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Mn(this,r)}}function Mn(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pn(e){new Vn(e).demarre()}function Qn(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function ji(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,o,t){return o&&ji(e.prototype,o),t&&ji(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var xb=function(){function e(o){Qn(this,e),this.form=o}return Rn(e,[{key:"qS",value:function(e){return this.form.querySelector(e)}},{key:"qSA",value:function(e){return this.form.querySelectorAll(e)}},{key:"submitButton",get:function(){return this.qS("input[type=submit]")}},{key:"requiredTextFields",get:function(){return Array.from(this.qSA("input[type=text][required], input[type=date][required]"))}},{key:"selectFields",get:function(){return Array.from(this.qSA("select"))}},{key:"checkbox",get:function(){return this.qS("input[type=checkbox]")}},{key:"checkboxes",get:function(){return Array.from(this.qSA("input[type=checkbox]"))}},{key:"primaryCheckbox",get:function(){return this.qS("input[type=checkbox].primary")}},{key:"secondaryCheckboxes",get:function(){return Array.from(this.qSA(".secondary input[type=checkbox]"))}},{key:"radios",get:function(){return Array.from(this.qSA(".secondary input[type=radio]"))}},{key:"secondariesRequired",get:function(){return Array.from(this.qSA(".secondary.required [role=\"radiogroup\"]"))}}]),e}();function ga(e,o){var t=e.querySelector("input[name=\"".concat(o,"\"]:checked"));if(t)return t.value}function ki(e){Array.from(e.querySelectorAll("[type=\"radio\"]"),function(e){e.checked=!1})}function Ke(e,o,t){var r=t.getData()[o];void 0!==r&&""!==r&&(e[o].value=r)}function da(e,o,t){var r=t.getData()[o];void 0!==r&&r&&(e[o].checked=!0,e[o].dispatchEvent(ec("change")))}function ec(e){var o=document.createEvent("Event");return o.initEvent(e,!0,!0),o}function fc(e){return e.some(function(e){return e.checked})}function li(e){return e.every(function(e){return""!==e.value})}function qa(e,o,t){var r=new xb(e),n=r.submitButton,a=Array.from(r.qSA("input[type=radio]"));function i(){n.disabled=!1,n.value=o,fc(a)||(n.disabled=!0,n.value=t)}o=n.dataset.initialValue||o,n.dataset.initialValue=o,i(),a.forEach(function(e){return e.addEventListener("change",i)})}function Sn(e,o,t,r){var n=new xb(e),a=n.submitButton,i=n.checkbox,c=n.radios,u=n.secondariesRequired;function d(){(a.disabled=!1,a.value=i.checked?o:t,i.checked)&&(u.every(function(e){return fc(Array.from(e.querySelectorAll("input[type=radio]")))})||(a.disabled=!0,a.value=r))}function $(){d(),i.checked?c.forEach(function(e){e.disabled=!1}):c.forEach(function(e){e.checked=!1,e.disabled=!0})}d(),c.forEach(function(e){return e.addEventListener("change",d)}),$(),i.addEventListener("change",$)}function Nc(e,o,t){var r=new xb(e),n=r.submitButton,a=r.requiredTextFields;function i(){var e=li(a);n.disabled=!e,n.value=e?o:t}i(),a.forEach(function(e){return e.addEventListener("input",i)})}function mi(e,o,t,r){var n=new xb(e),a=n.submitButton,i=n.requiredTextFields,c=n.checkbox,u=n.radios;function d(){var e=li(i);(a.disabled=!1,a.value=c.checked?o:t,c.checked)&&(n.secondariesRequired.every(function(e){return fc(Array.from(e.querySelectorAll("input[type=radio]")))})&&e||(a.disabled=!0,a.value=r))}function $(){d(),c.checked?u.forEach(function(e){e.disabled=!1}):(u.forEach(function(e){e.checked=!1,e.disabled=!0}),i.forEach(function(e){e.value=""}))}return d(),i.forEach(function(e){e.addEventListener("input",d)}),u.forEach(function(e){e.addEventListener("change",d)}),$(),c.addEventListener("change",$),d}function va(e,o,t){t=Array.from(t||e.querySelectorAll(".secondary"));var r=!o.checked;t.forEach(function(e){Array.from(e.querySelectorAll("input")).forEach(function(e){e.checked&&r&&(e.checked=!1,e.dispatchEvent(ec("change"))),e.disabled=r}),r?e.classList.add("disabled"):e.classList.remove("disabled")})}function Tn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ni(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,r,t){return r&&ni(e.prototype,r),t&&ni(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Le=function(){function e(r,t){Tn(this,e),this.prefixe=r,this.nomPremierFormulaire=t}return Un(e,[{key:"demarre",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"demarrage",r=document.querySelector("#".concat(this.prefixe,"-").concat(e,"-form"));this.appelleGestionnaire(r,e)}},{key:"transitionneVersEtape",value:function(e,r){var t=document.querySelector("#".concat(this.prefixe,"-").concat(e,"-form"));fa(t),this.gereBoutonRetour(t,r),this.appelleGestionnaire(t,e)}},{key:"appelleGestionnaire",value:function(e,r){(0,this.GESTIONNAIRES[r])(e)}},{key:"gereBoutonRetour",value:function(e,r){var t=this,n=e.querySelector(".back-button");n&&n.addEventListener("click",function(a){a.preventDefault();var i=r||n.dataset.precedent;ca(e),t.transitionneVersEtape(i)})}},{key:"afficheReponse",value:function(e,r){var t=document.querySelector("#".concat(this.prefixe,"-").concat(e,"-reponse")),n=function(e){Array.from(t.querySelectorAll(".".concat(e))).forEach(function(t){t.innerHTML=r[e]})};for(var a in r)n(a);fa(t),this.gereBoutonRefaire()}},{key:"resetFormulaire",value:function(e){ki(e)}},{key:"gereBoutonRefaire",value:function(){var e=this,r=document.querySelector("#".concat(this.prefixe,"-refaire"));fa(r),r.addEventListener("click",function(t){t.preventDefault(),ca(r),tb(document,".statut"),e.resetFormulaire(document),Array.from(document.querySelectorAll("[data-initial-value]"),function(e){e.value=e.dataset.initialValue,e.removeAttribute("data-initial-value")}),e.transitionneVersEtape(e.nomPremierFormulaire)})}}]),e}();var Vn=function(e){Jn(r,Le);var t=Ln(r);function r(e){var o;return In(this,r),On(hi(o=t.call(this,e,"symptomes")),"GESTIONNAIRES",{demarrage:function(e){e.addEventListener("submit",function(t){t.preventDefault(),ca(e),o.transitionneVersEtape("symptomes")})},symptomes:function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(o.prefixe,"_symptomes_radio"));ca(e),"oui"===r?o.transitionneVersEtape("depuis-quand"):"non"===r&&o.transitionneVersEtape("cas-contact")})},"depuis-quand":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(o.prefixe,"_depuis_quand_radio"));ca(e),o.afficheReponse("symptomes-".concat(r))})},"cas-contact":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(o.prefixe,"_cas_contact_radio"));ca(e),"oui"===r?o.afficheReponse("pas-symptomes-cas-contact-".concat(r)):"non"===r&&o.transitionneVersEtape("auto-test")})},"auto-test":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(o.prefixe,"_auto_test_radio"));ca(e),o.afficheReponse("pas-symptomes-pas-cas-contact-auto-test-".concat(r))})}}),o}return r}();function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Zn(e,t)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=ao();return function(){var r,n=pi(e);if(t){var o=pi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _n(this,r)}}function _n(e,t){if(t&&("object"===Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(e){new eo(e).demarre()}var eo=function(e){Yn(r,Le);var t=$n(r);function r(e){var n;return Xn(this,r),bo(oi(n=t.call(this,e,"vaccination")),"GESTIONNAIRES",{demarrage:function(e){e.addEventListener("submit",function(t){t.preventDefault(),ca(e),n.transitionneVersEtape("vaccination")})},vaccination:function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_vaccination_radio"));ca(e),"1"===r?n.transitionneVersEtape("type-vaccin"):"2"===r?n.transitionneVersEtape("date-2e-dose"):"0"===r?n.transitionneVersEtape("depistage-positif"):console.error("valeur inattendue: ".concat(r))})},"date-1re-dose-janssen":function(e){var t=e.querySelector("input[type=submit]");Nc(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=e.elements["".concat(n.prefixe,"_date_1re_dose_janssen")];if(""!==r.value){ca(e);var o=new Date,i=new Date(r.value);Lc(i,o)>=28?n.afficheReponse("vaccination-complete"):n.afficheReponse("vaccination-delai-28-jours")}})},"date-1re-dose-autres":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault(),ca(e);var r=ga(e,"".concat(n.prefixe,"_date_1re_dose_autres_radio"));"7_jours_ou_plus"===r?n.afficheReponse("vaccination-complete"):"moins_de_7_jours"===r?n.afficheReponse("vaccination-delai-7-jours"):console.error("valeur inattendue: ".concat(r))})},"date-2e-dose":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault(),ca(e);var r=ga(e,"".concat(n.prefixe,"_date_2e_dose_radio"));"7_jours_ou_plus"===r?n.afficheReponse("vaccination-complete"):"moins_de_7_jours"===r?n.afficheReponse("vaccination-delai-7-jours"):console.error("valeur inattendue: ".concat(r))})},"type-vaccin":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_type_vaccin_radio"));ca(e),"pfizer"===r||"moderna"===r||"astrazeneca"===r?n.transitionneVersEtape("guerison-avant-1re-dose"):"janssen"===r?n.transitionneVersEtape("date-1re-dose-janssen"):console.error("valeur inattendue: ".concat(r))})},"guerison-avant-1re-dose":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_guerison_avant_1re_dose_radio"));ca(e),"oui"===r?n.transitionneVersEtape("date-1re-dose-autres"):"non"===r?n.afficheReponse("vaccination-incomplete"):console.error("valeur inattendue: ".concat(r))})},"depistage-positif":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_depistage_positif_radio"));ca(e),"oui"===r?n.transitionneVersEtape("date-derniere-covid"):"non"===r?n.afficheReponse("non-vaccine"):console.error("valeur inattendue: ".concat(r))})},"date-derniere-covid":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_date_derniere_covid_radio"));ca(e),"moins_de_6_mois"===r?n.afficheReponse("test-positif-moins-de-6-mois"):"plus_de_6_mois"===r?n.afficheReponse("test-positif-plus-de-6-mois"):console.error("valeur inattendue: ".concat(r))})}}),n}return r}();function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ho(e,t,r){return t&&qi(e.prototype,t),r&&qi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function io(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&jo(e,t)}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=mo();return function(){var r,n=si(e);if(t){var a=si(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lo(this,r)}}function lo(e,t){if(t&&("object"===fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Me,Oc,oo=false;function Ne(){if(oo)return;oo=true;Oc={};!function(t,e){"object"==typeof Oc?Oc=e():"function"==typeof Me&&Me.amd?Me(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs=e()}(Oc,function(){var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",u="month",a="quarter",o="year",f="date",h="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:l,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+l(r,2,"0")+":"+l(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},M="en",v={};v[M]=$;var m=function(t){return t instanceof S},g=function(t,e,n){var r;if(!t)return M;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(M=r),r||!n&&M},D=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},p=y;p.l=g,p.i=m,p.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function $(t){this.$L=g(t.locale,null,!0),this.parse(t)}var l=$.prototype;return l.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(p.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(c);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},l.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},l.$utils=function(){return p},l.isValid=function(){return!(this.$d.toString()===h)},l.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},l.isAfter=function(t,e){return D(t)<this.startOf(e)},l.isBefore=function(t,e){return this.endOf(e)<D(t)},l.$g=function(t,e,n){return p.u(t)?this[e]:this.set(n,t)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(t,a){var h=this,c=!!p.u(a)||a,d=p.p(t),$=function(t,e){var n=p.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return p.w(h.toDate()[t].apply(h.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return $(c?v-D:v+(6-D),M);case i:case f:return l(m+"Hours",0);case r:return l(m+"Minutes",1);case n:return l(m+"Seconds",2);case e:return l(m+"Milliseconds",3);default:return this.clone();}},l.endOf=function(t){return this.startOf(t,!1)},l.$set=function(s,a){var h,c=p.p(s),d="set"+(this.$u?"UTC":""),$=(h={},h[i]=d+"Date",h[f]=d+"Date",h[u]=d+"Month",h[o]=d+"FullYear",h[r]=d+"Hours",h[n]=d+"Minutes",h[e]=d+"Seconds",h[t]=d+"Milliseconds",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},l.set=function(t,e){return this.clone().$set(t,e)},l.get=function(t){return this[p.p(t)]()},l.add=function(t,a){var f,h=this;t=Number(t);var c=p.p(a),d=function(e){var n=D(h);return p.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return p.w(l,this)},l.subtract=function(t,e){return this.add(-1*t,e)},l.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=p.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,c=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},$=function(t){return p.s(s%12||12,t,"0")},l=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:p.s(a+1,2,"0"),MMM:c(n.monthsShort,a,f,3),MMMM:c(f,a),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,o,2),ddd:c(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:p.s(s,2,"0"),h:$(1),hh:$(2),a:l(s,u,!0),A:l(s,u,!1),m:String(u),mm:p.s(u,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:i};return r.replace(d,function(t,e){return e||y[t]||i.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(t,f,h){var c,d=p.p(f),$=D(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=p.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:p.a(M)},l.daysInMonth=function(){return this.endOf(u).$D},l.$locale=function(){return v[this.$L]},l.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=g(t,e,!0);return r&&(n.$L=r),n},l.clone=function(){return p.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},$}(),w=S.prototype;return D.prototype=w,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",u],["$y",o],["$D",f]].forEach(function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),D.extend=function(t,e){return t.$i||(t(e,S,D),t.$i=!0),D},D.locale=g,D.isDayjs=m,D.unix=function(t){return D(1e3*t)},D.en=v[M],D.Ls=v,D.p={},D})}var Oe,ti={};!function(e,r){"object"==typeof ti?ti=r((Ne(),Oc)):"function"==typeof Oe&&Oe.amd?Oe(["dayjs"],r):(e="undefined"!=typeof globalThis?globalThis:e||self).dayjs_locale_fr=r(e.dayjs)}(ti,function(e){var r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),a={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return r.default.locale(a,null,!0),a});var Pe,Qe={};!function(e,a){"object"==typeof Qe?Qe=a():"function"==typeof Pe&&Pe.amd?Pe(a):(e="undefined"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=a()}(Qe,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,r,t){var o=r.prototype,n=o.format;t.en.formats=e,o.format=function(a){void 0===a&&(a="YYYY-MM-DDTHH:mm:ssZ");var r=this.$locale().formats,t=function(a,r){return a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(a,t,o){var n=o&&o.toUpperCase();return t||r[o]||e[o]||r[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,a,r){return a||r.slice(1)})})}(a,void 0===r?{}:r);return n.call(this,t)}}});var Re,Se={};!function(n,e){"object"==typeof Se?Se=function(n,e,r){var t=function(n,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var r;1===e.length&&e[0].length>0&&(e=e[0]),r=e[0];for(var t=1;t<e.length;t+=1)e[t].isValid()&&!e[t][n](r)||(r=e[t]);return r};r.max=function(){var n=[].slice.call(arguments,0);return t("isAfter",n)},r.min=function(){var n=[].slice.call(arguments,0);return t("isBefore",n)}}:"function"==typeof Re&&Re.amd?Re(e):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_minMax=function(n,e,r){var t=function(n,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var r;1===e.length&&e[0].length>0&&(e=e[0]),r=e[0];for(var t=1;t<e.length;t+=1)e[t].isValid()&&!e[t][n](r)||(r=e[t]);return r};r.max=function(){var n=[].slice.call(arguments,0);return t("isAfter",n)},r.min=function(){var n=[].slice.call(arguments,0);return t("isBefore",n)}}}(Se,function(){return function(n,e,r){var t=function(n,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var r;1===e.length&&e[0].length>0&&(e=e[0]),r=e[0];for(var t=1;t<e.length;t+=1)e[t].isValid()&&!e[t][n](r)||(r=e[t]);return r};r.max=function(){var n=[].slice.call(arguments,0);return t("isAfter",n)},r.min=function(){var n=[].slice.call(arguments,0);return t("isBefore",n)}}});function po(){var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value","a"),"a"!==e.value}function qo(e){if(void 0===e)return"";var a=e.getDate(),t=e.getMonth()+1;return e.getFullYear()+"-"+ui(t)+"-"+ui(a)}function ui(e){return e<10?"0"+e:e}function Te(e,a,t){var $kYJw$$interop$default=ma(Ve);po()||new $kYJw$$interop$default.d({field:e,format:"YYYY-MM-DD",toString:function(e){return qo(e)},parse:function(e){var a=e.split("-"),t=parseInt(a[0],10),r=parseInt(a[1],10)-1,i=parseInt(a[2],10);return new Date(t,r,i)},maxDate:a,onSelect:t,onOpen:t,onClose:t,firstDay:1,i18n:{previousMonth:"Mois pr\xE9c\xE9dent",nextMonth:"Mois suivant",months:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekdaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},ariaLabel:"Utilisez les fl\xE8ches pour choisir une date",theme:"pika-mcc-theme"})}var Ue,Ve={};!function(e,t){var n;if("object"==typeof Ve){try{n=Ni("moment")}catch(a){}Ve=t(n)}else"function"==typeof Ue&&Ue.amd?Ue(function(e){try{n=e("moment")}catch(a){}return t(n)}):e.Pikaday=t(e.moment)}(Ve,function(e){var t="function"==typeof e,n=!!window.addEventListener,a=window.document,i=window.setTimeout,s=function(e,t,a,i){n?e.addEventListener(t,a,!!i):e.attachEvent("on"+t,a)},o=function(e,t,a,i){n?e.removeEventListener(t,a,!!i):e.detachEvent("on"+t,a)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){r(e,t)||(e.className=""===e.className?t:e.className+" "+t)},h=function(e,t){var n;e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},d=function(e){return /Array/.test(Object.prototype.toString.call(e))},u=function(e){return /Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},c=function(e){var t=e.getDay();return 0===t||6===t},f=function(e){return e%4==0&&e%100!=0||e%400==0},g=function(e,t){return[31,f(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){u(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var a,i;for(a in t)(i=void 0!==e[a])&&"object"==typeof t[a]&&null!==t[a]&&void 0===t[a].nodeName?u(t[a])?n&&(e[a]=new Date(t[a].getTime())):d(t[a])?n&&(e[a]=t[a].slice(0)):e[a]=y({},t[a],n):!n&&i||(e[a]=t[a]);return e},D=function(e,t,n){var i;a.createEvent?((i=a.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):a.createEventObject&&(i=a.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},v=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},_=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return"<td class=\"is-empty\"></td>";t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),"<td data-day=\""+e.day+"\" class=\""+t.join(" ")+"\" aria-selected=\""+n+"\"><button class=\"pika-button pika-day\" type=\"button\" data-pika-year=\""+e.year+"\" data-pika-month=\""+e.month+"\" data-pika-day=\""+e.day+"\">"+e.day+"</button></td>"},k=function(n,a,i,s){var o=new Date(i,a,n);return"<td class=\"pika-week\">"+(t?e(o).isoWeek():function(e,t){e.setHours(0,0,0,0);var n=e.getDate(),a=e.getDay(),i=t,s=i-1,o=function(e){return(e+7-1)%7};e.setDate(n+s-o(a));var r=new Date(e.getFullYear(),0,i),l=(e.getTime()-r.getTime())/864e5;return 1+Math.round((l-s+o(r.getDay()))/7)}(o,s))+"</td>"},M=function(e,t,n,a){return"<tr class=\"pika-row"+(n?" pick-whole-week":"")+(a?" is-selected":"")+"\">"+(t?e.reverse():e).join("")+"</tr>"},x=function(e,t,n,a,i,s){var o,r,l,h,u,c=e._o,f=n===c.minYear,g=n===c.maxYear,m="<div id=\""+s+"\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">",p=!0,y=!0;for(l=[],o=0;o<12;o++)l.push("<option value=\""+(n===i?o-t:12+o-t)+"\""+(o===a?" selected=\"selected\"":"")+(f&&o<c.minMonth||g&&o>c.maxMonth?" disabled=\"disabled\"":"")+">"+c.i18n.months[o]+"</option>");for(h="<div class=\"pika-label\">"+c.i18n.months[a]+"<select class=\"pika-select pika-select-month\" tabindex=\"-1\">"+l.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],r=c.yearRange[1]+1):(o=n-c.yearRange,r=1+n+c.yearRange),l=[];o<r&&o<=c.maxYear;o++)o>=c.minYear&&l.push("<option value=\""+o+"\""+(o===n?" selected=\"selected\"":"")+">"+o+"</option>");return u="<div class=\"pika-label\">"+n+c.yearSuffix+"<select class=\"pika-select pika-select-year\" tabindex=\"-1\">"+l.join("")+"</select></div>",c.showMonthAfterYear?m+=u+h:m+=h+u,f&&(0===a||c.minMonth>=a)&&(p=!1),g&&(11===a||c.maxMonth<=a)&&(y=!1),0===t&&(m+="<button class=\"pika-prev"+(p?"":" is-disabled")+"\" type=\"button\">"+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+="<button class=\"pika-next"+(y?"":" is-disabled")+"\" type=\"button\">"+c.i18n.nextMonth+"</button>"),m+"</div>"},R=function(e,t,n){return"<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\""+n+"\">"+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push("<th scope=\"col\"><abbr title=\""+_(e,t)+"\">"+_(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"},N=function(o){var l=this,h=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),h.bound&&i(function(){l.hide(),h.blurFieldOnSelect&&h.field&&h.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:h.field&&h.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null);}},l._parseFieldValue=function(){if(h.parse)return h.parse(h.field.value,h.format);if(t){var n=e(h.field.value,h.format,h.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(h.field.value))},l._onInputChange=function(e){var t;e.firedBy!==l&&(t=l._parseFieldValue(),u(t)&&l.setDate(t),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=a.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,a=t;if(t){!n&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",l._onChange)));do{if(r(a,"pika-single")||a===h.trigger)return}while(a=a.parentNode);l._v&&t!==h.trigger&&a!==h.trigger&&l.hide()}},l.el=a.createElement("div"),l.el.className="pika-single"+(h.isRTL?" is-rtl":"")+(h.theme?" "+h.theme:""),s(l.el,"mousedown",l._onMouseDown,!0),s(l.el,"touchend",l._onMouseDown,!0),s(l.el,"change",l._onChange),h.keyboardInput&&s(a,"keydown",l._onKeyChange),h.field&&(h.container?h.container.appendChild(l.el):h.bound?a.body.appendChild(l.el):h.field.parentNode.insertBefore(l.el,h.field.nextSibling),s(h.field,"change",l._onInputChange),h.defaultDate||(h.defaultDate=l._parseFieldValue(),h.setDefaultDate=!0));var d=h.defaultDate;u(d)?h.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),h.bound?(this.hide(),l.el.className+=" is-bound",s(h.trigger,"click",l._onInputClick),s(h.trigger,"focus",l._onInputFocus),s(h.trigger,"blur",l._onInputBlur)):this.show()};return N.prototype={config:function(e){this._o||(this._o=y({},b,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var a=new Date().getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||a,t.yearRange[1]=parseInt(t.yearRange[1],10)||a}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,u(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,a){t&&e.isMoment(n)&&this.setDate(n.toDate(),a)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",D(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var n=this._o.minDate,a=this._o.maxDate;u(n)&&e<n?e=n:u(a)&&e>a&&(e=a),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),D(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),t=i<n.getTime()||a.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,a=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(a.valueOf()+i):"subtract"===e&&(n=new Date(a.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=v({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,a=n.minYear,s=n.maxYear,o=n.minMonth,r=n.maxMonth,l="";this._y<=a&&(this._y=a,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(r)&&this._m>r&&(this._m=r));for(var h=0;h<n.numberOfMonths;h++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+="<div class=\"pika-lendar\">"+x(this,h,this.calendars[h].year,this.calendars[h].month,this.calendars[0].year,t)+this.render(this.calendars[h].year,this.calendars[h].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,s,o,r,d,u,c,f,g;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||a.documentElement.clientWidth,o=window.innerHeight||a.documentElement.clientHeight,r=window.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop,f=!0,g=!0,"function"==typeof e.getBoundingClientRect)d=(c=e.getBoundingClientRect()).left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(d=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)d+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&d+n>s||this._o.position.indexOf("right")>-1&&d-n+e.offsetWidth>0)&&(d=d-n+e.offsetWidth,f=!1),(this._o.reposition&&u+i>o+r||this._o.position.indexOf("top")>-1&&u-i-e.offsetHeight>0)&&(u=u-i-e.offsetHeight,g=!1),this.el.style.left=d+"px",this.el.style.top=u+"px",l(this.el,f?"left-aligned":"right-aligned"),l(this.el,g?"bottom-aligned":"top-aligned"),h(this.el,f?"right-aligned":"left-aligned"),h(this.el,g?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var a=this._o,i=new Date,s=g(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];m(i),a.firstDay>0&&(o-=a.firstDay)<0&&(o+=7);for(var h=0===t?11:t-1,d=11===t?0:t+1,f=0===t?e-1:e,y=11===t?e+1:e,D=g(f,h),v=s+o,b=v;b>7;)b-=7;v+=7-b;for(var _=!1,x=0,N=0;x<v;x++){var Y=new Date(e,t,x-o+1),S=!!u(this._d)&&p(Y,this._d),C=p(Y,i),I=-1!==a.events.indexOf(Y.toDateString()),T=x<o||x>=s+o,E=x-o+1,O=t,j=e,$=a.startRange&&p(a.startRange,Y),W=a.endRange&&p(a.endRange,Y),F=a.startRange&&a.endRange&&a.startRange<Y&&Y<a.endRange;T&&(x<o?(E=D+E,O=h,j=f):(E-=s,O=d,j=y));var A={day:E,month:O,year:j,hasEvent:I,isSelected:S,isToday:C,isDisabled:a.minDate&&Y<a.minDate||a.maxDate&&Y>a.maxDate||a.disableWeekends&&c(Y)||a.disableDayFn&&a.disableDayFn(Y),isEmpty:T,isStartRange:$,isEndRange:W,isInRange:F,showDaysInNextAndPreviousMonths:a.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:a.enableSelectionDaysInNextAndPreviousMonths};a.pickWholeWeek&&S&&(_=!0),l.push(w(A)),7==++N&&(a.showWeekNumber&&l.unshift(k(x-o,t,e,a.firstWeekOfYearMinDays)),r.push(M(l,a.isRTL,a.pickWholeWeek,_)),l=[],N=0,_=!1)}return R(a,r,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),h(this.el,"is-hidden"),this._o.bound&&(s(a,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&o(a,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),e.keyboardInput&&o(a,"keydown",this._onKeyChange),e.field&&(o(e.field,"change",this._onInputChange),e.bound&&(o(e.trigger,"click",this._onInputClick),o(e.trigger,"focus",this._onInputFocus),o(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},N});var wa=ma(Oc);var ro=ma(Qe);var so=ma(Se);Ne(),wa.d.locale("fr"),wa.d.extend(ro.d),wa.d.extend(so.d);var to=31,uo=61,vo=153,wo=214;function xo(e){new yo(e).demarre()}var yo=function(e){io(r,Le);var t=ko(r);function r(e){var n;return go(this,r),no(ri(n=t.call(this,e,"age")),"GESTIONNAIRES",{demarrage:function(e){e.addEventListener("submit",function(t){t.preventDefault(),ca(e),n.transitionneVersEtape("age")})},age:function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_age_radio"));n.age=r,ca(e),"plus65"===r||"moins65"===r||"moins18"===r?n.transitionneVersEtape("vaccination-initiale"):console.error("valeur inattendue: ".concat(r))})},"vaccination-initiale":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_vaccination_initiale_radio"));ca(e),"janssen"===r?(n.janssen=!0,n.prolongationPass=!0,n.transitionneVersEtape("date-derniere-dose","vaccination-initiale")):"autre"===r?"plus65"===n.age?(n.prolongationPass=!0,n.transitionneVersEtape("date-derniere-dose","vaccination-initiale")):"moins65"===n.age?(n.prolongationPass=!0,n.transitionneVersEtape("date-derniere-dose","vaccination-initiale")):n.transitionneVersEtape("situation-moins18"):console.error("valeur inattendue: ".concat(r))})},"situation-moins18":function(e){var t=e.querySelector("input[type=submit]");qa(e,t.value,"Cette information est requise"),e.addEventListener("submit",function(t){t.preventDefault();var r=ga(e,"".concat(n.prefixe,"_situation_moins18_radio"));ca(e),"immunodeprimee"===r||"comorbidite"===r?(n.prolongationPass=!1,n.transitionneVersEtape("date-derniere-dose","situation-moins18")):"autre"===r?n.afficheReponse("pas-concerne"):console.error("valeur inattendue: ".concat(r))})},"date-derniere-dose":function(e){var t=e.querySelector("input[type=submit]").value,r=function(){Nc(e,t,"Cette information est requise")};r();var a=e.querySelector("#".concat(n.prefixe,"_date_derniere_dose"));Te(a,null,r),e.addEventListener("submit",function(t){t.preventDefault();var r=e.elements["".concat(n.prefixe,"_date_derniere_dose")];if(""!==r.value){ca(e);var a=wa.d(r.value),o="plus65"===n.age||n.janssen||"moins18"===n.age?wa.d("2021/09/01"):wa.d("2021/11/27"),i=n.janssen?to:vo,s=wa.d.max(o,a.add(i,"day")),$="plus65"===n.age||n.janssen?wa.d("2021/12/15"):wa.d("2022/01/15"),u=n.janssen?uo:wo,c=wa.d.max($,a.add(u,"day")),l={age:"plus65"===n.age?"65\xA0ans ou plus":"moins65"===n.age?"entre 18 et 64\xA0ans":"moins de 18\xA0ans",vaccin:n.janssen?"Janssen":"Pfizer, Moderna ou AstraZeneca","date-derniere-dose":a.format("LL"),"type-dose":n.janssen?"injection suppl\xE9mentaire":"dose de rappel","date-eligibilite-rappel":s.format("LL"),"date-entree-en-vigueur":$.format("LL")};n.prolongationPass?(l["desactivation-pass-sanitaire"]=c.format("LL"),n.afficheReponse("rappel-et-pass",l)):n.afficheReponse("rappel",l)}})}}),n.age=void 0,n.janssen=!1,n.prolongationPass=void 0,n}return ho(r,[{key:"resetFormulaire",value:function(e){ki(e),this.age=void 0,this.janssen=!1,this.prolongationPass=void 0}}]),r}();function zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ao(e,t,r){return t&&vi(e.prototype,t),r&&vi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Bo,Co,Do,Eo,Fo,Go;function yb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Io(e,t,s){return t&&wi(e.prototype,t),s&&wi(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var Jo=7,xi=30,Ko=7,We=function(){function e(t,s){Ho(this,e),this.nom=t,this.fillData(s||{})}return Io(e,[{key:"suivi_start_date",get:function(){if(void 0!==this._suivi_start_date)return new Date(this._suivi_start_date)},set:function(e){this._suivi_start_date=void 0!==e?e.toJSON():void 0}},{key:"symptomes_start_date",get:function(){if(void 0!==this._symptomes_start_date)return new Date(this._symptomes_start_date)},set:function(e){this._symptomes_start_date=void 0!==e?e.toJSON():void 0}},{key:"depistage_start_date",get:function(){if(void 0!==this._depistage_start_date)return new Date(this._depistage_start_date)},set:function(e){this._depistage_start_date=void 0!==e?e.toJSON():void 0}},{key:"covid_passee_date",get:function(){if(void 0!==this._covid_passee_date)return new Date(this._covid_passee_date)},set:function(e){this._covid_passee_date=void 0!==e?e.toJSON():void 0}},{key:"deconfinement_date",get:function(){if(void 0!==this._deconfinement_date)return new Date(this._deconfinement_date)},set:function(e){this._deconfinement_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_start_date",get:function(){if(void 0!==this._questionnaire_start_date)return new Date(this._questionnaire_start_date)},set:function(e){this._questionnaire_start_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_completion_date",get:function(){if(void 0!==this._questionnaire_completion_date)return new Date(this._questionnaire_completion_date)},set:function(e){this._questionnaire_completion_date=void 0!==e?e.toJSON():void 0}},{key:"resetSuivi",value:function(){this._suivi_start_date=void 0,this._deconfinement_date=void 0,this.suivi=[]}},{key:"resetData",value:function(e){this.nom=e,this.departement=void 0,this.activite_pro=void 0,this.activite_pro_sante=void 0,this.foyer_autres_personnes=void 0,this.foyer_enfants=void 0,this.age=void 0,this.grossesse_3e_trimestre=void 0,this.poids=void 0,this.taille=void 0,this.antecedent_cardio=void 0,this.antecedent_diabete=void 0,this.antecedent_respi=void 0,this.antecedent_dialyse=void 0,this.antecedent_greffe=void 0,this.antecedent_cancer=void 0,this.antecedent_immunodep=void 0,this.antecedent_cirrhose=void 0,this.antecedent_drepano=void 0,this.antecedent_trisomie=void 0,this.antecedent_chronique_autre=void 0,this.symptomes_actuels=void 0,this.symptomes_actuels_temperature=void 0,this.symptomes_actuels_temperature_inconnue=void 0,this.symptomes_actuels_toux=void 0,this.symptomes_actuels_odorat=void 0,this.symptomes_actuels_douleurs=void 0,this.symptomes_actuels_diarrhee=void 0,this.symptomes_actuels_fatigue=void 0,this.symptomes_actuels_alimentation=void 0,this.symptomes_actuels_souffle=void 0,this.symptomes_actuels_autre=void 0,this.symptomes_passes=void 0,this.contact_a_risque=void 0,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0,this._symptomes_start_date=void 0,this.depistage=void 0,this.depistage_type=void 0,this.depistage_resultat=void 0,this.depistage_variante=void 0,this._depistage_start_date=void 0,this.vaccins=void 0,this.covid_passee=void 0,this._covid_passee_date=void 0,this.suivi_active=!1,this.resetSuivi(),this.questionnaire_started=!1,this.questionnaire_completed=!1,this._questionnaire_start_date=void 0,this._questionnaire_completion_date=void 0}},{key:"fillData",value:function(e){this.departement=e.departement,this.activite_pro=e.activite_pro,this.activite_pro_sante=e.activite_pro_sante,void 0!==e.foyer_autres_personnes?this.foyer_autres_personnes=e.foyer_autres_personnes:this.foyer_autres_personnes=e.foyer_enfants,this.foyer_enfants=e.foyer_enfants,this.age=e.age,this.grossesse_3e_trimestre=e.grossesse_3e_trimestre,this.poids=e.poids,this.taille=e.taille,this.antecedent_cardio=e.antecedent_cardio,this.antecedent_diabete=e.antecedent_diabete,this.antecedent_respi=e.antecedent_respi,this.antecedent_dialyse=e.antecedent_dialyse,this.antecedent_greffe=e.antecedent_greffe,this.antecedent_cancer=e.antecedent_cancer,this.antecedent_immunodep=e.antecedent_immunodep,this.antecedent_cirrhose=e.antecedent_cirrhose,this.antecedent_drepano=e.antecedent_drepano,this.antecedent_trisomie=e.antecedent_trisomie,this.antecedent_chronique_autre=e.antecedent_chronique_autre,this.symptomes_actuels=e.symptomes_actuels,this.symptomes_actuels_temperature=e.symptomes_actuels_temperature,this.symptomes_actuels_temperature_inconnue=e.symptomes_actuels_temperature_inconnue,this.symptomes_actuels_toux=e.symptomes_actuels_toux,this.symptomes_actuels_odorat=e.symptomes_actuels_odorat,this.symptomes_actuels_douleurs=e.symptomes_actuels_douleurs,this.symptomes_actuels_diarrhee=e.symptomes_actuels_diarrhee,this.symptomes_actuels_fatigue=e.symptomes_actuels_fatigue,this.symptomes_actuels_alimentation=e.symptomes_actuels_alimentation,this.symptomes_actuels_souffle=e.symptomes_actuels_souffle,this.symptomes_actuels_autre=e.symptomes_actuels_autre,this.symptomes_passes=e.symptomes_passes,this.contact_a_risque=e.contact_a_risque,this.contact_a_risque_meme_lieu_de_vie=e.contact_a_risque_meme_lieu_de_vie,this.contact_a_risque_contact_direct=e.contact_a_risque_contact_direct,this.contact_a_risque_actes=e.contact_a_risque_actes,this.contact_a_risque_espace_confine=e.contact_a_risque_espace_confine,this.contact_a_risque_tousse_eternue=e.contact_a_risque_tousse_eternue,this.contact_a_risque_meme_classe=e.contact_a_risque_meme_classe,this.contact_a_risque_stop_covid=e.contact_a_risque_stop_covid,this.contact_a_risque_assurance_maladie=e.contact_a_risque_assurance_maladie,this.contact_a_risque_autre=e.contact_a_risque_autre,this.contact_a_risque_variante=e.contact_a_risque_variante,this.depistage=e.depistage,this.depistage_type=e.depistage_type,this.depistage_resultat=e.depistage_resultat,this.depistage_variante=e.depistage_variante,this._depistage_start_date=e._depistage_start_date,"boolean"==typeof e.vaccins?this.vaccins=e.vaccins?"completement":"pas_encore":this.vaccins=e.vaccins,this.covid_passee=e.covid_passee,this._covid_passee_date=e._covid_passee_date,this._suivi_start_date=e._suivi_start_date,this._symptomes_start_date=e._symptomes_start_date,this._deconfinement_date=e._deconfinement_date,this.suivi_active=e.suivi_active||!1,this.suivi=e.suivi||[],this.fillQuestionnaireStarted(e.questionnaire_started),this.fillQuestionnaireCompleted(e.questionnaire_completed),this.fillQuestionnaireStartDate(e._questionnaire_start_date),this.fillQuestionnaireCompletionDate(e._questionnaire_completion_date)}},{key:"fillQuestionnaireStarted",value:function(e){this.questionnaire_started=void 0!==e?e:!this.isEmpty()}},{key:"fillQuestionnaireCompleted",value:function(e){this.questionnaire_completed=void 0!==e?e:this.isComplete()}},{key:"fillQuestionnaireStartDate",value:function(e){void 0!==e?this._questionnaire_start_date=e:this.questionnaire_start_date=this.questionnaire_started?new Date:void 0}},{key:"fillQuestionnaireCompletionDate",value:function(e){void 0!==e?this._questionnaire_completion_date=e:this.questionnaire_completion_date=this.questionnaire_completed?new Date:void 0}},{key:"fillContactARisque",value:function(e){this.contact_a_risque=e,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0}},{key:"fillTestData",value:function(e,t,s){var i={symptomes_actuels:!1,symptomes_actuels_temperature:!1,symptomes_actuels_temperature_inconnue:!1,symptomes_actuels_toux:!1,symptomes_actuels_odorat:!1,symptomes_actuels_douleurs:!1,symptomes_actuels_diarrhee:!1,symptomes_actuels_fatigue:!1,symptomes_actuels_alimentation:!1,symptomes_actuels_souffle:!1,symptomes_actuels_autre:!1,symptomes_passes:!1,contact_a_risque:!1,contact_a_risque_meme_lieu_de_vie:!1,contact_a_risque_contact_direct:!1,contact_a_risque_actes:!1,contact_a_risque_espace_confine:!1,contact_a_risque_tousse_eternue:!1,contact_a_risque_meme_classe:!1,contact_a_risque_stop_covid:!1,contact_a_risque_assurance_maladie:!1,contact_a_risque_autre:!1,contact_a_risque_variante:"aucune",depistage:!1,depistage_type:"",depistage_resultat:"",depistage_variante:"aucune",vaccins:"pas_encore",covid_passee:!1,departement:"34",activite_pro:!1,activite_pro_sante:!1,foyer_autres_personnes:!1,foyer_enfants:!1,age:42,grossesse_3e_trimestre:!1,poids:"70",taille:"178",antecedent_cardio:!1,antecedent_diabete:!1,antecedent_respi:!1,antecedent_dialyse:!1,antecedent_greffe:!1,antecedent_cancer:!1,antecedent_immunodep:!1,antecedent_cirrhose:!1,antecedent_drepano:!1,antecedent_trisomie:!1,antecedent_chronique_autre:!1};return"Positif"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="positif",i._depistage_start_date=new Date().toJSON()):"N\xE9gatif"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="negatif",i._depistage_start_date=new Date().toJSON()):"En attente"==e?(i.depistage=!0,i.depistage_type="rt-pcr",i.depistage_resultat="en_attente",i._depistage_start_date=new Date().toJSON()):"Pas test\xE9"==e||console.error("Situation de d\xE9pistage inconnue"),"Sympt\xF4mes actuels graves"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_souffle=!0,i._symptomes_start_date=ja(3).toJSON()):"Sympt\xF4mes actuels"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_diarrhee=!0,i._symptomes_start_date=ja(3).toJSON()):"Sympt\xF4mes actuels non \xE9vocateurs"===t?(i.symptomes_actuels=!0,i.symptomes_actuels_autre=!0):"Sympt\xF4mes pass\xE9s"===t?(i.symptomes_passes=!0,i._symptomes_start_date=ja(3).toJSON()):"Contact \xE0 risque"===t?(i.contact_a_risque=!0,i.contact_a_risque_meme_lieu_de_vie=!0):"Contact pas vraiment \xE0 risque"===t?(i.contact_a_risque=!0,i.contact_a_risque_autre=!0):"Rien de tout \xE7a"===t||console.error("Situation symptomatique inconnue"),s&&(i.age=70),this.fillData(i)}},{key:"getData",value:function(){return{activite_pro:this.activite_pro,activite_pro_sante:this.activite_pro_sante,foyer_autres_personnes:this.foyer_autres_personnes,foyer_enfants:this.foyer_enfants,age:this.age,grossesse_3e_trimestre:this.grossesse_3e_trimestre,poids:this.poids,taille:this.taille,antecedent_cardio:this.antecedent_cardio,antecedent_diabete:this.antecedent_diabete,antecedent_respi:this.antecedent_respi,antecedent_dialyse:this.antecedent_dialyse,antecedent_greffe:this.antecedent_greffe,antecedent_cancer:this.antecedent_cancer,antecedent_immunodep:this.antecedent_immunodep,antecedent_cirrhose:this.antecedent_cirrhose,antecedent_drepano:this.antecedent_drepano,antecedent_trisomie:this.antecedent_trisomie,antecedent_chronique_autre:this.antecedent_chronique_autre,symptomes_actuels:this.symptomes_actuels,symptomes_actuels_temperature:this.symptomes_actuels_temperature,symptomes_actuels_temperature_inconnue:this.symptomes_actuels_temperature_inconnue,symptomes_actuels_toux:this.symptomes_actuels_toux,symptomes_actuels_odorat:this.symptomes_actuels_odorat,symptomes_actuels_douleurs:this.symptomes_actuels_douleurs,symptomes_actuels_diarrhee:this.symptomes_actuels_diarrhee,symptomes_actuels_fatigue:this.symptomes_actuels_fatigue,symptomes_actuels_alimentation:this.symptomes_actuels_alimentation,symptomes_actuels_souffle:this.symptomes_actuels_souffle,symptomes_actuels_autre:this.symptomes_actuels_autre,symptomes_passes:this.symptomes_passes,contact_a_risque:this.contact_a_risque,contact_a_risque_meme_lieu_de_vie:this.contact_a_risque_meme_lieu_de_vie,contact_a_risque_contact_direct:this.contact_a_risque_contact_direct,contact_a_risque_actes:this.contact_a_risque_actes,contact_a_risque_espace_confine:this.contact_a_risque_espace_confine,contact_a_risque_tousse_eternue:this.contact_a_risque_tousse_eternue,contact_a_risque_meme_classe:this.contact_a_risque_meme_classe,contact_a_risque_stop_covid:this.contact_a_risque_stop_covid,contact_a_risque_assurance_maladie:this.contact_a_risque_assurance_maladie,contact_a_risque_autre:this.contact_a_risque_autre,contact_a_risque_variante:this.contact_a_risque_variante,depistage:this.depistage,depistage_type:this.depistage_type,depistage_resultat:this.depistage_resultat,depistage_variante:this.depistage_variante,_depistage_start_date:this._depistage_start_date,vaccins:this.vaccins,covid_passee:this.covid_passee,_covid_passee_date:this._covid_passee_date,suivi_active:this.suivi_active,_suivi_start_date:this._suivi_start_date,_symptomes_start_date:this._symptomes_start_date,_deconfinement_date:this._deconfinement_date,suivi:this.suivi,questionnaire_started:this.questionnaire_started,questionnaire_completed:this.questionnaire_completed,_questionnaire_start_date:this._questionnaire_start_date,_questionnaire_completion_date:this._questionnaire_completion_date}}},{key:"isEmpty",value:function(){return void 0===this.activite_pro&&void 0===this.activite_pro_sante&&void 0===this.foyer_autres_personnes&&void 0===this.foyer_enfants&&void 0===this.age&&void 0===this.grossesse_3e_trimestre&&void 0===this.poids&&void 0===this.taille&&void 0===this.antecedent_cardio&&void 0===this.antecedent_diabete&&void 0===this.antecedent_respi&&void 0===this.antecedent_dialyse&&void 0===this.antecedent_greffe&&void 0===this.antecedent_cancer&&void 0===this.antecedent_immunodep&&void 0===this.antecedent_cirrhose&&void 0===this.antecedent_drepano&&void 0===this.antecedent_trisomie&&void 0===this.antecedent_chronique_autre&&void 0===this.symptomes_actuels&&void 0===this.symptomes_passes&&void 0===this.contact_a_risque&&void 0===this.depistage&&void 0===this.vaccins&&void 0===this.covid_passee}},{key:"isAntecedentsComplete",value:function(){return void 0!==this.antecedent_cardio&&void 0!==this.antecedent_diabete&&void 0!==this.antecedent_respi&&void 0!==this.antecedent_dialyse&&void 0!==this.antecedent_greffe&&void 0!==this.antecedent_cancer&&void 0!==this.antecedent_immunodep&&void 0!==this.antecedent_cirrhose&&void 0!==this.antecedent_drepano&&void 0!==this.antecedent_trisomie&&void 0!==this.antecedent_chronique_autre}},{key:"isCaracteristiquesComplete",value:function(){return void 0!==this.age&&void 0!==this.grossesse_3e_trimestre&&void 0!==this.poids&&void 0!==this.taille}},{key:"isSanteComplete",value:function(){return this.isAntecedentsComplete()&&this.isCaracteristiquesComplete()}},{key:"isSituationComplete",value:function(){return void 0!==this.foyer_autres_personnes&&void 0!==this.foyer_enfants&&void 0!==this.activite_pro&&void 0!==this.activite_pro_sante}},{key:"isSymptomesComplete",value:function(){return this._isSymptomesActuelsComplete()&&this._isSymptomesPassesComplete()&&this._isDebutSymptomesComplete()}},{key:"_isSymptomesActuelsComplete",value:function(){return void 0!==this.symptomes_actuels}},{key:"_isSymptomesPassesComplete",value:function(){return void 0!==this.symptomes_passes}},{key:"_isDebutSymptomesComplete",value:function(){return!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes||this.hasSymptomesStartDate()}},{key:"isContactARisqueComplete",value:function(){return void 0!==this.contact_a_risque||void 0!==this.contact_a_risque_stop_covid||void 0!==this.contact_a_risque_assurance_maladie}},{key:"isDepistageComplete",value:function(){return void 0!==this.depistage&&(!0!==this.depistage||void 0!==this._depistage_start_date)}},{key:"isVaccinsComplete",value:function(){return void 0!==this.vaccins}},{key:"isHistoriqueComplete",value:function(){return void 0!==this.covid_passee&&(!0!==this.covid_passee||void 0!==this._covid_passee_date)}},{key:"isComplete",value:function(){return this.isSituationComplete()&&this.isSanteComplete()&&this.isSymptomesComplete()&&this.isContactARisqueComplete()&&this.isDepistageComplete()&&this.isVaccinsComplete()&&this.isHistoriqueComplete()&&this._isDebutSymptomesComplete()}},{key:"joursDepuisCovidPassee",value:function(){return Lc(this.covid_passee_date,new Date)}},{key:"_hasCovidPlus",value:function(e){return this.covid_passee&&this.joursDepuisCovidPassee()>30*e}},{key:"hasCovidPlus2Mois",value:function(){return this._hasCovidPlus(2)}},{key:"hasCovidPlus6Mois",value:function(){return this._hasCovidPlus(6)}},{key:"hasSymptomesActuelsReconnus",value:function(){return Boolean(this.symptomes_actuels&&!this.symptomes_actuels_autre)}},{key:"hasContactARisqueReconnus",value:function(){return this.contact_a_risque&&!this.contact_a_risque_autre||this.contact_a_risque_stop_covid||this.contact_a_risque_assurance_maladie}},{key:"hasSuiviStartDate",value:function(){return void 0!==this._suivi_start_date}},{key:"hasSymptomesStartDate",value:function(){return void 0!==this._symptomes_start_date}},{key:"hasDeconfinementDate",value:function(){return void 0!==this._deconfinement_date}},{key:"hasHistorique",value:function(){return this.suivi.length}},{key:"ajouterEtat",value:function(e){this.suivi.push(e)}},{key:"dernierEtat",value:function(){return this.hasHistorique()?this.suivi.slice(-1)[0]:{}}},{key:"suiviDerniersJours",value:function(e){return this.suivi.filter(function(t){return new Date(t.date)>ja(e)})}},{key:"suiviAujourdhui",value:function(){return this.suiviDerniersJours(1).length>=1}},{key:"suiviEntre",value:function(e,t){return this.suivi.filter(function(s){var i=new Date(s.date);return i>e&&i<=t})}},{key:"requiertSuivi",value:function(){return this.isDepistageComplete()&&(this.depistagePositifRecent()||this.depistageEnAttenteRecent()||this.sansDepistage()&&this.hasSymptomesActuelsReconnus()||this.sansDepistage()&&this.symptomes_passes)}},{key:"joursEcoulesDepuisDepistage",value:function(){if(void 0!==this.depistage_start_date)return Lc(this.depistage_start_date,new Date)}},{key:"depistagePositifRecent",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<xi}},{key:"depistagePositifObsolete",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()>=xi}},{key:"depistageNegatifRecent",value:function(){return this._depistageNegatif()&&!(this._depistageNegatifTropAncien()||this._depistageNegatifAvantDebutDesSymptomes())}},{key:"depistageNegatifObsolete",value:function(){return this._depistageNegatif()&&(this._depistageNegatifTropAncien()||this._depistageNegatifAvantDebutDesSymptomes())}},{key:"_depistageNegatif",value:function(){return!0===this.depistage&&"negatif"===this.depistage_resultat&&void 0!==this.depistage_start_date}},{key:"_depistageNegatifTropAncien",value:function(){return this.joursEcoulesDepuisDepistage()>=Jo}},{key:"_depistageNegatifAvantDebutDesSymptomes",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistage_start_date<this.symptomes_start_date}},{key:"depistageEnAttenteRecent",value:function(){return!0===this.depistage&&"en_attente"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<Ko}},{key:"sansDepistage",value:function(){return!1===this.depistage}},{key:"depistageNegatifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistageNegatifRecent()}},{key:"depistagePositifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistagePositifRecent()}},{key:"depistagePositifRecentAsymptomatique",value:function(){return this.depistagePositifRecent()&&!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes}},{key:"estMonProfil",value:function(){return"mes_infos"==this.nom}},{key:"affichageNom",value:function(){return this.estMonProfil()?"Moi":this.nom}},{key:"renderNom",value:function(){return Oa(Bo||(Bo=yb(["<h3><span class=\"profil\">","</span></h3>"])),this.affichageNom())}},{key:"renderButtons",value:function(e){var t=this.estMonProfil()?"mon":"son",s=this.estMonProfil()?"mes":"ses",i="";if(this.isComplete()||this.suivi_active){if(this.suivi_active){var a=this.hasSuiviStartDate()&&this.hasHistorique()?"Continuer":"D\xE9marrer";i+=Oa(Co||(Co=yb(["\n                    <a class=\"button button-outline suivi-link\"\n                        data-set-profil=\"","\" href=\"#suiviintroduction\"\n                        >"," "," suivi</a>\n                "])),this.nom,a,t)}i+=Oa(Do||(Do=yb(["\n                <a class=\"button button-outline conseils-link\"\n                    data-set-profil=\"","\" href=\"#conseils\"\n                    >Retrouver "," conseils</a>\n            "])),this.nom,s)}else{var _=this.isEmpty()?"D\xE9marrer":"Continuer";i=Oa(Eo||(Eo=yb(["\n                <a class=\"button button-outline button-full-width conseils-link\"\n                    data-set-profil=\"","\" href=\"#","\"\n                    >"," "," questionnaire</a>\n            "])),this.nom,e.firstPage,_,t)}return i+(this.isEmpty()?"":Oa(Fo||(Fo=yb(["\n        <a data-set-profil=\"","\" href=\"#","\"\n            >Modifier "," r\xE9ponses</a>\n        "])),this.nom,e.firstPage,s))+Oa(Go||(Go=yb(["\n            <a data-delete-profil=\"","\" href=\"\" role=\"button\"\n                >Supprimer "," r\xE9ponses</a>\n            "])),this.nom,s)}},{key:"renderCard",value:function(e){return Ic("\n        <li class=\"card\">\n            ".concat(this.renderNom(),"\n            <div>").concat(this.renderButtons(e),"</div>\n        </li>\n        "))}}]),e}();function Lo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yi(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mo(e,r,t){return r&&yi(e.prototype,r),t&&yi(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Xe,Ga={};!function(e){if("object"==typeof Ga)Ga=e();else if("function"==typeof Xe&&Xe.amd)Xe([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof Pa?Pa:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function e(n,r,t){function o(a,u){if(!r[a]){if(!n[a]){var c=require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[a]={exports:{}};n[a][0].call(s.exports,function(e){var r=n[a][1][e];return o(r||e)},s,s.exports,e,n,r,t)}return r[a].exports}for(var i=require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(e,n,r){(function(e){var r,t,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(s),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){s(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(s,0)};else{var c=new e.MessageChannel;c.port1.onmessage=s,r=function(){c.port2.postMessage(0)}}var f=[];function s(){var e,n;t=!0;for(var r=f.length;r;){for(n=f,f=[],e=-1;++e<r;)n[e]();r=f.length}t=!1}n.exports=function(e){1!==f.push(e)||t||r()}}).call(this,"undefined"!=typeof Pa?Pa:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,r){var t=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&v(this,e)}function s(e,n,r){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(e,n,r){t(function(){var t;try{t=n(r)}catch(o){return i.reject(e,o)}t===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,t)})}function d(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function v(e,n){var r=!1;function t(n){r||(r=!0,i.reject(e,n))}function o(n){r||(r=!0,i.resolve(e,n))}var a=h(function(){n(o,t)});"error"===a.status&&t(a.value)}function h(e,n){var r={};try{r.value=e(n),r.status="success"}catch(t){r.status="error",r.value=t}return r}n.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,n){if("function"!=typeof e&&this.state===u||"function"!=typeof n&&this.state===a)return this;var r=new this.constructor(o);this.state!==c?l(r,this.state===u?e:n,this.outcome):this.queue.push(new s(r,e,n));return r},s.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){i.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,n){var r=h(d,n);if("error"===r.status)return i.reject(e,r.value);var t=r.value;if(t)v(e,t);else{e.state=u,e.outcome=n;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(n)}return e},i.reject=function(e,n){e.state=a,e.outcome=n;for(var r=-1,t=e.queue.length;++r<t;)e.queue[r].callRejected(n);return e},f.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(o),e)},f.reject=function(e){var n=new this(o);return i.reject(n,e)},f.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,t=!1;if(!r)return this.resolve([]);var a=new Array(r),u=0,c=-1,f=new this(o);for(;++c<r;)s(e[c],c);return f;function s(e,o){n.resolve(e).then(function(e){a[o]=e,++u!==r||t||(t=!0,i.resolve(f,a))},function(e){t||(t=!0,i.reject(f,e))})}},f.race=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,t=!1;if(!r)return this.resolve([]);var a=-1,u=new this(o);for(;++a<r;)c=e[a],n.resolve(c).then(function(e){t||(t=!0,i.resolve(u,e))},function(e){t||(t=!0,i.reject(u,e))});var c;return u}},{1:1}],3:[function(e,n,r){(function(n){"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof Pa?Pa:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,r){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),t=0;t<e.length;t+=1)r.append(e[t]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function u(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function c(e,n,r){"function"==typeof n&&e.then(n),"function"==typeof r&&e.catch(r)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",d=void 0,v={},h=Object.prototype.toString,y="readonly",p="readwrite";function b(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a(function(n){var r=e.transaction(l,p),t=i([""]);r.objectStore(l).put(t,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return d=e})}function m(e){var n=v[e.name],r={};r.promise=new a(function(e,n){r.resolve=e,r.reject=n}),n.deferredOperations.push(r),n.dbReady?n.dbReady=n.dbReady.then(function(){return r.promise}):n.dbReady=r.promise}function g(e){var n=v[e.name].deferredOperations.pop();if(n)return n.resolve(),n.promise}function _(e,n){var r=v[e.name].deferredOperations.pop();if(r)return r.reject(n),r.promise}function w(e,n){return new a(function(r,t){if(v[e.name]=v[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!n)return r(e.db);m(e),e.db.close()}var i=[e.name];n&&i.push(e.version);var a=o.open.apply(o,i);n&&(a.onupgradeneeded=function(n){var r=a.result;try{r.createObjectStore(e.storeName),n.oldVersion<=1&&r.createObjectStore(l)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn("The database \""+e.name+"\" has been upgraded from version "+n.oldVersion+" to version "+n.newVersion+", but the storage \""+e.storeName+"\" already exists.")}}),a.onerror=function(e){e.preventDefault(),t(a.error)},a.onsuccess=function(){r(a.result),g(e)}})}function I(e){return w(e,!1)}function S(e){return w(e,!0)}function E(e,n){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),t=e.version<e.db.version,o=e.version>e.db.version;if(t&&(e.version!==n&&console.warn("The database \""+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function N(e){return i([function(e){for(var n=e.length,r=new ArrayBuffer(n),t=new Uint8Array(r),o=0;o<n;o++)t[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function A(e){var n=this,r=n._initReady().then(function(){var e=v[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(r,e,e),r}function R(e,n,r,t){void 0===t&&(t=1);try{var o=e.db.transaction(e.storeName,n);r(null,o)}catch(i){if(t>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)}).then(function(){return function(e){m(e);for(var n=v[e.name],r=n.forages,t=0;t<r.length;t++){var o=r[t];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,I(e).then(function(n){return e.db=n,E(e)?S(e):n}).then(function(t){e.db=n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t}).catch(function(n){throw _(e,n),n})}(e).then(function(){R(e,n,r,t-1)})}).catch(r);r(i)}}var O={_driver:"asyncStorage",_initStorage:function(e){var n=this,r={db:null};if(e)for(var t in e)r[t]=e[t];var o=v[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},v[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=A);var i=[];function u(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var f=o.forages[c];f!==n&&i.push(f._initReady().catch(u))}var s=o.forages.slice(0);return a.all(i).then(function(){return r.db=o.db,I(r)}).then(function(e){return r.db=e,E(r,n._defaultConfig.version)?S(r):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<s.length;t++){var i=s[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(r){return!1}}(),iterate:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var t=r.value;j(t)&&(t=N(t));var o=e(t,r.key,u++);void 0!==o?n(o):r.continue()}else n()},a.onerror=function(){t(a.error)}}catch(c){t(c)}})}).catch(t)});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),j(e)&&(e=N(e)),n(e)},a.onerror=function(){t(a.error)}}catch(u){t(u)}})}).catch(t)});return u(t,n),t},setItem:function(e,n,r){var t=this;e=f(e);var o=new a(function(r,o){var i;t.ready().then(function(){return i=t._dbInfo,"[object Blob]"===h.call(n)?b(i.db).then(function(e){return e?n:(r=n,new a(function(e,n){var t=new FileReader;t.onerror=n,t.onloadend=function(n){var t=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:t,type:r.type})},t.readAsBinaryString(r)}));var r}):n}).then(function(n){R(t._dbInfo,p,function(i,a){if(i)return o(i);try{var u=a.objectStore(t._dbInfo.storeName);null===n&&(n=void 0);var c=u.put(n,e);a.oncomplete=function(){void 0===n&&(n=null),r(n)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(f){o(f)}})}).catch(o)});return u(o,r),o},removeItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){R(r._dbInfo,p,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(e);i.oncomplete=function(){n()},i.onerror=function(){t(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;t(e)}}catch(u){t(u)}})}).catch(t)});return u(t,n),t},clear:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,p,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(a){r(a)}})}).catch(r)});return u(r,e),r},length:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,y,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}})}).catch(r)});return u(r,e),r},key:function(e,n){var r=this,t=new a(function(n,t){e<0?n(null):r.ready().then(function(){R(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,c=a.openCursor();c.onsuccess=function(){var r=c.result;r?0===e?n(r.key):u?n(r.key):(u=!0,r.advance(e)):n(null)},c.onerror=function(){t(c.error)}}catch(f){t(f)}})}).catch(t)});return u(t,n),t},keys:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){R(n._dbInfo,y,function(t,o){if(t)return r(t);try{var i=o.objectStore(n._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var n=i.result;n?(a.push(n.key),n.continue()):e(a)},i.onerror=function(){r(i.error)}}catch(u){r(u)}})}).catch(r)});return u(r,e),r},dropInstance:function(e,n){n=s.apply(this,arguments);var r,t=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName),e.name){var i=e.name===t.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):I(e).then(function(n){var r=v[e.name],t=r.forages;r.db=n;for(var o=0;o<t.length;o++)t[o]._dbInfo.db=n;return n});r=e.storeName?i.then(function(n){if(n.objectStoreNames.contains(e.storeName)){var r=n.version+1;m(e);var t=v[e.name],i=t.forages;n.close();for(var u=0;u<i.length;u++){var c=i[u];c._dbInfo.db=null,c._dbInfo.version=r}return new a(function(n,t){var i=o.open(e.name,r);i.onerror=function(e){i.result.close(),t(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),n(e)}}).then(function(e){t.db=e;for(var n=0;n<i.length;n++){var r=i[n];r._dbInfo.db=e,g(r._dbInfo)}}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})}}):i.then(function(n){m(e);var r=v[e.name],t=r.forages;n.close();for(var i=0;i<t.length;i++)t[i]._dbInfo.db=null;return new a(function(n,r){var t=o.deleteDatabase(e.name);t.onerror=t.onblocked=function(e){var n=t.result;n&&n.close(),r(e)},t.onsuccess=function(){var e=t.result;e&&e.close(),n(e)}}).then(function(e){r.db=e;for(var n=0;n<t.length;n++)g(t[n]._dbInfo)}).catch(function(n){throw(_(e,n)||a.resolve()).catch(function(){}),n})})}else r=a.reject("Invalid arguments");return u(r,n),r}};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",B=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",C=k.length,T="arbf",M="blob",F="si08",L="ui08",$="uic8",z="si16",P="si32",U="ur16",q="ui32",W="fl32",H="fl64",Q=C+T.length,K=Object.prototype.toString;function X(e){var n,r,t,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)r=D.indexOf(e[n]),t=D.indexOf(e[n+1]),o=D.indexOf(e[n+2]),i=D.indexOf(e[n+3]),s[c++]=r<<2|t>>4,s[c++]=(15&t)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function G(e){var n,r=new Uint8Array(e),t="";for(n=0;n<r.length;n+=3)t+=D[r[n]>>2],t+=D[(3&r[n])<<4|r[n+1]>>4],t+=D[(15&r[n+1])<<2|r[n+2]>>6],t+=D[63&r[n+2]];return r.length%3==2?t=t.substring(0,t.length-1)+"=":r.length%3==1&&(t=t.substring(0,t.length-2)+"=="),t}var J={serialize:function(e,n){var r="";if(e&&(r=K.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===K.call(e.buffer))){var t,o=k;e instanceof ArrayBuffer?(t=e,o+=T):(t=e.buffer,"[object Int8Array]"===r?o+=F:"[object Uint8Array]"===r?o+=L:"[object Uint8ClampedArray]"===r?o+=$:"[object Int16Array]"===r?o+=z:"[object Uint16Array]"===r?o+=U:"[object Int32Array]"===r?o+=P:"[object Uint32Array]"===r?o+=q:"[object Float32Array]"===r?o+=W:"[object Float64Array]"===r?o+=H:n(new Error("Failed to get type for BinaryArray"))),n(o+G(t))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=x+e.type+"~"+G(this.result);n(k+M+r)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),n(null,a)}},deserialize:function(e){if(e.substring(0,C)!==k)return JSON.parse(e);var n,r=e.substring(Q),t=e.substring(C,Q);if(t===M&&B.test(r)){var o=r.match(B);n=o[1],r=r.substring(o[0].length)}var a=X(r);switch(t){case T:return a;case M:return i([a],{type:n});case F:return new Int8Array(a);case L:return new Uint8Array(a);case $:return new Uint8ClampedArray(a);case z:return new Int16Array(a);case U:return new Uint16Array(a);case P:return new Int32Array(a);case q:return new Uint32Array(a);case W:return new Float32Array(a);case H:return new Float64Array(a);default:throw new Error("Unkown type: "+t);}},stringToBuffer:X,bufferToString:G};function V(e,n,r,t){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,t)}function Y(e,n,r,t,o,i){e.executeSql(r,t,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,u){u.rows.length?i(e,a):V(e,n,function(){e.executeSql(r,t,o,i)},i)},i):i(e,a)},i)}var Z={_driver:"webSQLStorage",_initStorage:function(e){var n=this,r={db:null};if(e)for(var t in e)r[t]="string"!=typeof e[t]?e[t].toString():e[t];var o=new a(function(e,t){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return t(o)}r.db.transaction(function(o){V(o,r,function(){n._dbInfo=r,e()},function(e,n){t(n)})},t)});return r.serializer=J,o},_support:"function"==typeof openDatabase,iterate:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT * FROM "+o.storeName,[],function(r,t){for(var i=t.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,c.key,u+1)))return void n(f)}n()},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var t=r.rows.length?r.rows.item(0).value:null;t&&(t=o.serializer.deserialize(t)),n(t)},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},setItem:function(e,n,r){return function e(n,r,t,o){var i=this;n=f(n);var c=new a(function(a,u){i.ready().then(function(){void 0===r&&(r=null);var c=r,f=i._dbInfo;f.serializer.serialize(r,function(r,s){s?u(s):f.db.transaction(function(e){Y(e,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[n,r],function(){a(c)},function(e,n){u(n)})},function(r){if(r.code===r.QUOTA_ERR){if(o>0)return void a(e.apply(i,[n,c,t,o-1]));u(r)}})})}).catch(u)});return u(c,t),c}.apply(this,[e,n,r,1])},removeItem:function(e,n){var r=this;e=f(e);var t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},clear:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"DELETE FROM "+t.storeName,[],function(){e()},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},length:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(n,r){var t=r.rows.item(0).c;e(t)},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},key:function(e,n){var r=this,t=new a(function(n,t){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Y(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var t=r.rows.length?r.rows.item(0).key:null;n(t)},function(e,n){t(n)})})}).catch(t)});return u(t,n),t},keys:function(e){var n=this,r=new a(function(e,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(n){Y(n,t,"SELECT key FROM "+t.storeName,[],function(n,r){for(var t=[],o=0;o<r.rows.length;o++)t.push(r.rows.item(o).key);e(t)},function(e,n){r(n)})})}).catch(r)});return u(r,e),r},dropInstance:function(e,n){n=s.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var t,o=this;return u(t=e.name?new a(function(n){var t;t=e.name===r.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?n({db:t,storeNames:[e.storeName]}):n(function(e){return new a(function(n,r){e.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(r,t){for(var o=[],i=0;i<t.rows.length;i++)o.push(t.rows.item(i).name);n({db:e,storeNames:o})},function(e,n){r(n)})},function(e){r(e)})})}(t))}).then(function(e){return new a(function(n,r){e.db.transaction(function(t){function o(e){return new a(function(n,r){t.executeSql("DROP TABLE IF EXISTS "+e,[],function(){n()},function(e,n){r(n)})})}for(var i=[],u=0,c=e.storeNames.length;u<c;u++)i.push(o(e.storeNames[u]));a.all(i).then(function(){n()}).catch(function(e){r(e)})},function(e){r(e)})})}):a.reject("Invalid arguments"),n),t}};function ee(e,n){var r=e.name+"/";return e.storeName!==n.storeName&&(r+=e.storeName+"/"),r}function ne(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var re={_driver:"localStorageWrapper",_initStorage:function(e){var n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=ee(e,this._defaultConfig),ne()?(this._dbInfo=n,n.serializer=J,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,n){var r=this,t=r.ready().then(function(){for(var n=r._dbInfo,t=n.keyPrefix,o=t.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(t)){var f=localStorage.getItem(c);if(f&&(f=n.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),a++)))return f}}});return u(t,n),t},getItem:function(e,n){var r=this;e=f(e);var t=r.ready().then(function(){var n=r._dbInfo,t=localStorage.getItem(n.keyPrefix+e);return t&&(t=n.serializer.deserialize(t)),t});return u(t,n),t},setItem:function(e,n,r){var t=this;e=f(e);var o=t.ready().then(function(){void 0===n&&(n=null);var r=n;return new a(function(o,i){var a=t._dbInfo;a.serializer.serialize(n,function(n,t){if(t)i(t);else try{localStorage.setItem(a.keyPrefix+e,n),o(r)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}})})});return u(o,r),o},removeItem:function(e,n){var r=this;e=f(e);var t=r.ready().then(function(){var n=r._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return u(t,n),t},clear:function(e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var t=localStorage.key(r);0===t.indexOf(e)&&localStorage.removeItem(t)}});return u(r,e),r},length:function(e){var n=this.keys().then(function(e){return e.length});return u(n,e),n},key:function(e,n){var r=this,t=r.ready().then(function(){var n,t=r._dbInfo;try{n=localStorage.key(e)}catch(o){n=null}return n&&(n=n.substring(t.keyPrefix.length)),n});return u(t,n),t},keys:function(e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=localStorage.length,t=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&t.push(i.substring(e.keyPrefix.length))}return t});return u(r,e),r},dropInstance:function(e,n){if(n=s.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var t,o=this;return u(t=e.name?new a(function(n){e.storeName?n(ee(e,o._defaultConfig)):n(e.name+"/")}).then(function(e){for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}):a.reject("Invalid arguments"),n),t}},te=function(e,n){for(var r,t,o=e.length,i=0;i<o;){if((r=e[i])===(t=n)||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t))return!0;i++}return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},ue={INDEXEDDB:O,WEBSQL:Z,LOCALSTORAGE:re},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],fe=["dropInstance"],se=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(fe),le={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,n){e[n]=function(){var r=arguments;return e.ready().then(function(){return e[n].apply(e,r)})}}function ve(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&(oe(n[r])?arguments[0][r]=n[r].slice():arguments[0][r]=n[r])}return arguments[0]}var he=new(function(){function e(n){for(var r in function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(r)){var t=ue[r],o=t._driver;this[r]=o,ie[o]||this.defineDriver(t)}this._defaultConfig=ve({},le),this._config=ve({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":t(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e){if("storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof e[n])return new Error("Database version must be a number.");this._config[n]=e[n]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,r){var t=new a(function(n,r){try{var t=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var i=se.concat("_initStorage"),c=0,f=i.length;c<f;c++){var s=i[c];if((!te(fe,s)||e[s])&&"function"!=typeof e[s])return void r(o)}!function(){for(var n=function(e){return function(){var n=new Error("Method "+e+" is not implemented by the current driver"),r=a.reject(n);return u(r,arguments[arguments.length-1]),r}},r=0,t=fe.length;r<t;r++){var o=fe[r];e[o]||(e[o]=n(o))}}();var l=function(r){ie[t]&&console.info("Redefining LocalForage driver: "+t),ie[t]=e,ae[t]=r,n()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,r):l(!!e._support):l(!0)}catch(d){r(d)}});return c(t,n,r),t},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,r){var t=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return c(t,n,r),t},e.prototype.getSerializer=function(e){var n=a.resolve(J);return c(n,e),n},e.prototype.ready=function(e){var n=this,r=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return c(r,e,e),r},e.prototype.setDriver=function(e,n,r){var t=this;oe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){t._config.driver=t.driver()}function u(e){return t._extend(e),i(),t._ready=t._initStorage(t._config),t._ready}var f=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=f.then(function(){var e=o[0];return t._dbInfo=null,t._ready=null,t.getDriver(e).then(function(e){t._driver=e._driver,i(),t._wrapLibraryMethodsWithReady(),t._initDriver=function(e){return function(){var n=0;return function r(){for(;n<e.length;){var o=e[n];return n++,t._dbInfo=null,t._ready=null,t.getDriver(o).then(u).catch(r)}i();var c=new Error("No available storage method found.");return t._driverSet=a.reject(c),t._driverSet}()}}(o)})}).catch(function(){i();var e=new Error("No available storage method found.");return t._driverSet=a.reject(e),t._driverSet}),c(this._driverSet,n,r),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){ve(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],r=0,t=e.length;r<t;r++){var o=e[r];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,n=se.length;e<n;e++)de(this,se[e])},e.prototype.createInstance=function(n){return new e(n)},e}());n.exports=he},{3:3}]},{},[4])(4)});var No=function(){function e(){Lo(this,e)}return Mo(e,[{key:"getSource",value:function(){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.getItem("source")}},{key:"setSource",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.setItem("source",e)}},{key:"getProfilActuel",value:function(){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.getItem("profil")}},{key:"setProfilActuel",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.setItem("profil",e)}},{key:"unsetProfilActuel",value:function(){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.removeItem("profil")}},{key:"getProfil",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.getItem(e)}},{key:"getProfils",value:function(){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.keys().then(function(e){return e.filter(function(e){return"profil"!=e})}).then(function(e){return e.sort(function(e,r){return"mes_infos"===e?-1:"mes_infos"===r?1:e<r?-1:r>e?1:0})})}},{key:"supprimerTout",value:function(){var e=this;return this.unsetProfilActuel().then(function(){return e.getProfils().then(function(r){return Promise.all(r.map(e._supprimer))})})}},{key:"supprimer",value:function(e){return this._supprimer(e).then(function(){console.debug("Les donn\xE9es personnelles ont \xE9t\xE9 supprim\xE9es (".concat(e,")"))}).catch(function(r){console.error("Erreur lors de la suppression des donn\xE9es personnelles (".concat(e,")")),console.error(r)})}},{key:"_supprimer",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.removeItem(e)}},{key:"charger",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.getItem(e.nom).then(function(r){return null!==r?e.fillData(r):e.resetData(),e}).catch(function(r){console.error("Erreur de chargement des donn\xE9es locales (".concat(e.nom,")")),console.error(r)})}},{key:"enregistrer",value:function(e){var $EM1A$$interop$default=ma(Ga);return $EM1A$$interop$default.d.setItem(e.nom,e.getData()).then(function(r){console.debug("Les r\xE9ponses au questionnaire ont bien \xE9t\xE9 enregistr\xE9es (".concat(e.nom,")")),console.debug(r)}).catch(function(r){console.error("Les r\xE9ponses au questionnaire n\u2019ont pas pu \xEAtre enregistr\xE9es (".concat(e.nom,")")),console.error(r)})}}]),e}();function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Po(e,t,i){return t&&zi(e.prototype,t),i&&zi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t){if(!e.isComplete())return t.checkPathTo("conseils",e)}function Ro(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function So(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function To(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}var Ai=["symptomes","contactarisque","depistage","historique","vaccins","situation","sante"];var Uo={nom:{previous:{introduction:function(){return!0}},next:{symptomes:function(e){return e.nom}}},symptomes:{previous:{introduction:function(){return!0}},next:{depistage:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isSymptomesComplete()&&!e.hasSymptomesActuelsReconnus()&&!e.symptomes_passes}}},contactarisque:{previous:{symptomes:function(){return!0}},next:{depistage:function(e){return e.isContactARisqueComplete()}}},depistage:{previous:{symptomes:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isContactARisqueComplete()}},next:{historique:function(e){return e.isDepistageComplete()}}},historique:{previous:{depistage:function(){return!0}},next:{vaccins:function(e){return e.isHistoriqueComplete()}}},vaccins:{previous:{historique:function(){return!0}},next:{situation:function(e){return e.isVaccinsComplete()}}},situation:{previous:{vaccins:function(){return!0}},next:{sante:function(e){return e.isSituationComplete()}}},sante:{previous:{situation:function(){return!0}},next:{conseils:function(e){return e.isSanteComplete()}}},conseils:{},suivisymptomes:{previous:{conseils:function(){return!0}},next:{conseils:function(e){return e.isComplete()}}},suivihistorique:{previous:{conseils:function(){return!0}}}};var Vo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ai;Oo(this,e),this.transitions=t,this.ordre=i,this.total=i.length,this.firstPage=i[0]}return Po(e,[{key:"before",value:function(e,t){if(void 0!==this.transitions[e])return this.checkPathTo(e,t)}},{key:"checkPathTo",value:function(e,t){for(var i=this.firstPage,n=[i];i;){if(i===e)return;var r=this.nextPage(i,t);if(!r)break;if(n.indexOf(r)>-1)break;i=r,n.push(i)}return n[n.length-1]}},{key:"nextPage",value:function(e,t){return this.findNeighbor("next",e,t)}},{key:"previousPage",value:function(e,t){return this.findNeighbor("previous",e,t)}},{key:"findNeighbor",value:function(e,t,i){var n,r=this.transitions[t];if(void 0!==r&&void 0!==r[e])return Object.keys(r[e]).forEach(function(t){(0,r[e][t])(i)&&(n||(n=t))}),n||void 0}},{key:"numeroEtape",value:function(e,t){return this._previousPages(e,t).length}},{key:"_previousPages",value:function(e,t){var i=[];for(e=this.previousPage(e,t);e;)i.push(e),e=this.previousPage(e,t);return i}},{key:"etapesRestantes",value:function(e){var t,i=this.ordre.indexOf(e)+1;if(0===i)return"";var n=this.ordre.length-i;switch(n){case 0:t="C\u2019est la derni\xE8re \xE9tape\xA0!";break;case 1:t="Plus qu\u2019une \xE9tape\xA0!";break;default:t="Il vous reste ".concat(n," \xE9tapes.");}return t}}]),e}();function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xo(e,t,r){return t&&Bi(e.prototype,t),r&&Bi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Yo=function(){function e(t){Wo(this,e),this.router=t,this.currentVersion=null,this.updateInProgress=!1}return Xo(e,[{key:"checkForUpdatesEvery",value:function(e){this.checkForUpdate(),setInterval(this.checkForUpdate.bind(this),60*e*1e3)}},{key:"checkForUpdate",value:function(){var e=this;if(!0!==this.updateInProgress&&"nouvelleversiondisponible"!==Hc()){var t=new XMLHttpRequest;t.open("GET","version.json?"+new Date().getTime(),!0),t.setRequestHeader("Cache-Control","no-cache"),t.onload=function(){if(200===t.status){var r=JSON.parse(t.responseText);e.updateVersion(r.version)}else console.debug("Impossible de r\xE9cup\xE9rer les informations de mise \xE0 jour")},t.onerror=function(){console.debug("Impossible de r\xE9cup\xE9rer les informations de mise \xE0 jour")},t.send()}}},{key:"showBanner",value:function(e){var t=e.querySelector("#update-banner");fa(t),e.dispatchEvent(new CustomEvent("show-banner",{detail:t}))}},{key:"updateFooter",value:function(e){if(this.currentVersion!==e){var t=document.querySelector(".js-latest-update"),r=e.substring(0,10).split("-").reverse().join("-");t.innerText=" - Mis \xE0 jour le\xA0: ".concat(r)}}},{key:"updateVersion",value:function(e){var t=this;this.updateFooter(e),null!==this.currentVersion&&this.currentVersion!==e?(this.updateInProgress=!0,"serviceWorker"in navigator?(console.debug("Service worker supported"),navigator.serviceWorker.getRegistration().then(function(e){console.debug("Telling service worker to look for an update"),e.update().catch(function(e){console.error("Mise \xE0 jour du service worker impossible :",e)}),e.addEventListener("updatefound",function(){console.debug("Service worker update found");var r=e.installing;r.addEventListener("statechange",function(){console.debug("New service worker state:",r.state),"installed"==r.state&&t.notifyUser()})})})):(console.debug("Service worker NOT supported"),this.notifyUser())):this.currentVersion=e}},{key:"notifyUser",value:function(){var e=Hc();this.onInteractivePage(e)?this.notifyUserWithoutInterrupting(e):this.redirectUserToUpdatePage(e)}},{key:"onInteractivePage",value:function(e){return Ai.concat(["suivisymptomes"]).indexOf(e)>-1}},{key:"notifyUserWithoutInterrupting",value:function(e){var t=this;document.addEventListener("show-banner",function(r){setTimeout(function(){r.detail.scrollIntoView({behavior:"smooth"})},100);var o=r.detail.querySelector("#refresh-button-banner");t.setupRefreshButton(o,e)}),this.showBanner(document)}},{key:"redirectUserToUpdatePage",value:function(e){this.router.navigate("nouvelleversiondisponible?origine=".concat(e))}},{key:"setupRefreshButton",value:function(e,t){e.innerText="Mettre \xE0 jour",e.setAttribute("href","#"+(t||Mc)),e.addEventListener("click",this.onClickRefreshButton.bind(this))}},{key:"onClickRefreshButton",value:function(e){console.debug("Updater.onClickRefreshButton()"),e.preventDefault();var t=e.target;this.router.pause(),console.log(window.location),window.location=t.href,console.log(window.location),t.innerText="Mise \xE0 jour en cours...",t.setAttribute("href",""),"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(function(e){null===e.waiting?(console.debug("New service worker is already active"),console.debug("Reloading the page"),window.location.reload(!0)):(console.debug("New service worker is waiting"),navigator.serviceWorker.addEventListener("controllerchange",function(){console.debug("New service worker is now controlling the page"),console.debug("Reloading the page"),window.location.reload(!0)}),console.debug("Sending message to activate new service worker"),e.waiting.postMessage("skipWaiting"))}):(console.debug("Browser does not support service workers"),console.debug("Reloading the page"),window.location.reload(!0))}}]),e}();function Zo(e,o){var r=e,t=document.querySelector("header section");fa(t.querySelector(".js-profil-empty")),ca(t.querySelector(".js-profil-full")),$o(r,o),Ge(o,"Navigue vers une th\xE9matique depuis l\u2019accueil")}function $o(e,o){var r=e.querySelector(".thematiques .cards .j-ai-des-symptomes-covid");o.stockage.getProfils().then(function(e){e.length>0&&_o(r,e,o).then(function(){r.classList.add("hero"),r.querySelector(".actions-profil a").classList.remove("button-outline"),1===e.length&&"mes_infos"===e[0]&&tb(r,".nom")})})}function _o(e,o,r){var t=e.querySelector(".card-actions");return Promise.all(o.map(function(e){var o=new We(e);return r.stockage.charger(o).then(function(e){return ap(e,r)})})).then(function(e){Array.from(e).forEach(function(e){t.appendChild(e),bp(e,r)})})}function ap(e,o){return Ic("<div class=\"actions-profil\">\n            <p class=\"nom\">".concat(e.affichageNom(),"</p>\n            ").concat(e.renderButtons(o.questionnaire),"\n        </div>"))}function bp(e,o){var r=e.querySelector(".conseils-link");r&&r.setAttribute("href","#conseils"),Array.from(e.querySelectorAll("[data-set-profil]")).forEach(function(e){cp(e,o)}),dp(e.querySelector("[data-delete-profil]"),o)}function cp(e,o){e.addEventListener("click",function(r){r.preventDefault(),o.basculerVersProfil(e.dataset.setProfil).then(function(){o.router.navigate(r.target.getAttribute("href"))})})}function dp(e,o){e.addEventListener("click",function(r){r.preventDefault(),o.plausible("Suppression");var t=e.dataset.deleteProfil,n="mes_infos"===t?"vos r\xE9ponses":"les r\xE9ponses de ".concat(t);confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer ".concat(n,"\xA0?"))&&o.supprimerProfil(t).then(function(){o.chargerProfilActuel().then(function(){window.location.reload(!0)})})})}function ep(e,t,o){var r=document.querySelector("#nouvelle-version-disponible-block #refresh-button");t.updater.setupRefreshButton(r,o)}function fp(e,t){var r=e.querySelector("form"),n=r.querySelector("input[type=submit]");Nc(r,n.value,"Cette information est requise"),r.addEventListener("submit",function(e){e.preventDefault();var r=e.target.elements.name.value;t.creerProfil(r).then(function(){t.goToNextPage("nom")})})}function gp(e,r){var i=e.querySelector("form");void 0!==r.profil.vaccins&&(i.querySelector("#vaccins_radio_"+r.profil.vaccins).checked=!0,i.vaccins_radio[0].dispatchEvent(ec("change")));var t=i.querySelector("input[type=submit]");qa(i,t.value,"Veuillez remplir le formulaire au complet"),i.addEventListener("submit",function(e){e.preventDefault();var i=e.target;r.profil.vaccins=ga(i,"vaccins_radio"),r.enregistrerProfilActuel().then(function(){r.goToNextPage("vaccins")})})}function hp(e,a){var r=e.querySelector("form"),o=wa.d();if(da(r,"covid_passee",a.profil),void 0!==a.profil.covid_passee_date){var t=wa.d(a.profil.covid_passee_date),i=o.diff(t,"month"),s=r.querySelector("input#covid_passee_date_".concat(Math.min(6,i),"_mois"));s.checked=!0,s.dispatchEvent(ec("change"))}var l=r.elements.covid_passee;va(r,l),l.addEventListener("click",function(){va(r,l)}),[2,3,4,5,6].forEach(function(e){var a=o.subtract(e,"month"),t=r.querySelector("label[for=\"covid_passee_date_".concat(e,"_mois\"] span")),i=6===e?" ou avant":"";t.innerHTML="".concat(t.innerHTML," (en <strong>").concat(a.format("MMMM"),"</strong> ").concat(a.year()).concat(i,")")});var c=r.querySelector("input[type=submit]"),n=a.profil.estMonProfil()?"Je n\u2019ai jamais eu la Covid":"Cette personne n\u2019a jamais eu la Covid";mi(r,c.value,n,"Veuillez remplir le formulaire au complet"),r.addEventListener("submit",function(e){e.preventDefault();var r=e.target;if(a.profil.covid_passee=r.elements.covid_passee.checked,a.profil.covid_passee){var t=Number(r.elements.covid_passee_date.value);a.profil.covid_passee_date=o.subtract(t,"month")}else a.profil.covid_passee_date=void 0;a.enregistrerProfilActuel().then(function(){a.goToNextPage("historique")})})}var Ye,Ze={};!function(n,t){"object"==typeof Ze?Ze=function(n,t,e){var r=t.prototype,o=function(n){return n&&(n.indexOf?n:n.s)},a=function(n,t,e,r,a){var u=n.name?n:n.$locale(),i=o(u[t]),s=o(u[e]),f=i||s.map(function(n){return n.substr(0,r)});if(!a)return f;var d=u.weekStart;return f.map(function(n,t){return f[(t+(d||0))%7]})},u=function(){return e.Ls[e.locale()]},i=function(n,t){return n.formats[t]||function(n){return n.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,t,e){return t||e.slice(1)})}(n.formats[t.toUpperCase()])};r.localeData=function(){return function(){var n=this;return{months:function(t){return t?t.format("MMMM"):a(n,"months")},monthsShort:function(t){return t?t.format("MMM"):a(n,"monthsShort","months",3)},firstDayOfWeek:function(){return n.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):a(n,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):a(n,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):a(n,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return i(n.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}}.bind(this)()},e.localeData=function(){var n=u();return{firstDayOfWeek:function(){return n.weekStart||0},weekdays:function(){return e.weekdays()},weekdaysShort:function(){return e.weekdaysShort()},weekdaysMin:function(){return e.weekdaysMin()},months:function(){return e.months()},monthsShort:function(){return e.monthsShort()},longDateFormat:function(t){return i(n,t)},meridiem:n.meridiem,ordinal:n.ordinal}},e.months=function(){return a(u(),"months")},e.monthsShort=function(){return a(u(),"monthsShort","months",3)},e.weekdays=function(n){return a(u(),"weekdays",null,null,n)},e.weekdaysShort=function(n){return a(u(),"weekdaysShort","weekdays",3,n)},e.weekdaysMin=function(n){return a(u(),"weekdaysMin","weekdays",2,n)}}:"function"==typeof Ye&&Ye.amd?Ye(t):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_localeData=t()}(Ze,function(){return function(n,t,e){var r=t.prototype,o=function(n){return n&&(n.indexOf?n:n.s)},a=function(n,t,e,r,a){var u=n.name?n:n.$locale(),i=o(u[t]),s=o(u[e]),f=i||s.map(function(n){return n.substr(0,r)});if(!a)return f;var d=u.weekStart;return f.map(function(n,t){return f[(t+(d||0))%7]})},u=function(){return e.Ls[e.locale()]},i=function(n,t){return n.formats[t]||function(n){return n.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,t,e){return t||e.slice(1)})}(n.formats[t.toUpperCase()])};r.localeData=function(){return function(){var n=this;return{months:function(t){return t?t.format("MMMM"):a(n,"months")},monthsShort:function(t){return t?t.format("MMM"):a(n,"monthsShort","months",3)},firstDayOfWeek:function(){return n.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):a(n,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):a(n,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):a(n,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return i(n.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}}.bind(this)()},e.localeData=function(){var n=u();return{firstDayOfWeek:function(){return n.weekStart||0},weekdays:function(){return e.weekdays()},weekdaysShort:function(){return e.weekdaysShort()},weekdaysMin:function(){return e.weekdaysMin()},months:function(){return e.months()},monthsShort:function(){return e.monthsShort()},longDateFormat:function(t){return i(n,t)},meridiem:n.meridiem,ordinal:n.ordinal}},e.months=function(){return a(u(),"months")},e.monthsShort=function(){return a(u(),"monthsShort","months",3)},e.weekdays=function(n){return a(u(),"weekdays",null,null,n)},e.weekdaysShort=function(n){return a(u(),"weekdaysShort","weekdays",3,n)},e.weekdaysMin=function(n){return a(u(),"weekdaysMin","weekdays",2,n)}}});var ip=ma(Ze);Ne(),wa.d.locale("fr"),wa.d.extend(ip.d);function jp(e,t){var r=e.querySelector("form");t.premierDemarrageFormulaire();var s=r.elements.symptomes_actuels_statuts,o=r.querySelector("#symptomes-choix"),a=r.querySelector("#debut-symptomes"),m=r.querySelector("#debut_symptomes_aujourdhui"),i=r.querySelector("label[for=\"debut_symptomes_aujourdhui\"]");Array.from(s).forEach(function(e){return e.addEventListener("change",function(){switch(e.id){case"symptomes_actuels":fa(o),fa(a),fa(m),fa(i);break;case"symptomes_passes":ca(o),fa(a),m.checked=!1,ca(m),ca(i);break;case"symptomes_non":ca(o),ca(a);}})}),kp(r,t.profil),mp(r,Ei);var c=r.querySelector("#symptomes_actuels_temperature"),u=r.querySelector("#symptomes_actuels_temperature_inconnue");c.addEventListener("change",function(){c.checked&&(u.checked=!1)}),u.addEventListener("change",function(){u.checked&&(c.checked=!1)}),Array.from(r.querySelectorAll("[name=\"suivi_symptomes_date\"]")).forEach(function(e){e.addEventListener("change",function(e){return op(r,e.target)})}),np(r),r.addEventListener("submit",function(e){e.preventDefault();var s=e.target.elements.symptomes_actuels.checked,o=e.target.elements.symptomes_passes.checked;s?(t.profil.symptomes_actuels=s,t.profil.symptomes_actuels_temperature=e.target.elements.symptomes_actuels_temperature.checked,t.profil.symptomes_actuels_temperature_inconnue=e.target.elements.symptomes_actuels_temperature_inconnue.checked,t.profil.symptomes_actuels_toux=e.target.elements.symptomes_actuels_toux.checked,t.profil.symptomes_actuels_odorat=e.target.elements.symptomes_actuels_odorat.checked,t.profil.symptomes_actuels_douleurs=e.target.elements.symptomes_actuels_douleurs.checked,t.profil.symptomes_actuels_diarrhee=e.target.elements.symptomes_actuels_diarrhee.checked,t.profil.symptomes_actuels_fatigue=e.target.elements.symptomes_actuels_fatigue.checked,t.profil.symptomes_actuels_alimentation=e.target.elements.symptomes_actuels_alimentation.checked,t.profil.symptomes_actuels_souffle=e.target.elements.symptomes_actuels_souffle.checked,t.profil.symptomes_passes=!1,t.profil.fillContactARisque(!1),Ci(t,r)):o?(Di(t),t.profil.symptomes_passes=!0,t.profil.fillContactARisque(!1),Ci(t,r)):(Di(t),t.profil.symptomes_passes=!1,t.profil.symptomes_start_date=void 0),t.enregistrerProfilActuel().then(function(){t.goToNextPage("symptomes")})})}function Ci(e,t){e.profil.symptomes_start_date=Ei(t),new Pc(e.profil).recommandeAutoSuivi()&&!e.profil.hasSuiviStartDate()&&(e.profil.suivi_start_date=new Date)}function Di(e){e.profil.symptomes_actuels=!1,e.profil.symptomes_actuels_temperature=!1,e.profil.symptomes_actuels_temperature_inconnue=!1,e.profil.symptomes_actuels_toux=!1,e.profil.symptomes_actuels_odorat=!1,e.profil.symptomes_actuels_douleurs=!1,e.profil.symptomes_actuels_diarrhee=!1,e.profil.symptomes_actuels_fatigue=!1,e.profil.symptomes_actuels_alimentation=!1,e.profil.symptomes_actuels_souffle=!1}function kp(e,t){da(e,"symptomes_actuels",t),da(e,"symptomes_actuels_temperature",t),da(e,"symptomes_actuels_temperature_inconnue",t),da(e,"symptomes_actuels_toux",t),da(e,"symptomes_actuels_odorat",t),da(e,"symptomes_actuels_douleurs",t),da(e,"symptomes_actuels_diarrhee",t),da(e,"symptomes_actuels_fatigue",t),da(e,"symptomes_actuels_alimentation",t),da(e,"symptomes_actuels_souffle",t),da(e,"symptomes_actuels_autre",t),da(e,"symptomes_passes",t),lp(e,t),!1===t.symptomes_actuels&&!1===t.symptomes_passes&&(e.symptomes_non.checked=!0,e.symptomes_non.dispatchEvent(ec("change")))}function lp(e,t){if(void 0!==t.symptomes_start_date)if(t.symptomes_start_date>=ja(1))e.querySelector("#debut_symptomes_aujourdhui").checked=!0;else if(t.symptomes_start_date>=ja(2))e.querySelector("#debut_symptomes_hier").checked=!0;else if(t.symptomes_start_date>=ja(3))e.querySelector("#debut_symptomes_avant_hier").checked=!0;else if(t.symptomes_start_date>=ja(4))e.querySelector("#debut_symptomes_avant_avant_hier").checked=!0;else{e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0,e.elements.suivi_symptomes_date_exacte.value=t.symptomes_start_date.toISOString().substring(0,10)}}function mp(e,t){var r=new xb(e),s=r.submitButton,o="Continuer",a="Veuillez remplir le formulaire au complet",m=e.elements.symptomes_actuels_statuts,i=e.querySelector("#debut_symptomes_exacte");function c(){var m=e.elements.symptomes_non.checked||e.elements.symptomes_passes.checked&&t(e)||e.elements.symptomes_actuels.checked&&fc(r.checkboxes)&&t(e);s.disabled=!m,s.value=m?o:a}c(),Array.from(m).forEach(function(e){return e.addEventListener("change",c)}),r.checkboxes.forEach(function(e){return e.addEventListener("change",c)}),Array.from(e.querySelectorAll("[name=\"suivi_symptomes_date\"]")).forEach(function(e){e.addEventListener("change",c)}),i.addEventListener("change",c)}function np(e){var t=e.querySelector("#debut_symptomes_exacte");t.addEventListener("click",function(){e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0});var r=new Date;t.setAttribute("max",r.toISOString().substring(0,10)),Te(t,r,null)}function op(e,t){pp(e,t)}function pp(e,t){var r=e.querySelector("#debut_symptomes_exacte");"encore_avant_hier"===t.value?(r.setAttribute("max",new Date().toISOString().slice(0,10)),r.focus()):r.value=""}function Ei(e){var t=ga(e,"suivi_symptomes_date");return"encore_avant_hier"===t?qp(e):rp(t)}function qp(e){var t=e.elements.suivi_symptomes_date_exacte;if(""!==t.value)return new Date(t.value)}function rp(e){var t;switch(e){case"aujourdhui":t=0;break;case"hier":t=1;break;case"avant_hier":t=2;break;case"avant_avant_hier":t=3;break;default:return;}return ja(t)}function sp(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function Fi(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tp(e,s,t){return s&&Fi(e.prototype,s),t&&Fi(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t,i){return t&&Gi(e.prototype,t),i&&Gi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var $e=function(){function e(t,i){up(this,e),this.profil=t,this.algoOrientation=i}return vp(e,[{key:"isSup12",value:function(){return this.profil.age>=12}},{key:"isSup18",value:function(){return this.profil.age>=18}},{key:"isARisque",value:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie||this.algoOrientation.imc>=30}},{key:"isTresHautRisque",value:function(){return this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_trisomie}},{key:"isCompletementVaccine",value:function(){return"completement"===this.profil.vaccins}},{key:"isVaccinationPossible",value:function(){return this.isSup12()&&(!this.profil.covid_passee||this.profil.hasCovidPlus2Mois())}},{key:"isVaccinationObligatoire",value:function(){return this.profil.activite_pro&&this.profil.activite_pro_sante}}]),e}();var wp=["antigenique-negatif-fragile","asymptomatique","asymptomatique-positif-autotest","contact-a-risque-avec-test","contact-a-risque-meme-lieu-de-vie","contact-a-risque-meme-lieu-de-vie-sans-depistage","contact-a-risque-meme-lieu-de-vie-sans-depistage-vaccine","contact-a-risque-meme-lieu-de-vie-vaccine","contact-a-risque-sans-test","contact-a-risque-vaccine","en-attente","personne-fragile","peu-de-risques","positif-symptomatique-urgent","symptomatique-autotest-positif","symptomatique-en-attente","symptomatique-negatif","symptomatique-positif","symptomatique-sans-test","symptomatique-urgent"],xp=["antigenique-negatif-fragile","contact-a-risque-autre","contact-a-risque-avec-test","contact-a-risque-meme-lieu-de-vie","contact-a-risque-meme-lieu-de-vie-sans-depistage","contact-a-risque-meme-lieu-de-vie-sans-depistage-vaccine","contact-a-risque-meme-lieu-de-vie-vaccine","contact-a-risque-sans-test","contact-a-risque-vaccine","depistage-positif-autotest-asymptomatique","depistage-positif-autotest-symptomatique","depistage-positif-asymptomatique","depistage-positif-symptomatique","peu-de-risques","symptomes-actuels-en-attente","symptomes-actuels-positif-critique","symptomes-actuels-sans-depistage","symptomes-actuels-sans-depistage-critique","symptomes-passes-en-attente","symptomes-passes-positif","symptomes-passes-positif-autotest","symptomes-passes-sans-depistage"],Pc=function(){function e(s){sp(this,e),this.profil=s}return tp(e,[{key:"situation",get:function(){return this.profil.isComplete()?this._situationDepistage()+"_"+this._situationSymptomes():""}},{key:"_situationDepistage",value:function(){return!this.profil.depistage||this.profil.depistageNegatifObsolete()||this.profil.depistagePositifObsolete()?"pas_teste":"antigenique"===this.profil.depistage_type&&"negatif"===this.profil.depistage_resultat&&this.personneFragile?"antigenique_negatif_fragile":"antigenique_autotest"===this.profil.depistage_type&&"positif"===this.profil.depistage_resultat?"autotest_positif":this.profil.depistage_resultat}},{key:"_situationSymptomes",value:function(){var e;if(this.profil.hasSymptomesActuelsReconnus())e="symptomes_actuels",this.facteursDeGraviteMajeurs&&(e+="_graves");else if(this.profil.symptomes_passes)e="symptomes_passes";else if(this.profil.hasContactARisqueReconnus()){var s=new $e(this.profil,this).isCompletementVaccine();e=this.profil.contact_a_risque_meme_lieu_de_vie?s?"contact_a_risque_meme_lieu_de_vie_vaccine":"contact_a_risque_meme_lieu_de_vie":s?"contact_a_risque_vaccine":this.guerisonRecente()?"contact_pas_vraiment_a_risque":"contact_a_risque"}else e=this.profil.contact_a_risque_autre?"contact_pas_vraiment_a_risque":"asymptomatique";return e}},{key:"guerisonRecente",value:function(){return this.profil.covid_passee&&this.profil.joursDepuisCovidPassee()<60}},{key:"sup65",get:function(){return this.profil.age>=65}},{key:"sup50",get:function(){return this.profil.age>=50}},{key:"sup15",get:function(){return this.profil.age>=15}},{key:"imc",get:function(){var e=this.profil.taille/100;return this.profil.poids/(e*e)}},{key:"personneFragile",get:function(){return this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30||this.antecedents}},{key:"antecedents",get:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie}},{key:"fievre",get:function(){return this.profil.symptomes_actuels&&(this.profil.symptomes_actuels_temperature||this.profil.symptomes_actuels_temperature_inconnue)}},{key:"facteursDeGraviteMajeurs",get:function(){return this.profil.symptomes_actuels_souffle||this.profil.symptomes_actuels_alimentation}},{key:"risqueDInfection",get:function(){return this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes||this.profil.hasContactARisqueReconnus()}},{key:"listStatuts",get:function(){return wp}},{key:"listConseilsPersonnels",get:function(){return xp}},{key:"statutEtConseils",get:function(){switch(this.situation){case"positif_symptomes_actuels_graves":case"autotest_positif_symptomes_actuels_graves":return{statut:"positif-symptomatique-urgent",conseils:"symptomes-actuels-positif-critique"};case"negatif_symptomes_actuels_graves":case"antigenique_negatif_fragile_symptomes_actuels_graves":case"en_attente_symptomes_actuels_graves":case"pas_teste_symptomes_actuels_graves":return{statut:"symptomatique-urgent",conseils:"symptomes-actuels-sans-depistage-critique"};case"positif_symptomes_actuels":return{statut:"symptomatique-positif",conseils:"depistage-positif-symptomatique"};case"positif_symptomes_passes":return{statut:"symptomatique-positif",conseils:"symptomes-passes-positif"};case"positif_contact_a_risque":case"positif_contact_a_risque_meme_lieu_de_vie":case"positif_contact_a_risque_meme_lieu_de_vie_vaccine":case"positif_contact_a_risque_vaccine":case"positif_contact_pas_vraiment_a_risque":case"positif_asymptomatique":return{statut:"asymptomatique",conseils:"depistage-positif-asymptomatique"};case"autotest_positif_contact_a_risque":case"autotest_positif_contact_a_risque_meme_lieu_de_vie":case"autotest_positif_contact_a_risque_meme_lieu_de_vie_vaccine":case"autotest_positif_contact_a_risque_vaccine":case"autotest_positif_contact_pas_vraiment_a_risque":case"autotest_positif_asymptomatique":return{statut:"asymptomatique-positif-autotest",conseils:"depistage-positif-autotest-asymptomatique"};case"negatif_symptomes_actuels":return{statut:"symptomatique-negatif",conseils:null};case"negatif_symptomes_passes":return{statut:this.statutSelonFragilite(),conseils:"peu-de-risques"};case"autotest_positif_symptomes_actuels":return{statut:"symptomatique-autotest-positif",conseils:"depistage-positif-autotest-symptomatique"};case"autotest_positif_symptomes_passes":return{statut:"symptomatique-autotest-positif",conseils:"symptomes-passes-positif-autotest"};case"antigenique_negatif_fragile_symptomes_actuels":case"antigenique_negatif_fragile_symptomes_passes":return{statut:"antigenique-negatif-fragile",conseils:"antigenique-negatif-fragile"};case"negatif_contact_a_risque_meme_lieu_de_vie_vaccine":case"antigenique_negatif_fragile_contact_a_risque_meme_lieu_de_vie_vaccine":case"en_attente_contact_a_risque_meme_lieu_de_vie_vaccine":return{statut:"contact-a-risque-meme-lieu-de-vie-vaccine",conseils:"contact-a-risque-meme-lieu-de-vie-vaccine"};case"negatif_contact_a_risque_meme_lieu_de_vie":case"antigenique_negatif_fragile_contact_a_risque_meme_lieu_de_vie":case"en_attente_contact_a_risque_meme_lieu_de_vie":return{statut:"contact-a-risque-meme-lieu-de-vie",conseils:"contact-a-risque-meme-lieu-de-vie"};case"negatif_contact_a_risque_vaccine":case"antigenique_negatif_fragile_contact_a_risque_vaccine":case"en_attente_contact_a_risque_vaccine":case"pas_teste_contact_a_risque_vaccine":return{statut:"contact-a-risque-vaccine",conseils:"contact-a-risque-vaccine"};case"negatif_contact_a_risque":case"antigenique_negatif_fragile_contact_a_risque":case"en_attente_contact_a_risque":return{statut:"contact-a-risque-avec-test",conseils:"contact-a-risque-avec-test"};case"negatif_contact_pas_vraiment_a_risque":case"antigenique_negatif_fragile_contact_pas_vraiment_a_risque":return{statut:this.statutSelonFragilite(),conseils:"contact-a-risque-autre"};case"negatif_asymptomatique":case"antigenique_negatif_fragile_asymptomatique":return{statut:this.statutSelonFragilite(),conseils:"peu-de-risques"};case"en_attente_symptomes_actuels":return{statut:"symptomatique-en-attente",conseils:"symptomes-actuels-en-attente"};case"en_attente_symptomes_passes":return{statut:"symptomatique-en-attente",conseils:"symptomes-passes-en-attente"};case"en_attente_contact_pas_vraiment_a_risque":return{statut:"en-attente",conseils:"contact-a-risque-autre"};case"en_attente_asymptomatique":return{statut:"en-attente",conseils:null};case"pas_teste_symptomes_actuels":return{statut:"symptomatique-sans-test",conseils:"symptomes-actuels-sans-depistage"};case"pas_teste_symptomes_passes":return{statut:"symptomatique-sans-test",conseils:"symptomes-passes-sans-depistage"};case"pas_teste_contact_a_risque":return{statut:"contact-a-risque-sans-test",conseils:"contact-a-risque-sans-test"};case"pas_teste_contact_a_risque_meme_lieu_de_vie_vaccine":return{statut:"contact-a-risque-meme-lieu-de-vie-sans-depistage-vaccine",conseils:"contact-a-risque-meme-lieu-de-vie-sans-depistage-vaccine"};case"pas_teste_contact_a_risque_meme_lieu_de_vie":return{statut:"contact-a-risque-meme-lieu-de-vie-sans-depistage",conseils:"contact-a-risque-meme-lieu-de-vie-sans-depistage"};case"pas_teste_contact_pas_vraiment_a_risque":return{statut:this.statutSelonFragilite(),conseils:"contact-a-risque-autre"};case"pas_teste_asymptomatique":return{statut:this.statutSelonFragilite(),conseils:"peu-de-risques"};default:return console.error("situation inconnue",this.situation),{statut:null,conseils:null};}}},{key:"statutSelonFragilite",value:function(){return this.personneFragile?"personne-fragile":"peu-de-risques"}},{key:"recommandeAutoSuivi",value:function(){return this.profil.hasSymptomesActuelsReconnus()&&!this.profil.depistagePositifRecentAsymptomatique()&&!this.profil.depistageNegatifRecentSymptomatique()}},{key:"timelineBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes?e.push("conseils-timeline-isolement-positif-avec-symptomes"):e.push("conseils-timeline-isolement-positif-sans-symptomes"):this.profil.hasContactARisqueReconnus()&&this.profil.contact_a_risque_meme_lieu_de_vie&&e.push("conseils-timeline-isolement-foyer-malade"),e}},{key:"conseilsPersonnelsBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?e.push("reponse-depistage-positif"):this.profil.depistageNegatifRecent()?e.push("reponse-depistage-negatif"):this.profil.depistageEnAttenteRecent()?e.push("reponse-depistage-en-attente"):this.profil.sansDepistage()&&e.push("reponse-depistage-sans"),e.push("conseils-personnels-".concat(this.statutEtConseils.conseils)),e}},{key:"isolementBlockNamesToDisplay",value:function(){var e=[];return(this.profil.depistagePositifRecent()||this.profil.depistageNegatifRecent()&&this.profil.hasContactARisqueReconnus()||this.profil.depistageEnAttenteRecent()&&this.risqueDInfection||this.profil.sansDepistage()&&this.risqueDInfection)&&(e.push("conseils-isolement"),this.profil.depistagePositifRecent()?e.push("conseils-isolement-depistage-positif"):this.profil.hasContactARisqueReconnus()?e.push("conseils-isolement-contact-a-risque"):this.risqueDInfection&&e.push("conseils-isolement-symptomes"),this.profil.foyer_autres_personnes?e.push("conseils-isolement-autres-personnes"):e.push("conseils-isolement-personne-seule")),e}},{key:"depistageBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()||this.profil.depistageNegatifRecent()||(e.push("conseils-tests"),this.profil.depistageEnAttenteRecent()?e.push("conseils-tests-resultats"):e.push("conseils-tests-general")),this.profil.depistageNegatifRecent()&&void 0!==this.profil.depistage_type&&"antigenique"===this.profil.depistage_type&&this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes)&&(e.push("conseils-tests"),e.push("conseils-tests-rt-pcr")),e}},{key:"vaccinBlockNamesToDisplay",value:function(){var e=[];"completement"===this.profil.vaccins?e.push("reponse-vaccins-completement"):"en_cours"===this.profil.vaccins?e.push("reponse-vaccins-en-cours"):e.push("reponse-vaccins-pas-encore"),"completement"!==this.profil.vaccins&&(this.profil.covid_passee?this.profil.hasCovidPlus6Mois()?e.push("reponse-historique-6-mois-plus"):this.profil.hasCovidPlus2Mois()?e.push("reponse-historique-2-6-mois"):e.push("reponse-historique-2-mois-moins"):e.push("reponse-historique-sans"));var s=new $e(this.profil,this);return s.isCompletementVaccine()?e.push("conseils-vaccins-deja-vaccine"):(e.push("conseils-vaccins-pas-encore-vaccine"),this.profil.covid_passee&&(this.profil.hasCovidPlus6Mois()?e.push("conseils-vaccins-6-mois-plus"):this.profil.hasCovidPlus2Mois()?e.push("conseils-vaccins-2-6-mois"):e.push("conseils-vaccins-2-mois-moins")),s.isVaccinationObligatoire()&&(e=e.concat("conseils-vaccins-obligation-pro-sante")),s.isVaccinationPossible()&&(e=e.concat(this._conseilsVaccins(s)))),e}},{key:"_conseilsVaccins",value:function(e){var s=[];return e.isSup18()?s.push("conseils-vaccins-18-ans"):e.isSup12()&&s.push("conseils-vaccins-12-ans"),e.isTresHautRisque()?s.push("conseils-vaccins-tres-haut-risque"):e.isARisque()&&s.push("conseils-vaccins-a-risque"),s}},{key:"gestesBarriereBlockNamesToDisplay",value:function(){var e=["conseils-gestes-barrieres-masque"];return this.personneFragile?((this.antecedents||this.profil.antecedent_chronique_autre)&&e.push("reponse-gestes-barrieres-masque-antecedents"),(this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.push("reponse-gestes-barrieres-masque-caracteristiques-a-risques"),e.push("conseils-gestes-barrieres-masque-fragile")):e.push("conseils-gestes-barrieres-masque-general"),e}},{key:"activiteProBlockNamesToDisplay",value:function(){var e=[];if(this.profil.activite_pro||this.profil.activite_pro_sante){e.push("conseils-activite"),e.push("reponse-activite-pro");var s=this.profil.hasSymptomesActuelsReconnus()&&(!this.profil.depistage||this.profil.depistage&&"en_attente"==this.profil.depistage_resultat);s&&e.push("conseils-activite-pro-arret-de-travail-isolement"),this.profil.contact_a_risque_stop_covid&&e.push("conseils-activite-pro-arret-de-travail-tac"),this.profil.activite_pro_sante?e.push("conseils-activite-pro-sante"):(this.antecedents?(e.push("reponse-activite-pro-antecedents"),e.push("conseils-activite-pro-arret")):s||e.push("conseils-activite-pro"),e.push("conseils-activite-pro-infos"))}return e}},{key:"grossesseBlockNamesToDisplay",value:function(){var e=[];return this.profil.grossesse_3e_trimestre&&e.push("conseils-grossesse"),e}},{key:"santeBlockNamesToDisplay",value:function(){var e=[];return this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()?e.push("conseils-sante-personne-fragile-symptomatique"):e.push("conseils-sante-personne-fragile")),e.length&&((this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.unshift("reponse-sante-caracteristiques-a-risques"),(this.antecedents||this.profil.antecedent_chronique_autre)&&e.unshift("reponse-sante-antecedents"),e.unshift("conseils-sante")),e}},{key:"enfantsBlockNamesToDisplay",value:function(){var e=[];return!this.profil.foyer_enfants&&this.sup15||(this.profil.foyer_enfants?e.push("reponse-foyer-enfants"):e.push("reponse-enfants-inf-15"),e.push("conseils-foyer-enfants")),e}}]),e}();function yp(e,t){var r=e.querySelector("form"),i=r.querySelector("#depistage_start_date"),a=new Date;i.setAttribute("max",a.toISOString().substring(0,10)),da(r,"depistage",t.profil),t.profil.depistage&&(void 0!==t.profil.depistage_start_date&&(i.value=t.profil.depistage_start_date.toISOString().substring(0,10)),"antigenique"===t.profil.depistage_type?r.querySelector("#depistage_type_antigenique").checked=!0:"rt-pcr"===t.profil.depistage_type?r.querySelector("#depistage_type_rtpcr").checked=!0:"antigenique_autotest"===t.profil.depistage_type&&(r.querySelector("#depistage_type_antigenique_autotest").checked=!0),"positif"===t.profil.depistage_resultat?r.querySelector("#depistage_resultat_positif").checked=!0:"negatif"===t.profil.depistage_resultat?r.querySelector("#depistage_resultat_negatif").checked=!0:"en_attente"===t.profil.depistage_resultat&&(r.querySelector("#depistage_resultat_en_attente").checked=!0));var p=r.elements.depistage;va(r,p),p.addEventListener("click",function(){va(r,p)});var o=r.querySelector("#depistage_resultat_en_attente"),s=r.querySelector("label[for=\"depistage_resultat_en_attente\"]");function l(){"rt-pcr"==ga(r,"depistage_type")?(fa(o),fa(s)):(o.checked=!1,ca(o),ca(s))}l(),Array.from(r.querySelectorAll("input[name=\"depistage_type\"]")).forEach(function(e){e.addEventListener("change",l)});var d=r.querySelector("input[type=submit]"),n=t.profil.estMonProfil()?"Je n\u2019ai pas pass\xE9 de test":"Cette personne n\u2019a pas pass\xE9 de test",u=mi(r,d.value,n,"Veuillez remplir le formulaire au complet");Te(i,a,u),r.addEventListener("submit",function(e){e.preventDefault();var r=e.target;t.profil.depistage=r.elements.depistage.checked,t.profil.depistage?(t.profil.depistage_start_date=new Date(r.elements.depistage_start_date.value),t.profil.depistage_type=ga(r,"depistage_type"),t.profil.depistage_resultat=ga(r,"depistage_resultat")):(t.profil.depistage_start_date=void 0,t.profil.depistage_type=void 0,t.profil.depistage_resultat=void 0),t.enregistrerProfilActuel().then(function(){t.goToNextPage("depistage")})})}function zp(e,t){var c=e.querySelector("form"),a=c.querySelector("input[type=submit]");da(c,"contact_a_risque",t.profil),da(c,"contact_a_risque_meme_lieu_de_vie",t.profil),da(c,"contact_a_risque_contact_direct",t.profil),da(c,"contact_a_risque_actes",t.profil),da(c,"contact_a_risque_espace_confine",t.profil),da(c,"contact_a_risque_tousse_eternue",t.profil),da(c,"contact_a_risque_meme_classe",t.profil),da(c,"contact_a_risque_autre",t.profil),da(c,"contact_a_risque_stop_covid",t.profil),da(c,"contact_a_risque_assurance_maladie",t.profil);var r=c.elements.contact_a_risque;va(c,r),r.addEventListener("click",function(){va(c,r)});var o=t.profil.estMonProfil()?"Je n\u2019ai pas eu de contact \xE0 risque":"Cette personne n\u2019a pas eu de contact \xE0 risque";Ap(c,a.value,o,"Veuillez remplir le formulaire au complet"),c.addEventListener("submit",function(e){e.preventDefault(),t.profil.contact_a_risque=e.target.elements.contact_a_risque.checked,t.profil.contact_a_risque_meme_lieu_de_vie=e.target.elements.contact_a_risque_meme_lieu_de_vie.checked,t.profil.contact_a_risque_contact_direct=e.target.elements.contact_a_risque_contact_direct.checked,t.profil.contact_a_risque_actes=e.target.elements.contact_a_risque_actes.checked,t.profil.contact_a_risque_espace_confine=e.target.elements.contact_a_risque_espace_confine.checked,t.profil.contact_a_risque_tousse_eternue=e.target.elements.contact_a_risque_tousse_eternue.checked,t.profil.contact_a_risque_meme_classe=e.target.elements.contact_a_risque_meme_classe.checked,t.profil.contact_a_risque_stop_covid=e.target.elements.contact_a_risque_stop_covid.checked,t.profil.contact_a_risque_assurance_maladie=e.target.elements.contact_a_risque_assurance_maladie.checked,t.profil.contact_a_risque_autre=e.target.elements.contact_a_risque_autre.checked,t.enregistrerProfilActuel().then(function(){t.goToNextPage("contactarisque")})})}function Ap(e,t,c,a){var r=new xb(e),o=r.submitButton,i=r.primaryCheckbox,n=r.secondaryCheckboxes,_=n.pop(),s=r.qS("input[type=checkbox]#contact_a_risque_stop_covid"),u=r.qS("input[type=checkbox]#contact_a_risque_assurance_maladie");function l(){var e=fc(n)||_.checked;!i.checked||e?(o.disabled=!1,s.checked||u.checked?o.value=t:o.value=i.checked?t:c):(o.disabled=!0,o.value=a)}function d(){_.checked?n.forEach(function(e){e.checked=!1,e.disabled=!0}):n.forEach(function(e){e.disabled=!1})}l(),i.addEventListener("change",l),s.addEventListener("change",l),u.addEventListener("change",l),n.forEach(function(e){e.addEventListener("change",l)}),_.addEventListener("change",l),d(),_.addEventListener("change",d)}function Bp(e,r){var t=e.querySelector("form");da(t,"foyer_autres_personnes",r.profil),da(t,"foyer_enfants",r.profil),da(t,"activite_pro",r.profil),da(t,"activite_pro_sante",r.profil);var o=t.elements.foyer_autres_personnes,i=t.querySelectorAll("#".concat(o.id," ~ .secondary"));va(t,o,i),o.addEventListener("click",function(){return va(t,o,i)});var n=t.elements.activite_pro,a=t.querySelectorAll("#".concat(n.id," ~ .secondary"));va(t,n,a),n.addEventListener("click",function(){return va(t,n,a)}),t.addEventListener("submit",function(e){e.preventDefault(),r.profil.foyer_autres_personnes=e.target.elements.foyer_autres_personnes.checked,r.profil.foyer_enfants=e.target.elements.foyer_enfants.checked,r.profil.activite_pro=e.target.elements.activite_pro.checked,r.profil.activite_pro_sante=e.target.elements.activite_pro_sante.checked,r.enregistrerProfilActuel().then(function(){r.goToNextPage("situation")})})}function Cp(e,t){var r=e.querySelector("form"),i=r.querySelector("input[type=submit]");Ke(r,"age",t.profil),Ke(r,"taille",t.profil),Ke(r,"poids",t.profil),da(r,"grossesse_3e_trimestre",t.profil);var o=new Pc(t.profil);r.antecedent_chronique.checked=o.antecedents,da(r,"antecedent_cardio",t.profil),da(r,"antecedent_diabete",t.profil),da(r,"antecedent_respi",t.profil),da(r,"antecedent_dialyse",t.profil),da(r,"antecedent_greffe",t.profil),da(r,"antecedent_cancer",t.profil),da(r,"antecedent_immunodep",t.profil),da(r,"antecedent_cirrhose",t.profil),da(r,"antecedent_drepano",t.profil),da(r,"antecedent_trisomie",t.profil),da(r,"antecedent_chronique_autre",t.profil);var n=r.elements.antecedent_chronique;va(r,n),n.addEventListener("click",function(){return va(r,n)});Nc(r,i.value,"Les informations d\u2019\xE2ge, de poids et de taille sont requises"),r.addEventListener("submit",function(e){e.preventDefault(),t.profil.age=Hi(e.target.elements.age),t.profil.poids=Hi(e.target.elements.poids),t.profil.taille=Dp(e.target.elements.taille),t.profil.grossesse_3e_trimestre=e.target.elements.grossesse_3e_trimestre.checked,t.profil.antecedent_cardio=e.target.elements.antecedent_cardio.checked,t.profil.antecedent_diabete=e.target.elements.antecedent_diabete.checked,t.profil.antecedent_respi=e.target.elements.antecedent_respi.checked,t.profil.antecedent_dialyse=e.target.elements.antecedent_dialyse.checked,t.profil.antecedent_greffe=e.target.elements.antecedent_greffe.checked,t.profil.antecedent_cancer=e.target.elements.antecedent_cancer.checked,t.profil.antecedent_immunodep=e.target.elements.antecedent_immunodep.checked,t.profil.antecedent_cirrhose=e.target.elements.antecedent_cirrhose.checked,t.profil.antecedent_drepano=e.target.elements.antecedent_drepano.checked,t.profil.antecedent_trisomie=e.target.elements.antecedent_trisomie.checked,t.profil.antecedent_chronique_autre=e.target.elements.antecedent_chronique_autre.checked,t.enregistrerProfilActuel().then(function(){t.goToNextPage("sante")})})}function Hi(e){var t=parseFloat(e.value.replace(",","."));return Math.round(t)}function Dp(e){var t=parseFloat(e.value.replace(",","."));return t<3&&(t*=100),Math.round(t)}function Ep(e,i){var t=e;gi(t),Yh(t,i.profil);var o=new Pc(i.profil);if(void 0===i.profil.questionnaire_completion_date&&(i.profil.questionnaire_completion_date=new Date,i.enregistrerProfilActuel(),i.plausible("Questionnaire termin\xE9"),i.profil.estMonProfil()?i.plausible("Questionnaire termin\xE9 pour moi"):i.plausible("Questionnaire termin\xE9 pour un proche")),o.recommandeAutoSuivi()?i.profil.suivi_active||(i.profil.suivi_active=!0,i.enregistrerProfilActuel()):i.profil.suivi_active&&!i.profil.hasSuiviStartDate()&&(i.profil.suivi_active=!1,i.enregistrerProfilActuel()),Hp(t,i.profil,o),i.profil.hasSuiviStartDate()&&i.profil.hasHistorique()){if(i.profil.hasDeconfinementDate())Ee(t,"deconfinement");else{var s=new Ji(i.profil);Ee(t,"suivi"),Gp(t,s),Ip(t,s)}tb(t,"#conseils-statut")}(Fp(t,i.profil),Jp(t,i.profil,o),Mp())?navigator.standalone||fa(t.querySelector(".browser-mobile-safari")):fa(t.querySelector(".browser-other"));Kc(t.querySelector(".feedback-component"),i),Ae(t,i),i.profil.hasSuiviStartDate()&&Sh(t,i.profil),Th(t.querySelector(".js-suppression"),i),Ge(i,"Navigue vers une th\xE9matique depuis les conseils")}function Fp(e,i){var t=i.activite_pro||i.activite_pro_sante;ub(e,".seulement-si-activite-pro",t);var o="antigenique_autotest"===i.depistage_type;ub(e,".seulement-si-activite-pro-et-autotest",t&&o),ub(e,".seulement-si-activite-pro-et-pas-autotest",t&&!o),ub(e,".seulement-si-foyer",i.foyer_autres_personnes);var s=new Pc(i),r=new $e(i,s);ub(e,".seulement-si-vaccine",r.isCompletementVaccine()),ub(e,".seulement-si-non-vaccine",!r.isCompletementVaccine())}function Gp(e,i){var t=i.profil,o=[i.graviteBlockNameToDisplay()];0!==i.psy&&o.push(i.psyBlockNameToDisplay()),t.hasHistorique()&&(o.push("suivi-bloc-liens"),o.push("conseils-personnels-titre"),o.push("conseils-sante"),o.push("conseils-sante-historique-symptomes"),Array.from(e.querySelectorAll(".suivi-repetition")).forEach(function(e){rn(e,t)}),Array.from(e.querySelectorAll(".suivi-derniere-fois")).forEach(function(e){sn(e,t)})),Fe(e,o)}function Hp(e,i,t){var o=[];(o=(o=(o=(o=o.concat(Lp(t))).concat(t.timelineBlockNamesToDisplay())).concat(t.conseilsPersonnelsBlockNamesToDisplay())).concat(t.isolementBlockNamesToDisplay())).push("et-ensuite"),o=(o=(o=(o=(o=(o=(o=o.concat(t.depistageBlockNamesToDisplay())).concat(t.vaccinBlockNamesToDisplay())).concat(t.gestesBarriereBlockNamesToDisplay())).concat(t.activiteProBlockNamesToDisplay())).concat(t.grossesseBlockNamesToDisplay())).concat(t.santeBlockNamesToDisplay())).concat(t.enfantsBlockNamesToDisplay()),Fe(e,o)}function Ip(e,i){var t=i.evolutionsBlockNamesToDisplay();t.length&&(fa(e.querySelector(".reponse")),Fe(e,t))}function Jp(e,i,t){mn(e.querySelector("#conseils-block-titre"),i),nn(e.querySelector("#conseils-block-date")),Array.from(e.querySelectorAll(".nom-caracteristiques-a-risques")).forEach(function(e){pn(e,t)}),Array.from(e.querySelectorAll(".reponse-personne-fragile")).forEach(function(e){on(e,t)}),Array.from(e.querySelectorAll(".nom-antecedents")).forEach(function(e){qn(e,t)}),Kp(e,i)}function Kp(e,i){function t(e){if(void 0===e)return"";return e.toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"})}function o(i,t){Array.from(e.querySelectorAll(".timeline .timeline-".concat(i," .timeline-date"))).forEach(function(e){e.innerHTML=wb(t)})}function s(e){o("exposition","\xC0 partir du ".concat(t(e.exposition))),o("contagiosite",t(e.contagiosite)),o("isolement",e.debutIsolement),o("aujourdhui","".concat(t(new Date)," (aujourd\u2019hui)")),o("demain","".concat(t(e.demain)," (demain)")),o("test","".concat(t(e.finIsolement))),o("fin","\xC0 partir du ".concat(t(e.finIsolement))),o("fin-positif","\xC0 partir du ".concat(t(e.finIsolementPositif)))}i.depistagePositifRecent()&&(i.hasSymptomesActuelsReconnus()||i.symptomes_passes?(s({exposition:ja(14,i.symptomes_start_date),contagiosite:ja(2,i.symptomes_start_date),debutIsolement:"".concat(t(i.symptomes_start_date)," (<a href=\"#symptomes\">modifier</a>)"),demain:vb(1,new Date),finIsolement:vb(10,i.symptomes_start_date),finIsolementPositif:vb(17,i.symptomes_start_date)}),i.symptomes_start_date>ja(1)?(tb(e,".timeline .timeline-aujourdhui"),De(e,".timeline .timeline-demain")):i.suiviAujourdhui()&&(tb(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-a-faire"),De(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-fait"),De(e,".timeline .timeline-demain"))):(s({exposition:ja(14,i.depistage_start_date),contagiosite:ja(2,i.depistage_start_date),debutIsolement:"".concat(t(i.depistage_start_date)," (<a href=\"#depistage\">modifier</a>)"),demain:vb(1,new Date),finIsolement:vb(10,i.depistage_start_date),finIsolementPositif:vb(17,i.symptomes_start_date)}),function(i){e.querySelector(".duree-isolement").innerText=i}(10)))}function Lp(e){return["statut-".concat(e.statutEtConseils.statut)]}function Mp(){var e=window.navigator.userAgent,i=!!e.match(/iPad/i),t=!!e.match(/iPhone/i),o=i||t,s=!!e.match(/WebKit/i),r=!!e.match(/CriOS/i);return o&&s&&!r}function Np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ii(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t,i){return t&&Ii(e.prototype,t),i&&Ii(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ji=function(){function e(t){Np(this,e),this.profil=t,this.dernierEtat=t.dernierEtat()}return Op(e,[{key:"calculGravite",value:function(e){var t=0;return"oui"!==e.fievre&&"oui"!==e.diarrheeVomissements&&"oui"!==e.toux||(t=1),"pire"!==e.essoufflement&&"pire"!==e.etatGeneral&&"oui"!==e.confusion&&"oui"!==e.alimentationHydratation&&"oui"!==e.mauxDeTete||(t=2),"critique"!==e.essoufflement&&"critique"!==e.etatGeneral||(t=3),t}},{key:"gravite",get:function(){return this.calculGravite(this.dernierEtat)}},{key:"graviteBlockNameToDisplay",value:function(){return"suivi-gravite-".concat(this.gravite)}},{key:"psy",get:function(){var e=0;return"critique"===this.dernierEtat.etatPsychologique&&(e=0===this.gravite?1:2),e}},{key:"psyBlockNameToDisplay",value:function(){return"suivi-psy-".concat(this.psy)}},{key:"evolutionsBlockNamesToDisplay",value:function(){var e=[],t=this.dernierEtat;return"critique"===t.essoufflement&&e.push("essoufflement-gravite-3"),"pire"===t.essoufflement&&e.push("essoufflement-gravite-2"),"critique"===t.etatGeneral&&e.push("etat-general-gravite-3"),"pire"===t.etatGeneral&&e.push("etat-general-gravite-2"),"oui"===t.confusion&&e.push("confusion-gravite-2"),"oui"===t.alimentationHydratation&&e.push("alimentation-hydratation-gravite-2"),"critique"===t.etatPsychologique&&e.push("etat-psychologique-gravite-3"),"oui"===t.fievre&&e.push("fievre-gravite-1"),"oui"===t.diarrheeVomissements&&e.push("diarrhee-vomissements-gravite-1"),"oui"===t.mauxDeTete&&e.push("maux-de-tete-gravite-2"),"oui"===t.toux&&e.push("toux-gravite-1"),e}}]),e}();function Pp(e,i){var r=e,n=new Li(i.profil,i.suiviImages),t=r.querySelector("#profils-cards-suivi"),o=t.insertBefore(n.renderCardSuivi(),t.firstChild);i.profil.hasSuiviStartDate()&&(Qp(o.querySelector("[data-delete-suivi]"),i),Sh(r,i.profil))}function Qp(e,i){e.addEventListener("click",function(r){r.preventDefault();var n=e.dataset.deleteSuivi,t="mes_infos"===n?"votre suivi":"le suivi de ".concat(n);confirm("\xCAtes-vous s\xFBr\xB7e de vouloir supprimer ".concat(t,"\xA0?"))&&i.supprimerSuivi(n).then(function(){i.chargerProfilActuel().then(function(){window.location.reload(!0)})})})}var Rp,Sp,Tp;function _e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ki(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vp(e,t,n){return t&&Ki(e.prototype,t),n&&Ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Li=function(){function e(t,n){Up(this,e),this.profil=t,this.suiviImages=n}return Vp(e,[{key:"renderButtonSuivi",value:function(){var e=this.profil.estMonProfil()?"mon":"son",t=this.profil.estMonProfil()?"mes":"ses",n=this.profil.hasSuiviStartDate()&&this.profil.hasHistorique()?"Continuer":"D\xE9marrer",a=this.profil.hasSymptomesStartDate()?"suivisymptomes":"symptomes",r=Oa(Rp||(Rp=_e(["\n            <a class=\"button button-full-width conseils-link\"\n                data-set-profil=\"","\" href=\"#","\"\n                >"," "," suivi</a>\n        "])),this.profil.nom,a,n,e),i=Oa(Sp||(Sp=_e(["\n            <a class=\"button button-outline button-full-width conseils-link\"\n                data-set-profil=\"","\" href=\"#conseils\"\n                >Retrouver "," conseils</a>\n        "])),this.profil.nom,t),o="";return this.profil.hasSuiviStartDate()&&(o=Oa(Tp||(Tp=_e(["\n                <a data-delete-suivi=\"","\" href=\"\" role=\"button\"\n                    >Supprimer "," suivi</a>\n            "])),this.profil.nom,e)),r+i+o}},{key:"renderDernierSuivi",value:function(){var e=this.profil.dernierEtat();if(e){var t=Ph(new Date(e.date),"fr");return"<small>Derni\xE8re r\xE9ponse\xA0: ".concat(t,"</small>")}return""}},{key:"renderCardSuivi",value:function(){return Ic("\n        <li class=\"card\">\n            ".concat(this.profil.renderNom(),"\n            ").concat(this.renderDernierSuivi(),"\n            <div>").concat(this.renderButtonSuivi(),"</div>\n        </li>\n        "))}},{key:"renderDebutSymptomes",value:function(){return"<p>D\xE9but des sympt\xF4mes\xA0:\n            ".concat(this.renderDate(this.profil.symptomes_start_date),"\n            (<a href=\"#symptomes\">modifier</a>)\n        </p>")}},{key:"renderDebutSuivi",value:function(){return"<p>D\xE9but du suivi\xA0: ".concat(this.renderDate(this.profil.suivi_start_date),"</p>")}},{key:"suiviParSymptome",value:function(e){return this.profil.suivi.map(function(t){return{date:t.date,statut:t[e]}})}},{key:"switchSymptomeTitre",value:function(e){switch(e){case"essoufflement":return"Manque de souffle";case"etatGeneral":return"\xC9tat g\xE9n\xE9ral";case"etatPsychologique":return"\xC9tat psychologique";case"alimentationHydratation":return"Absence d\u2019alimentation ou d\u2019hydratation";case"diarrheeVomissements":return"Diarrh\xE9e ou vomissements";case"fievre":return"Fi\xE8vre sup\xE9rieure \xE0 39\xB0C";case"confusion":return"Somnolence ou confusion";case"mauxDeTete":return"Maux de t\xEAte";case"toux":return"Toux";default:return"";}}},{key:"switchStatut",value:function(e){switch(e){case"critique":return"Beaucoup moins bien";case"pire":return"Un peu moins bien";case"stable":return"Stable";case"aucun":return"Pas ce sympt\xF4me";case"mieux":return"Mieux";case"":return"Pas de sympt\xF4mes";default:return"";}}},{key:"switchBooleen",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas de sympt\xF4mes";default:return"";}}},{key:"switchBooleenOptionnel",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas d\u2019information";default:return"";}}},{key:"switchGravite",value:function(e){switch(e){case"gravite_3":return"\xC9tat grave, il est recommand\xE9 d\u2019appeler le SAMU\xA0(15)";case"gravite_2":return"\xC9tat pr\xE9occupant, consulter un m\xE9decin ou \xE0 d\xE9faut le SAMU\xA0(15)";case"gravite_1":return"\xC9tat \xE0 v\xE9rifier, consulter votre m\xE9decin traitant";case"gravite_0":return"\xC9tat correct";default:return"";}}},{key:"switchIcone",value:function(e){switch(e){case"critique":case"oui":case"gravite_3":return"gravite_superieure";case"pire":case"gravite_2":return"gravite";case"stable":case"aucun":case"gravite_1":return"stable";case"mieux":case"non":case"gravite_0":return"ok";default:return"interrogation";}}},{key:"renderDate",value:function(e){return wb(new Date(e).toLocaleString("fr-FR",{weekday:"long",month:"long",day:"numeric"}))}},{key:"renderIcone",value:function(e){var t=this.switchIcone(e),n=this.suiviImages[t];return"<img src=\"".concat(n,"\" width=\"40px\" height=\"40px\"\n                     alt=\"").concat(wb(t),"\" title=\"").concat(wb(t),"\" />")}},{key:"renderSymptomeStatutTableCell",value:function(e){return"<tr>\n            <td>".concat(this.renderDate(e.date),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchStatut(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeStatut",value:function(e,t){var n=this,a="<caption><h3>".concat(this.switchSymptomeTitre(e),"</h3></caption>"),r="<tbody>\n            ".concat(t.map(function(e){return n.renderSymptomeStatutTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat(a,"\n            ").concat("<thead>\n            <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Statut</th>\n                <th scope=\"col\">R\xE9ponse</th>\n            </tr>\n        </thead>","\n            ").concat(r,"\n        </table>")}},{key:"renderSymptomeBooleenTableCell",value:function(e){return"<tr>\n            <td>".concat(this.renderDate(e.date),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchBooleen(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeBooleen",value:function(e,t){var n=this,a="<caption><h3>".concat(this.switchSymptomeTitre(e),"</h3></caption>"),r="<tbody>\n            ".concat(t.map(function(e){return n.renderSymptomeBooleenTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat(a,"\n            ").concat("<thead>\n            <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Statut</th>\n                <th scope=\"col\">R\xE9ponse</th>\n            </tr>\n        </thead>","\n            ").concat(r,"\n        </table>")}},{key:"renderSymptomeBooleenOptionnelTableCell",value:function(e){return"<tr>\n            <td>".concat(this.renderDate(e.date),"</td>\n            <td>").concat(this.renderIcone(e.statut),"</td>\n            <td>").concat(this.switchBooleenOptionnel(e.statut),"</td>\n        </tr>")}},{key:"renderSymptomeBooleenOptionnel",value:function(e,t){var n=this,a="<caption><h3>".concat(this.switchSymptomeTitre(e),"</h3></caption>"),r="<tbody>\n            ".concat(t.map(function(e){return n.renderSymptomeBooleenOptionnelTableCell(e)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat(a,"\n            ").concat("<thead>\n            <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Statut</th>\n                <th scope=\"col\">R\xE9ponse</th>\n            </tr>\n        </thead>","\n            ").concat(r,"\n        </table>")}},{key:"renderGraviteTableCell",value:function(e,t){var n="gravite_".concat(t.calculGravite(e));return"<tr>\n            <td>".concat(this.renderDate(e.date),"</td>\n            <td>").concat(this.renderIcone(n),"</td>\n            <td>").concat(this.switchGravite(n),"</td>\n        </tr>")}},{key:"renderGravite",value:function(){var e=this,t=new Ji(this.profil),n="<tbody>\n            ".concat(this.profil.suivi.map(function(n){return e.renderGraviteTableCell(n,t)}).join("\n"),"\n        </tbody>");return"<table>\n            ".concat("<caption><h2>Bilan de votre situation</h2></caption>","\n            ").concat("<thead>\n            <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\" colspan=\"2\">Statut</th>\n            </tr>\n        </thead>","\n            ").concat(n,"\n        </table>")}},{key:"renderHistorique",value:function(){var e=this,t=["alimentationHydratation","diarrheeVomissements","fievre"];this.profil.estMonProfil()||t.push("confusion");return Ic("\n            <div>\n                ".concat(this.renderDebutSymptomes(),"\n                ").concat(this.renderDebutSuivi(),"\n                ").concat(this.renderGravite(),"\n                <h2>D\xE9tail de vos sympt\xF4mes</h2>\n                ").concat(["essoufflement","etatGeneral","etatPsychologique"].map(function(t){return e.renderSymptomeStatut(t,e.suiviParSymptome(t))}).join("\n"),"\n                ").concat(t.map(function(t){return e.renderSymptomeBooleen(t,e.suiviParSymptome(t))}).join("\n"),"\n                ").concat(["mauxDeTete","toux"].map(function(t){return e.renderSymptomeBooleenOptionnel(t,e.suiviParSymptome(t))}).join("\n"),"\n            </div>\n        "))}}]),e}();function Wp(e,t){var i=e.querySelector("form");$h(e.querySelector(".feedback-difficultes")),Kc(e.querySelector(".feedback-component"),t),t.profil.hasSuiviStartDate()||(t.profil.suivi_start_date=new Date);var s=!t.profil.estMonProfil(),o=i.querySelector(".them-only");s?(fa(o),o.classList.add("required")):(ca(o),o.classList.remove("required"));var r=i.querySelector("input[type=submit]");i.suivi_symptomes.checked=!0;var a=i.elements.suivi_symptomes;va(i,a),a.addEventListener("click",function(){va(i,a)});var m=s?"Cette personne n\u2019a pas de sympt\xF4mes aujourd\u2019hui":"Je n\u2019ai pas eu de sympt\xF4mes aujourd\u2019hui";Sn(i,r.value,m,"Veuillez remplir le formulaire au complet"),i.addEventListener("submit",function(e){e.preventDefault();var i=e.target,o={date:new Date().toJSON(),symptomes:i.elements.suivi_symptomes.checked,essoufflement:ga(i,"suivi_symptomes_essoufflement"),etatGeneral:ga(i,"suivi_symptomes_etat_general"),alimentationHydratation:ga(i,"suivi_symptomes_alimentation_hydratation"),etatPsychologique:ga(i,"suivi_symptomes_etat_psychologique"),fievre:ga(i,"suivi_symptomes_fievre"),diarrheeVomissements:ga(i,"suivi_symptomes_diarrhee_vomissements"),mauxDeTete:ga(i,"suivi_symptomes_maux_de_tete"),toux:ga(i,"suivi_symptomes_toux")};s&&(o.confusion=ga(i,"suivi_symptomes_confusion")),t.profil.ajouterEtat(o),t.plausible("Suivi rempli"),1===t.profil.suivi.length?t.plausible("Premier suivi"):2===t.profil.suivi.length?t.plausible("Deuxi\xE8me suivi"):3===t.profil.suivi.length&&t.plausible("Troisi\xE8me suivi");var r=function(e){return"oui"===e},a=function(e){return"pire"===e||"critique"===e};o.symptomes?(void 0===t.profil.symptomes_start_date&&(t.profil.symptomes_start_date=new Date),t.profil.symptomes_passes=!1,t.profil.symptomes_actuels=!0,t.profil.symptomes_actuels_temperature=r(o.fievre),t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=r(o.toux),t.profil.symptomes_actuels_douleurs=a(o.etatGeneral),t.profil.symptomes_actuels_diarrhee=r(o.diarrheeVomissements),t.profil.symptomes_actuels_fatigue=a(o.etatGeneral),t.profil.symptomes_actuels_alimentation=r(o.alimentationHydratation),t.profil.symptomes_actuels_souffle=a(o.essoufflement)):(t.profil.symptomes_passes=!0,t.profil.symptomes_actuels=!1,t.profil.symptomes_actuels_temperature=!1,t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=!1,t.profil.symptomes_actuels_douleurs=!1,t.profil.symptomes_actuels_diarrhee=!1,t.profil.symptomes_actuels_fatigue=!1,t.profil.symptomes_actuels_alimentation=!1,t.profil.symptomes_actuels_souffle=!1),new Zp(t.profil).isDeconfinable()?t.profil.hasDeconfinementDate()||(t.profil.deconfinement_date=new Date,t.plausible("Suivi deconfinement")):t.profil.deconfinement_date=void 0,t.enregistrerProfilActuel().then(function(){t.goToNextPage("suivisymptomes")})})}function Xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Yp(e,t,r){return t&&Mi(e.prototype,t),r&&Mi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zp=function(){function e(t){Xp(this,e),this.profil=t}return Yp(e,[{key:"isQuarantaineDone",value:function(){return Lc(this.profil.symptomes_start_date,new Date)>=10}},{key:"isSuiviRegulier",value:function(){var e=ja(0),t=ja(1),r=ja(2);return this.profil.suiviEntre(t,e).length>=1&&this.profil.suiviEntre(r,t).length>=1}},{key:"isFievreDone",value:function(){return this.profil.suiviDerniersJours(2).every(function(e){return!e.symptomes||"non"===e.fievre})}},{key:"isEssoufflementDone",value:function(){return this.profil.suiviDerniersJours(2).every(function(e){return!e.symptomes||"mieux"===e.essoufflement||"stable"===e.essoufflement||"aucun"===e.essoufflement})}},{key:"isDeconfinable",value:function(){return this.isQuarantaineDone()&&this.isSuiviRegulier()&&this.isFievreDone()&&this.isEssoufflementDone()}}]),e}();function $p(e,i){var r=e,s=new Li(i.profil,i.suiviImages),$=r.querySelector("#suivi-historique-content");$.innerHTML="<div class=\"break\"></div>",$.insertBefore(s.renderHistorique(),$.firstChild),Ae(r,i)}function _p(){var e="https://logs1412.xiti.com",n=614871;function t(e){console.warn("[ATInternet] Ignore event: "+e)}return function(r){if("prerender"===document.visibilityState)return t("prerendering");var o={};if(o.s=n,o.ts=new Date().getTime(),o.idclient="Consent-NO",o.p=r,o.s2="","mesconseilscovid.sante.gouv.fr"!==location.hostname)return t("running locally"),void console.debug("[ATInternet]",o);var i,s=new XMLHttpRequest;s.open("GET","".concat(e,"/hit.xiti").concat((i=o,"?"+Object.keys(i).map(function(e){return e+"="+encodeURIComponent(i[e])}).join("&"))),!0),s.send(null)}}var aq=function(){function e(t){zo(this,e),this.profil=new We,this.stockage=new No,this.questionnaire=new Vo,this.suiviImages=t}return Ao(e,[{key:"initStats",value:function(){var e=this;return this.initSource().then(function(t){e.source=t,e._plausibleTrackingEvents=[],e._plausible=en(window),e.atinternet=_p()})}},{key:"initSource",value:function(){var e=new URLSearchParams(window.location.search),t=e.get("source")||e.get("utm_source");return t?this.stockage.setSource(t):this.stockage.getSource()}},{key:"init",value:function(){return this.router=new un(this),this.updater=new Yo(this.router),this.chargerProfilActuel()}},{key:"setupRoutes",value:function(){var e=this;this.router.addAppRoute("introduction",Zo,{pageTitle:""}),this.router.addAppRoute("nom",fp),this.router.addQuestionnaireRoute("vaccins",gp),this.router.addQuestionnaireRoute("historique",hp),this.router.addQuestionnaireRoute("symptomes",jp),this.router.addQuestionnaireRoute("contactarisque",zp),this.router.addQuestionnaireRoute("depistage",yp),this.router.addQuestionnaireRoute("situation",Bp),this.router.addQuestionnaireRoute("sante",Cp),this.router.addAppRoute("conseils",Ep,{beforeFunc:Qo}),this.router.addAppRoute("suiviintroduction",Pp,{beforeFunc:Ro}),this.router.addAppRoute("suivisymptomes",Wp,{beforeFunc:So}),this.router.addAppRoute("suivihistorique",$p,{beforeFunc:To}),this.router.addRoute("conditionsutilisation",function(t){e.profil.isComplete()&&(fa(t.querySelector(".js-profil-full")),ca(t.querySelector(".js-profil-empty")))}),this.router.addRoute("nouvelleversiondisponible",function(t){var r=e.router.lastRouteResolved(),i=new URLSearchParams(r.query).get("origine");ep(t,e,i)})}},{key:"setupRedirects",value:function(){var e=this;this.router.navigo.on(new RegExp("^(symptomesactuels|symptomespasses|debutsymptomes)$"),function(){},{before:function(t){e.redirectTo("symptomes"),t(!1)}}),this.router.navigo.on(new RegExp("^(residence|foyer|activitepro)$"),function(){},{before:function(t){e.redirectTo("situation"),t(!1)}}),this.router.navigo.on(new RegExp("^(caracteristiques|antecedents)$"),function(){},{before:function(t){e.redirectTo("sante"),t(!1)}}),this.router.navigo.on("pediatrie",function(){},{before:function(e){window.location.replace("conseils-pour-les-enfants.html"),e(!1)}})}},{key:"chargerProfilActuel",value:function(){var e=this;return this.stockage.getProfilActuel().then(function(t){if(null!==t)return e.chargerProfil(t)})}},{key:"enregistrerProfilActuel",value:function(){return this.stockage.enregistrer(this.profil)}},{key:"creerProfil",value:function(e){var t=this;return this.profil.resetData(e),this.stockage.setProfilActuel(e).then(function(){return t.enregistrerProfilActuel()})}},{key:"creerProfilsTypes",value:function(){for(var e=["Positif","N\xE9gatif","En attente","Pas test\xE9"],t=["Sympt\xF4mes actuels graves","Sympt\xF4mes actuels","Sympt\xF4mes actuels non \xE9vocateurs","Sympt\xF4mes pass\xE9s","Contact \xE0 risque","Contact pas vraiment \xE0 risque","Rien de tout \xE7a"],r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var n=e[i],s=t[o];("N\xE9gatif"!==n||"Sympt\xF4mes pass\xE9s"!==s&&"Contact pas vraiment \xE0 risque"!==s&&"Rien de tout \xE7a"!==s)&&("Pas test\xE9"!==n||"Contact pas vraiment \xE0 risque"!==s&&"Rien de tout \xE7a"!==s)||(r.push(this.creerProfilType(n,s,!0,!1)),r.push(this.creerProfilType(n,s,!1,!0))),r.push(this.creerProfilType(n,s,!1,!1))}return Promise.all(r)}},{key:"creerProfilType",value:function(e,t,r){var i=this,o="".concat(e," + ").concat(t);return r&&(o="".concat(o," + personne fragile")),this.stockage.getProfil(o).then(function(n){if(null===n)return(n=new We(o)).fillTestData(e,t,r),i.stockage.enregistrer(n);console.error("Le profil \"".concat(o,"\" existe d\xE9j\xE0"))})}},{key:"basculerVersProfil",value:function(e){var t=this;return this.stockage.setProfilActuel(e).then(function(){return t.stockage.getProfil(e).then(function(r){return r?t.chargerProfil(e):t.creerProfil(e)})})}},{key:"chargerProfil",value:function(e){return this.profil.nom=e,this.stockage.charger(this.profil)}},{key:"supprimerProfil",value:function(e){var t=this;return this.stockage.supprimer(e).then(function(){t.profil.nom===e&&(t.profil.nom=void 0,t.stockage.setProfilActuel(void 0))})}},{key:"supprimerSuivi",value:function(e){var t=this;return this.basculerVersProfil(e).then(function(e){return e.resetSuivi(),t.stockage.enregistrer(e)})}},{key:"supprimerTout",value:function(){var e=this;return this.stockage.supprimerTout().then(function(){e.profil.resetData()})}},{key:"goToNextPage",value:function(e){var t=this.questionnaire.nextPage(e,this.profil);this.router.navigate(t)}},{key:"loadFakeSuiviData",value:function(){this.profil.symptomes_start_date=ja(11),this.profil.suivi_start_date=ja(11),this.profil.suivi=[{date:ja(1).toJSON(),symptomes:!0,essoufflement:"mieux",etatGeneral:"mieux",etatPsychologique:"mieux",alimentationHydratation:"non",fievre:"non",diarrheeVomissements:"non",mauxDeTete:"non",toux:"non"}],this.enregistrerProfilActuel()}},{key:"trackPageView",value:function(e){this.plausible("pageview",{lang:this._preferedLanguages()}),this.atinternet(e)}},{key:"_preferedLanguages",value:function(){return navigator.languages||[navigator.language||navigator.userLanguage]}},{key:"plausible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.source&&(t.source=this.source),void 0!==this.profil.nom&&(t.profil=this.profil.estMonProfil()?"moi":"proche"),this._envoieEvenementPlausible(e,t)}},{key:"_envoieEvenementPlausible",value:function(e,t){var r={};Object.keys(t).length>0&&(r.props=t);try{return this._plausible(e,r)}catch(i){new Image().src=document.body.dataset.statsUrl+"/api/error?message="+encodeURIComponent(i.message)}}},{key:"premierDemarrageFormulaire",value:function(){void 0===this.profil.questionnaire_start_date&&(this.profil.questionnaire_start_date=new Date,this.enregistrerProfilActuel(),this.plausible("Questionnaire commenc\xE9"),this.profil.estMonProfil()?this.plausible("Questionnaire commenc\xE9 pour moi"):this.plausible("Questionnaire commenc\xE9 pour un proche"))}}]),e}();var bq=ma(Hm);var zb=new aq(bq.d);function cq(e){e.init().then(function(){""===location.hash.slice(1)&&e.trackPageView(document.location.pathname),e.setupRoutes(),e.setupRedirects(),e.router.resolve()})}function dq(e){e.updater.checkForUpdatesEvery(10)}function eq(e){Th(document.querySelector("footer .js-suppression"),e)}function fq(){document.addEventListener("keydown",function(e){" "!==e.key&&"Spacebar"!==e.key||document.activeElement.hasAttribute("role")&&"button"===document.activeElement.getAttribute("role")&&(e.preventDefault(),e.stopPropagation(),e.target.click())})}window.app=zb,zb.initStats().then(function(){ai()?vn(zb):(cq(zb),dq(zb)),eq(zb),fq()}),ze("fr",function(e,a){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][a]}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(function(){}).catch(function(e){console.log("SW registration failed: ",e)});return{"KIzB":{}};});