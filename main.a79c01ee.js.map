{"version":3,"sources":["scripts/polyfills/custom_event.js","scripts/affichage.js","scripts/pagination.js","scripts/updater.js","scripts/actions.js","../node_modules/localforage/dist/localforage.js","scripts/stockage.js","scripts/profil.js","../src/index.js","scripts/introduction.js","scripts/carte.js","scripts/algorithme.js","scripts/injection.js","scripts/conseils.js","scripts/formutils.js","scripts/geoloc.js","scripts/questionnaire.js","scripts/router.js","scripts/main.js"],"names":["window","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","hideElement","element","setAttribute","classList","remove","showElement","removeAttribute","add","hideSelector","selector","forEach","call","querySelectorAll","displayElementById","id","block","querySelector","displayBlocks","blockNames","createElementFromHTML","htmlString","div","createElement","innerHTML","trim","firstElementChild","escapeHtml","str","replace","safeHtml","literals","result","i","length","module","exports","affichage","require","getCurrentPageName","hash","location","slice","redirectToUnansweredQuestions","page","profil","departement","activite_pro","foyer_enfants","age","antecedent_cardio","symptomes_actuels","symptomes_actuels_autre","undefined","symptomes_passes","contact_a_risque","loadPage","pageName","app","clone","cloneNode","insertAdjacentElement","estMonProfil","meElement","nextSibling","scrollIntoView","behavior","pagination","router","checkForUpdatesEvery","intervalInMinutes","checkForUpdate","setInterval","bind","xhr","XMLHttpRequest","open","Date","getTime","setRequestHeader","onload","jsonResponse","JSON","parse","responseText","updateVersion","version","onerror","console","debug","send","currentVersion","showBanner","customDisplayEvent","dispatchEvent","fetchedVersion","isFillingQuestionnaire","addEventListener","setTimeout","refreshButton","forceReloadCurrentPageWithHash","navigate","preventDefault","target","href","reload","bindImpression","print","e","alert","bindSuppressionTotale","confirm","supprimerTout","then","lastRouteResolved","url","StockageLocal","localforage","getItem","nom","setItem","keys","noms","filter","sort","a","dropInstance","catch","error","removeItem","data","log","fillData","resetData","getData","Profil","activite_pro_public","activite_pro_sante","foyer_fragile","grossesse_3e_trimestre","poids","taille","antecedent_diabete","antecedent_respi","antecedent_dialyse","antecedent_cancer","antecedent_immunodep","antecedent_cirrhose","antecedent_drepano","antecedent_chronique_autre","symptomes_actuels_temperature","symptomes_actuels_temperature_inconnue","symptomes_actuels_toux","symptomes_actuels_odorat","symptomes_actuels_douleurs","symptomes_actuels_diarrhee","symptomes_actuels_fatigue","symptomes_actuels_alimentation","symptomes_actuels_souffle","contact_a_risque_meme_lieu_de_vie","contact_a_risque_contact_direct","contact_a_risque_actes","contact_a_risque_espace_confine","contact_a_risque_meme_classe","contact_a_risque_stop_covid","contact_a_risque_autre","affichageNom","possessifMasculinSingulier","mainButton","possessifPluriel","isComplete","outlined","label","isEmpty","renderNom","renderButtons","isPushStateAvailable","history","pushState","Navigo","r","useHash","root","_routes","_useHash","_hash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","this","_genericHooks","_historyAPIUpdateMethod","_cLoc","split","_listen","updatePageLinks","clean","s","RegExp","getUrlDepth","compareUrlDepth","urlA","urlB","match","routes","map","route","paramNames","regexp","PARAMETER_REGEXP","full","dots","name","push","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","replaceDynamicURLParts","names","reduce","value","index","decodeURIComponent","m","matched","fallbackURL","getOnlyURL","cleanGETParam","manageHooks","handler","hooks","before","after","prototype","path","absolute","to","_getRoot","resolve","args","func","_typeof","uses","_add","Object","on","current","GETParameters","join","onlyURL","query","already","_callLeave","_this2","_listeningInterval","removeEventListener","self","_findLinks","link","hasListenerAttached","ctrlKey","metaKey","tagName","toLowerCase","getLinkPath","key","toString","status","pause","destroy","getAttribute","encodeURI","as","cached","check","_this3","__NAVIGO_WINDOW_LOCATION_MOCK__","leave","container","stockage","getProfils","indexOf","bindCreateProfil","appendChild","renderProfilCards","lastCard","firstChild","charger","card","insertBefore","renderCard","conseilsLink","profilLinks","profilLink","bindChangeProfil","bindSuppression","_bindFunc","creerProfil","basculerVersProfil","dataset","setProfil","URL","deleteProfil","description","supprimerProfil","chargerProfilActuel","dateMiseAJour","_noms","_couleurs","_liens_prefectures","departementId","couleur","lien_prefecture","carteDepartements","Algorithme","antecedents","sup50","imc","symptomesActuelsReconnus","gravite","facteursDeGraviteMajeurs","fievre","personne_fragile","totalFacteursDeGraviteMineurs","symptomes","sup65","taille_en_metres","b","nomProfil","textContent","titreConseils","lienPrefecture","caracteristiquesARisques","algorithme","content","Math","round","symptomesactuels","actions","injection","extraClass","getCustomIllustrationName","showRelevantBlocks","showRelevantAnswersRecap","isMobileSafari","navigator","standalone","statutBlockNamesToDisplay","concat","conseilsPersonnelsBlockNamesToDisplay","departementBlockNamesToDisplay","activiteProBlockNamesToDisplay","foyerBlockNamesToDisplay","caracteristiquesAntecedentsBlockNamesToDisplay","subElement","nomCaracteristiquesARisques","nomAntecedents","nomSymptomesActuels","statut","ua","userAgent","isIPad","isIPhone","isIOS","isWebkit","isChrome","preloadForm","form","preloadCheckboxForm","checked","toggleFormButtonOnCheck","continueLabel","uncheckedLabel","button","checkboxes","updateSubmitButtonLabel","hasChecks","some","checkbox","elem","toggleFormButtonOnCheckRequired","requiredLabel","secondaryCheckboxes","otherCheckbox","pop","updateSubmitButtonLabelRequired","disabled","updateToggleOnOther","secondaryCheckbox","toggleFormButtonOnTextFieldsRequired","textFields","allFilled","every","textField","toggleFormButtonOnSelectFieldsRequired","selectFields","selectField","options","enableOrDisableSecondaryFields","primary","primaryDisabled","secondary","Event","Geolocaliseur","matchDepartement","lat","lon","departementFound","departementNotFound","that","loadMap","featureCollection","notFound","features","geometry","type","coordinates","polyCoordinate","coord","booleanPointInPolygon","properties","callback","overrideMimeType","point","vs","x","y","inside","j","xi","yi","xj","yj","geolocalisation","geolocaliseur","onDepartementFound","select","code","onDepartementNotFound","geolocation","getCurrentPosition","position","latitude","coords","longitude","warn","message","enableHighAccuracy","timeout","maximumAge","formUtils","geoloc","elements","residence","enregistrerProfilActuel","getElementById","activitepro","foyer","caracteristiques","symptomespasses","contactarisque","introduction","conseils","questionnaire","initRouter","done","requestedPage","redirectedPage","header","customPageEvent","mesConseilsLink","Updater","Router","App","getProfilActuel","chargerProfil","enregistrer","setProfilActuel","supprimer","init"],"mappings":"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GAAA,sBACA,GAAA,WACA,GAAA,YACA,GAAA,QACA,GAAA,cACA,GAAA,iBACA,GAAA,SACA,GAAA,SACA,GAAA,eACA,GAAA,QACA,GAAA,iBACA,GAAA,iBACA,GAAA,WACA,GAAA,cACA,GAAA,QACA,GAAA,OACA,GAAA,kBACA,GAAA,MACA,GAAA,WACA,GAAA,SACA,GAAA,SACA,GAAA,eACA,GAAA,SACA,GAAA,QACA,GAAA,wBACA,GAAA,UACA,GAAA,iBACA,GAAA,oBACA,GAAA,eACA,GAAA,aACC,IAAA,aACA,IAAA,aACA,IAAA,SACA,IAAA,UACA,IAAA,2BACA,IAAA,UACA,IAAA,mBACA,IAAA,gBAGPC,EAAY,CACN,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,KAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,KAAA,OACA,KAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OACA,GAAA,OAC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","file":"main.a79c01ee.js","sourceRoot":"../src","sourcesContent":["// Polyfill for CustomEvent support on IE9+\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n// eslint-disable-next-line no-extra-semi\n;(function () {\n    if (typeof window.CustomEvent === 'function') return false\n\n    function CustomEvent(event, params) {\n        params = params || { bubbles: false, cancelable: false, detail: null }\n        var evt = document.createEvent('CustomEvent')\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n        return evt\n    }\n\n    window.CustomEvent = CustomEvent\n})()\n","function hideElement(element) {\n    element.setAttribute('hidden', '')\n    element.classList.remove('visible')\n}\n\nfunction showElement(element) {\n    element.removeAttribute('hidden')\n    element.classList.add('visible')\n}\n\nfunction hideSelector(element, selector) {\n    // eslint-disable-next-line no-extra-semi\n    ;[].forEach.call(element.querySelectorAll(selector), hideElement)\n}\n\nfunction displayElementById(element, id) {\n    var block = element.querySelector('#' + id)\n    if (!block) return\n    showElement(block)\n}\n\nfunction displayBlocks(element, blockNames) {\n    blockNames.forEach(function (block) {\n        displayElementById(element, block)\n    })\n}\n\nfunction createElementFromHTML(htmlString) {\n    var div = document.createElement('div')\n    div.innerHTML = htmlString.trim()\n    return div.firstElementChild\n}\n\nfunction escapeHtml(str) {\n    return str\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#x27;')\n        .replace(/`/g, '&#x60;')\n}\n\nfunction safeHtml(literals, ...substitutions) {\n    let result = ''\n\n    for (let i = 0; i < substitutions.length; i++) {\n        result += literals[i]\n        result += escapeHtml(substitutions[i])\n    }\n    // add the last literal\n    result += literals[literals.length - 1]\n    return result\n}\n\nmodule.exports = {\n    hideElement,\n    showElement,\n    hideSelector,\n    displayElementById,\n    displayBlocks,\n    createElementFromHTML,\n    safeHtml,\n    escapeHtml,\n}\n","var affichage = require('./affichage.js')\n\nvar getCurrentPageName = function () {\n    var hash = document.location.hash\n    return hash ? hash.slice(1) : ''\n}\n\nvar redirectToUnansweredQuestions = function (page, profil) {\n    if (page === 'introduction') return\n    if (page === 'pediatrie') return\n    if (page === 'conditionsutilisation') return\n    if (page === 'nouvelleversiondisponible') return\n    if (page === 'nom') return\n\n    // Questions obligatoires\n\n    if (typeof profil.departement === 'undefined' && page !== 'residence')\n        return 'residence'\n\n    if (page === 'residence') return\n\n    if (typeof profil.activite_pro === 'undefined' && page !== 'activitepro')\n        return 'activitepro'\n\n    if (page === 'activitepro') return\n\n    if (typeof profil.foyer_enfants === 'undefined' && page !== 'foyer') return 'foyer'\n\n    if (page === 'foyer') return\n\n    if (\n        (typeof profil.age === 'undefined' || profil.age < 15) &&\n        page !== 'caracteristiques'\n    )\n        return 'caracteristiques'\n\n    if (page === 'caracteristiques') return\n\n    if (typeof profil.antecedent_cardio === 'undefined' && page !== 'antecedents')\n        return 'antecedents'\n\n    if (page === 'antecedents') return\n\n    if (typeof profil.symptomes_actuels === 'undefined' && page !== 'symptomesactuels')\n        return 'symptomesactuels'\n\n    if (page === 'symptomesactuels') return\n\n    if (profil.symptomes_actuels === true && !profil.symptomes_actuels_autre)\n        return page === 'conseils' ? undefined : 'conseils'\n\n    if (typeof profil.symptomes_passes === 'undefined' && page !== 'symptomespasses')\n        return 'symptomespasses'\n\n    if (page === 'symptomespasses') return\n\n    if (profil.symptomes_passes === true)\n        return page === 'conseils' ? undefined : 'conseils'\n\n    if (typeof profil.contact_a_risque === 'undefined' && page !== 'contactarisque')\n        return 'contactarisque'\n\n    if (page === 'contactarisque') return\n\n    return page === 'conseils' ? undefined : 'conseils'\n}\n\nvar loadPage = function (pageName, app) {\n    var page = document.querySelector('section#page')\n    var section = document.querySelector('#' + pageName)\n    var clone = section.cloneNode(true)\n    page.innerHTML = '' // Flush the current content.\n    var element = page.insertAdjacentElement('afterbegin', clone.firstElementChild)\n\n    if (app && !app.profil.estMonProfil()) {\n        // eslint-disable-next-line no-extra-semi\n        ;[].forEach.call(element.querySelectorAll('.me'), (meElement) => {\n            affichage.hideElement(meElement)\n            affichage.showElement(meElement.nextSibling)\n        })\n    }\n\n    if (pageName !== 'introduction') {\n        element.scrollIntoView({ behavior: 'smooth' })\n    }\n    return element\n}\n\nmodule.exports = {\n    getCurrentPageName,\n    redirectToUnansweredQuestions,\n    loadPage,\n}\n","var pagination = require('./pagination.js')\nvar affichage = require('./affichage.js')\n\nmodule.exports = function (router) {\n    this.checkForUpdatesEvery = function (intervalInMinutes) {\n        this.checkForUpdate()\n        setInterval(this.checkForUpdate.bind(this), intervalInMinutes * 60 * 1000)\n    }\n\n    this.checkForUpdate = function () {\n        const pageName = pagination.getCurrentPageName()\n        if (pageName === 'nouvelleversiondisponible') {\n            return\n        }\n        const xhr = new XMLHttpRequest()\n        xhr.open('GET', 'version.json?' + new Date().getTime(), true)\n        xhr.setRequestHeader('Cache-Control', 'no-cache')\n        xhr.onload = () => {\n            const jsonResponse = JSON.parse(xhr.responseText)\n            this.updateVersion(jsonResponse.version)\n        }\n        xhr.onerror = () => {\n            console.debug('Impossible de récupérer les informations de mise à jour')\n        }\n        xhr.send()\n    }\n\n    this.currentVersion = null\n\n    this.showBanner = function (document) {\n        const block = document.querySelector('#update-banner')\n        affichage.showElement(block)\n\n        const customDisplayEvent = document.createEvent('CustomEvent')\n        customDisplayEvent.initCustomEvent('show-banner', true, true, block)\n        document.dispatchEvent(customDisplayEvent)\n    }\n\n    this.updateVersion = function (fetchedVersion) {\n        if (this.currentVersion === null || this.currentVersion === fetchedVersion) {\n            this.currentVersion = fetchedVersion\n            return\n        } else {\n            const pageName = pagination.getCurrentPageName()\n            if (this.isFillingQuestionnaire()) {\n                document.addEventListener('show-banner', (event) => {\n                    // Even with an event, we need to wait for the next few\n                    // ticks to be able to scroll to the newly visible element.\n                    setTimeout(() => {\n                        event.detail.scrollIntoView({ behavior: 'smooth' })\n                    }, 100)\n                    const refreshButton = event.detail.querySelector(\n                        '#refresh-button-banner'\n                    )\n                    refreshButton.setAttribute('href', '#' + pageName)\n                    refreshButton.addEventListener(\n                        'click',\n                        this.forceReloadCurrentPageWithHash\n                    )\n                })\n                this.showBanner(document)\n            } else {\n                document.addEventListener(\n                    'pageChanged:nouvelleversiondisponible',\n                    () => {\n                        const refreshButton = document.querySelector(\n                            '#nouvelle-version-disponible-block #refresh-button'\n                        )\n                        refreshButton.setAttribute('href', '#' + pageName)\n                        refreshButton.addEventListener(\n                            'click',\n                            this.forceReloadCurrentPageWithHash\n                        )\n                    }\n                )\n                router.navigate('nouvelleversiondisponible')\n            }\n        }\n    }\n\n    this.forceReloadCurrentPageWithHash = function (event) {\n        event.preventDefault()\n        // We need to go to the page _before_ we reload.\n        // Hence the double reload feeling…\n        window.location = event.target.href\n        window.location.reload(true) // `true` means: reload from server.\n    }\n\n    this.isFillingQuestionnaire = function () {\n        const pageName = pagination.getCurrentPageName()\n        return (\n            pageName === 'residence' ||\n            pageName === 'activitepro' ||\n            pageName === 'foyer' ||\n            pageName === 'caracteristiques' ||\n            pageName === 'antecedents' ||\n            pageName === 'symptomesactuels' ||\n            pageName === 'symptomespasses' ||\n            pageName === 'contactarisque'\n        )\n    }\n}\n","module.exports = {\n    bindImpression: function (element) {\n        var printButton = element.querySelector('.js-impression')\n        printButton.addEventListener('click', function (event) {\n            event.preventDefault()\n            try {\n                window.print()\n            } catch (e) {\n                alert('Cette fonctionnalité n’est pas présente sur votre appareil')\n            }\n        })\n    },\n    bindSuppressionTotale: function (element, app) {\n        element.addEventListener('click', function (event) {\n            event.preventDefault()\n            if (confirm('Êtes-vous sûr·e de vouloir supprimer tous les profils ?')) {\n                app.supprimerTout().then(() => {\n                    if (app.router.lastRouteResolved().url === 'introduction') {\n                        window.location.reload(true)\n                    } else {\n                        app.router.navigate('introduction')\n                    }\n                })\n            }\n        })\n    },\n}\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.7.4\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","// Données privées, stockées uniquement en local\nimport localforage from 'localforage'\n\nclass StockageLocal {\n    constructor() {\n        this.localforage = localforage\n    }\n\n    getProfilActuel() {\n        return localforage.getItem('profil')\n    }\n\n    setProfilActuel(nom) {\n        return localforage.setItem('profil', nom)\n    }\n\n    getProfils() {\n        return localforage\n            .keys()\n            .then((noms) => {\n                return noms.filter((nom) => nom != 'profil')\n            })\n            .then((noms) => {\n                return noms.sort((a) => {\n                    // Make sure we return my profile first.\n                    return a !== 'mes_infos'\n                })\n            })\n    }\n\n    supprimerTout() {\n        return localforage\n            .dropInstance()\n            .then(() => {\n                console.debug('Les données personnelles ont été supprimées')\n            })\n            .catch((error) => {\n                console.error(\n                    `Erreur lors de la suppression de toutes les données personnelles`\n                )\n                console.error(error)\n            })\n    }\n\n    supprimer(nom) {\n        return localforage\n            .removeItem(nom)\n            .then(() => {\n                console.debug(`Les données personnelles ont été supprimées (${nom})`)\n                return\n            })\n            .catch((error) => {\n                console.error(\n                    `Erreur lors de la suppression des données personnelles (${nom})`\n                )\n                console.error(error)\n            })\n    }\n\n    charger(profil) {\n        return localforage\n            .getItem(profil.nom)\n            .then((data) => {\n                if (data !== null) {\n                    console.debug(`Données locales (${profil.nom})`)\n                    console.log(data)\n                    profil.fillData(data)\n                } else {\n                    console.debug(\n                        `Pas de données locales pour l’instant (${profil.nom})`\n                    )\n                    profil.resetData()\n                }\n                return profil\n            })\n            .catch((error) => {\n                console.error(\n                    `Erreur de chargement des données locales (${profil.nom})`\n                )\n                console.error(error)\n            })\n    }\n\n    enregistrer(profil) {\n        return localforage\n            .setItem(profil.nom, profil.getData())\n            .then((data) => {\n                console.debug(\n                    `Les réponses au questionnaire ont bien été enregistrées (${profil.nom})`\n                )\n                console.debug(data)\n            })\n            .catch((error) => {\n                console.error(\n                    `Les réponses au questionnaire n’ont pas pu être enregistrées (${profil.nom})`\n                )\n                console.error(error)\n            })\n    }\n}\n\nmodule.exports = {\n    StockageLocal,\n}\n","var affichage = require('./affichage.js')\n\nclass Profil {\n    constructor(nom) {\n        this.nom = nom\n    }\n\n    resetData(nom) {\n        this.nom = nom\n        this.departement = undefined\n        this.activite_pro = undefined\n        this.activite_pro_public = undefined\n        this.activite_pro_sante = undefined\n        this.foyer_enfants = undefined\n        this.foyer_fragile = undefined\n        this.age = undefined\n        this.grossesse_3e_trimestre = undefined\n        this.poids = undefined\n        this.taille = undefined\n        this.antecedent_cardio = undefined\n        this.antecedent_diabete = undefined\n        this.antecedent_respi = undefined\n        this.antecedent_dialyse = undefined\n        this.antecedent_cancer = undefined\n        this.antecedent_immunodep = undefined\n        this.antecedent_cirrhose = undefined\n        this.antecedent_drepano = undefined\n        this.antecedent_chronique_autre = undefined\n        this.symptomes_actuels = undefined\n        this.symptomes_actuels_temperature = undefined\n        this.symptomes_actuels_temperature_inconnue = undefined\n        this.symptomes_actuels_toux = undefined\n        this.symptomes_actuels_odorat = undefined\n        this.symptomes_actuels_douleurs = undefined\n        this.symptomes_actuels_diarrhee = undefined\n        this.symptomes_actuels_fatigue = undefined\n        this.symptomes_actuels_alimentation = undefined\n        this.symptomes_actuels_souffle = undefined\n        this.symptomes_actuels_autre = undefined\n        this.symptomes_passes = undefined\n        this.contact_a_risque = undefined\n        this.contact_a_risque_meme_lieu_de_vie = undefined\n        this.contact_a_risque_contact_direct = undefined\n        this.contact_a_risque_actes = undefined\n        this.contact_a_risque_espace_confine = undefined\n        this.contact_a_risque_meme_classe = undefined\n        this.contact_a_risque_stop_covid = undefined\n        this.contact_a_risque_autre = undefined\n    }\n\n    fillData(data) {\n        this.departement = data['departement']\n        this.activite_pro = data['activite_pro']\n        this.activite_pro_public = data['activite_pro_public']\n        this.activite_pro_sante = data['activite_pro_sante']\n        this.foyer_enfants = data['foyer_enfants']\n        this.foyer_fragile = data['foyer_fragile']\n        this.age = data['age']\n        this.grossesse_3e_trimestre = data['grossesse_3e_trimestre']\n        this.poids = data['poids']\n        this.taille = data['taille']\n        this.antecedent_cardio = data['antecedent_cardio']\n        this.antecedent_diabete = data['antecedent_diabete']\n        this.antecedent_respi = data['antecedent_respi']\n        this.antecedent_dialyse = data['antecedent_dialyse']\n        this.antecedent_cancer = data['antecedent_cancer']\n        this.antecedent_immunodep = data['antecedent_immunodep']\n        this.antecedent_cirrhose = data['antecedent_cirrhose']\n        this.antecedent_drepano = data['antecedent_drepano']\n        this.antecedent_chronique_autre = data['antecedent_chronique_autre']\n        this.symptomes_actuels = data['symptomes_actuels']\n        this.symptomes_actuels_temperature = data['symptomes_actuels_temperature']\n        this.symptomes_actuels_temperature_inconnue =\n            data['symptomes_actuels_temperature_inconnue']\n        this.symptomes_actuels_toux = data['symptomes_actuels_toux']\n        this.symptomes_actuels_odorat = data['symptomes_actuels_odorat']\n        this.symptomes_actuels_douleurs = data['symptomes_actuels_douleurs']\n        this.symptomes_actuels_diarrhee = data['symptomes_actuels_diarrhee']\n        this.symptomes_actuels_fatigue = data['symptomes_actuels_fatigue']\n        this.symptomes_actuels_alimentation = data['symptomes_actuels_alimentation']\n        this.symptomes_actuels_souffle = data['symptomes_actuels_souffle']\n        this.symptomes_actuels_autre = data['symptomes_actuels_autre']\n        this.symptomes_passes = data['symptomes_passes']\n        this.contact_a_risque = data['contact_a_risque']\n        this.contact_a_risque_meme_lieu_de_vie =\n            data['contact_a_risque_meme_lieu_de_vie']\n        this.contact_a_risque_contact_direct = data['contact_a_risque_contact_direct']\n        this.contact_a_risque_actes = data['contact_a_risque_actes']\n        this.contact_a_risque_espace_confine = data['contact_a_risque_espace_confine']\n        this.contact_a_risque_meme_classe = data['contact_a_risque_meme_classe']\n        this.contact_a_risque_stop_covid = data['contact_a_risque_stop_covid']\n        this.contact_a_risque_autre = data['contact_a_risque_autre']\n    }\n\n    getData() {\n        return {\n            departement: this.departement,\n            activite_pro: this.activite_pro,\n            activite_pro_public: this.activite_pro_public,\n            activite_pro_sante: this.activite_pro_sante,\n            foyer_enfants: this.foyer_enfants,\n            foyer_fragile: this.foyer_fragile,\n            age: this.age,\n            grossesse_3e_trimestre: this.grossesse_3e_trimestre,\n            poids: this.poids,\n            taille: this.taille,\n            antecedent_cardio: this.antecedent_cardio,\n            antecedent_diabete: this.antecedent_diabete,\n            antecedent_respi: this.antecedent_respi,\n            antecedent_dialyse: this.antecedent_dialyse,\n            antecedent_cancer: this.antecedent_cancer,\n            antecedent_immunodep: this.antecedent_immunodep,\n            antecedent_cirrhose: this.antecedent_cirrhose,\n            antecedent_drepano: this.antecedent_drepano,\n            antecedent_chronique_autre: this.antecedent_chronique_autre,\n            symptomes_actuels: this.symptomes_actuels,\n            symptomes_actuels_temperature: this.symptomes_actuels_temperature,\n            symptomes_actuels_temperature_inconnue: this\n                .symptomes_actuels_temperature_inconnue,\n            symptomes_actuels_toux: this.symptomes_actuels_toux,\n            symptomes_actuels_odorat: this.symptomes_actuels_odorat,\n            symptomes_actuels_douleurs: this.symptomes_actuels_douleurs,\n            symptomes_actuels_diarrhee: this.symptomes_actuels_diarrhee,\n            symptomes_actuels_fatigue: this.symptomes_actuels_fatigue,\n            symptomes_actuels_alimentation: this.symptomes_actuels_alimentation,\n            symptomes_actuels_souffle: this.symptomes_actuels_souffle,\n            symptomes_actuels_autre: this.symptomes_actuels_autre,\n            symptomes_passes: this.symptomes_passes,\n            contact_a_risque: this.contact_a_risque,\n            contact_a_risque_meme_lieu_de_vie: this.contact_a_risque_meme_lieu_de_vie,\n            contact_a_risque_contact_direct: this.contact_a_risque_contact_direct,\n            contact_a_risque_actes: this.contact_a_risque_actes,\n            contact_a_risque_espace_confine: this.contact_a_risque_espace_confine,\n            contact_a_risque_meme_classe: this.contact_a_risque_meme_classe,\n            contact_a_risque_stop_covid: this.contact_a_risque_stop_covid,\n            contact_a_risque_autre: this.contact_a_risque_autre,\n        }\n    }\n\n    isEmpty() {\n        return (\n            typeof this.departement === 'undefined' &&\n            typeof this.activite_pro === 'undefined' &&\n            typeof this.activite_pro_public === 'undefined' &&\n            typeof this.activite_pro_sante === 'undefined' &&\n            typeof this.foyer_enfants === 'undefined' &&\n            typeof this.foyer_fragile === 'undefined' &&\n            typeof this.age === 'undefined' &&\n            typeof this.grossesse_3e_trimestre === 'undefined' &&\n            typeof this.poids === 'undefined' &&\n            typeof this.taille === 'undefined' &&\n            typeof this.antecedent_cardio === 'undefined' &&\n            typeof this.antecedent_diabete === 'undefined' &&\n            typeof this.antecedent_respi === 'undefined' &&\n            typeof this.antecedent_dialyse === 'undefined' &&\n            typeof this.antecedent_cancer === 'undefined' &&\n            typeof this.antecedent_immunodep === 'undefined' &&\n            typeof this.antecedent_cirrhose === 'undefined' &&\n            typeof this.antecedent_drepano === 'undefined' &&\n            typeof this.antecedent_chronique_autre === 'undefined' &&\n            typeof this.symptomes_actuels === 'undefined' &&\n            typeof this.symptomes_passes === 'undefined' &&\n            typeof this.contact_a_risque === 'undefined'\n        )\n    }\n\n    isComplete() {\n        return (\n            typeof this.departement !== 'undefined' &&\n            typeof this.activite_pro !== 'undefined' &&\n            typeof this.activite_pro_public !== 'undefined' &&\n            typeof this.activite_pro_sante !== 'undefined' &&\n            typeof this.foyer_enfants !== 'undefined' &&\n            typeof this.foyer_fragile !== 'undefined' &&\n            typeof this.age !== 'undefined' &&\n            this.age >= 15 &&\n            typeof this.grossesse_3e_trimestre !== 'undefined' &&\n            typeof this.poids !== 'undefined' &&\n            typeof this.taille !== 'undefined' &&\n            typeof this.antecedent_cardio !== 'undefined' &&\n            typeof this.antecedent_diabete !== 'undefined' &&\n            typeof this.antecedent_respi !== 'undefined' &&\n            typeof this.antecedent_dialyse !== 'undefined' &&\n            typeof this.antecedent_cancer !== 'undefined' &&\n            typeof this.antecedent_immunodep !== 'undefined' &&\n            typeof this.antecedent_cirrhose !== 'undefined' &&\n            typeof this.antecedent_drepano !== 'undefined' &&\n            typeof this.antecedent_chronique_autre !== 'undefined' &&\n            typeof this.symptomes_actuels !== 'undefined' &&\n            typeof this.symptomes_passes !== 'undefined' &&\n            typeof this.contact_a_risque !== 'undefined'\n        )\n    }\n\n    estMonProfil() {\n        return this.nom == 'mes_infos'\n    }\n\n    affichageNom() {\n        return this.estMonProfil() ? 'Moi' : this.nom\n    }\n\n    renderNom() {\n        return affichage.safeHtml`<h3><span class=\"profil\">${this.affichageNom()}</span></h3>`\n    }\n\n    renderButtons() {\n        const possessifMasculinSingulier = this.estMonProfil() ? 'mon' : 'son'\n        const possessifPluriel = this.estMonProfil() ? 'mes' : 'ses'\n        var mainButton\n        if (this.isComplete()) {\n            const outlined = this.estMonProfil() ? '' : 'button-outline'\n            mainButton = affichage.safeHtml`\n                <a class=\"button ${outlined} conseils-link\"\n                    data-set-profil=\"${this.nom}\" href=\"#conseils\"\n                    >Voir ${possessifPluriel} conseils</a>\n            `\n        } else {\n            var label = this.isEmpty() ? 'Démarrer' : 'Continuer'\n            mainButton = affichage.safeHtml`\n                <a class=\"button button-full-width conseils-link\"\n                    data-set-profil=\"${this.nom}\" href=\"#residence\"\n                    >${label}</a>\n            `\n        }\n        return (\n            mainButton +\n            affichage.safeHtml`\n            <a data-set-profil=\"${this.nom}\" href=\"#residence\"\n                >Modifier ${possessifPluriel} réponses</a>\n            <a data-delete-profil=\"${this.nom}\" href=\"\"\n                >Supprimer ${possessifMasculinSingulier} profil</a>\n            `\n        )\n    }\n\n    renderCard() {\n        return affichage.createElementFromHTML(`\n        <div class=\"card\">\n            ${this.renderNom()}\n            <div>${this.renderButtons()}</div>\n        </div>\n        `)\n    }\n}\n\nmodule.exports = {\n    Profil,\n}\n","function isPushStateAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.history &&\n    window.history.pushState\n  );\n}\n\nfunction Navigo(r, useHash, hash) {\n  this.root = null;\n  this._routes = [];\n  this._useHash = useHash;\n  this._hash = typeof hash === 'undefined' ? '#' : hash;\n  this._paused = false;\n  this._destroyed = false;\n  this._lastRouteResolved = null;\n  this._notFoundHandler = null;\n  this._defaultHandler = null;\n  this._usePushState = !useHash && isPushStateAvailable();\n  this._onLocationChange = this._onLocationChange.bind(this);\n  this._genericHooks = null;\n  this._historyAPIUpdateMethod = 'pushState';\n\n  if (r) {\n    this.root = useHash ? r.replace(/\\/$/, '/' + this._hash) : r.replace(/\\/$/, '');\n  } else if (useHash) {\n    this.root = this._cLoc().split(this._hash)[0].replace(/\\/$/, '/' + this._hash);\n  }\n\n  this._listen();\n  this.updatePageLinks();\n}\n\nfunction clean(s) {\n  if (s instanceof RegExp) return s;\n  return s.replace(/\\/+$/, '').replace(/^\\/+/, '^/');\n}\n\nfunction regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match\n    .slice(1, match.length)\n    .reduce((params, value, index) => {\n      if (params === null) params = {};\n      params[names[index]] = decodeURIComponent(value);\n      return params;\n    }, null);\n}\n\nfunction replaceDynamicURLParts(route) {\n  var paramNames = [], regexp;\n\n  if (route instanceof RegExp) {\n    regexp = route;\n  } else {\n    regexp = new RegExp(\n      route.replace(Navigo.PARAMETER_REGEXP, function (full, dots, name) {\n        paramNames.push(name);\n        return Navigo.REPLACE_VARIABLE_REGEXP;\n      })\n        .replace(Navigo.WILDCARD_REGEXP, Navigo.REPLACE_WILDCARD) + Navigo.FOLLOWED_BY_SLASH_REGEXP\n      , Navigo.MATCH_REGEXP_FLAGS);\n  }\n  return { regexp, paramNames };\n}\n\nfunction getUrlDepth(url) {\n  return url.replace(/\\/$/, '').split('/').length;\n}\n\nfunction compareUrlDepth(urlA, urlB) {\n  return getUrlDepth(urlB) - getUrlDepth(urlA);\n}\n\nfunction findMatchedRoutes(url, routes = []) {\n  return routes\n    .map(route => {\n      var { regexp, paramNames } = replaceDynamicURLParts(clean(route.route));\n      var match = url.replace(/^\\/+/, '/').match(regexp);\n      var params = regExpResultToParams(match, paramNames);\n\n      return match ? { match, route, params } : false;\n    })\n    .filter(m => m);\n}\n\nfunction match(url, routes) {\n  return findMatchedRoutes(url, routes)[0] || false;\n}\n\nfunction root(url, routes) {\n  var matched = routes.map(\n    route => route.route === '' || route.route === '*' ? url : url.split(new RegExp(route.route + '($|\\/)'))[0]\n  );\n  var fallbackURL = clean(url);\n\n  if (matched.length > 1) {\n    return matched.reduce((result, url) => {\n      if (result.length > url.length) result = url;\n      return result;\n    }, matched[0]);\n  } else if (matched.length === 1) {\n    return matched[0];\n  }\n  return fallbackURL;\n}\n\nfunction isHashChangeAPIAvailable() {\n  return typeof window !== 'undefined' && 'onhashchange' in window;\n}\n\nfunction extractGETParameters(url) {\n  return url.split(/\\?(.*)?$/).slice(1).join('');\n}\n\nfunction getOnlyURL(url, useHash, hash) {\n  var onlyURL = url, split;\n  var cleanGETParam = str => str.split(/\\?(.*)?$/)[0];\n\n  if (typeof hash === 'undefined') {\n    // To preserve BC\n    hash = '#';\n  }\n\n  if (isPushStateAvailable() && !useHash) {\n    onlyURL = cleanGETParam(url).split(hash)[0];\n  } else {\n    split = url.split(hash);\n    onlyURL = split.length > 1 ? cleanGETParam(split[1]) : cleanGETParam(split[0]);\n  }\n\n  return onlyURL;\n}\n\nfunction manageHooks(handler, hooks, params) {\n  if (hooks && typeof hooks === 'object') {\n    if (hooks.before) {\n      hooks.before((shouldRoute = true) => {\n        if (!shouldRoute) return;\n        handler();\n        hooks.after && hooks.after(params);\n      }, params);\n      return;\n    } else if (hooks.after) {\n      handler();\n      hooks.after && hooks.after(params);\n      return;\n    }\n  }\n  handler();\n}\n\nfunction isHashedRoot(url, useHash, hash) {\n  if (isPushStateAvailable() && !useHash) {\n    return false;\n  }\n\n  if (!url.match(hash)) {\n    return false;\n  }\n\n  let split = url.split(hash);\n\n  return split.length < 2 || split[1] === '';\n}\n\nNavigo.prototype = {\n  helpers: {\n    match,\n    root,\n    clean,\n    getOnlyURL\n  },\n  navigate: function (path, absolute) {\n    var to;\n\n    path = path || '';\n    if (this._usePushState) {\n      to = (!absolute ? this._getRoot() + '/' : '') + path.replace(/^\\/+/, '/');\n      to = to.replace(/([^:])(\\/{2,})/g, '$1/');\n      history[this._historyAPIUpdateMethod]({}, '', to);\n      this.resolve();\n    } else if (typeof window !== 'undefined') {\n      path = path.replace(new RegExp('^' + this._hash), '');\n      window.location.href =\n        window.location.href\n          .replace(/#$/, '')\n          .replace(new RegExp(this._hash + '.*$'), '') + this._hash + path;\n    }\n    return this;\n  },\n  on: function (...args) {\n    if (typeof args[0] === 'function') {\n      this._defaultHandler = { handler: args[0], hooks: args[1] };\n    } else if (args.length >= 2) {\n      if (args[0] === '/') {\n        let func = args[1];\n\n        if (typeof args[1] === 'object') {\n          func = args[1].uses;\n        }\n\n        this._defaultHandler = { handler: func, hooks: args[2] };\n      } else {\n        this._add(args[0], args[1], args[2]);\n      }\n    } else if (typeof args[0] === 'object') {\n      let orderedRoutes = Object.keys(args[0]).sort(compareUrlDepth);\n\n      orderedRoutes.forEach(route => {\n        this.on(route, args[0][route]);\n      });\n    }\n    return this;\n  },\n  off: function (handler) {\n    if (this._defaultHandler !== null && handler === this._defaultHandler.handler) {\n      this._defaultHandler = null;\n    } else if (this._notFoundHandler !== null && handler === this._notFoundHandler.handler) {\n      this._notFoundHandler = null;\n    }\n    this._routes = this._routes.reduce((result, r) => {\n      if (r.handler !== handler) result.push(r);\n      return result;\n    }, []);\n    return this;\n  },\n  notFound: function (handler, hooks) {\n    this._notFoundHandler = { handler, hooks: hooks };\n    return this;\n  },\n  resolve: function (current) {\n    var handler, m;\n    var url = (current || this._cLoc()).replace(this._getRoot(), '');\n\n    if (this._useHash) {\n      url = url.replace(new RegExp('^\\/' + this._hash), '/');\n    }\n\n    let GETParameters = extractGETParameters(current || this._cLoc());\n    let onlyURL = getOnlyURL(url, this._useHash, this._hash);\n\n    if (this._paused) return false;\n\n    if (\n      this._lastRouteResolved &&\n        onlyURL === this._lastRouteResolved.url &&\n        GETParameters === this._lastRouteResolved.query\n    ) {\n      if (this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.already) {\n        this._lastRouteResolved.hooks.already(this._lastRouteResolved.params);\n      }\n      return false;\n    }\n\n    m = match(onlyURL, this._routes);\n\n    if (m) {\n      this._callLeave();\n      this._lastRouteResolved = {\n        url: onlyURL,\n        query: GETParameters,\n        hooks: m.route.hooks,\n        params: m.params,\n        name: m.route.name\n      };\n      handler = m.route.handler;\n      manageHooks(() => {\n        manageHooks(() => {\n          m.route.route instanceof RegExp ?\n            handler(...(m.match.slice(1, m.match.length))) :\n            handler(m.params, GETParameters);\n        }, m.route.hooks, m.params, this._genericHooks);\n      }, this._genericHooks, m.params);\n      return m;\n    } else if (this._defaultHandler && (\n      onlyURL === '' ||\n        onlyURL === '/' ||\n        onlyURL === this._hash ||\n        isHashedRoot(onlyURL, this._useHash, this._hash)\n    )) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._defaultHandler.hooks };\n          this._defaultHandler.handler(GETParameters);\n        }, this._defaultHandler.hooks);\n      }, this._genericHooks);\n      return true;\n    } else if (this._notFoundHandler) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._notFoundHandler.hooks };\n          this._notFoundHandler.handler(GETParameters);\n        }, this._notFoundHandler.hooks);\n      }, this._genericHooks);\n    }\n    return false;\n  },\n  destroy: function () {\n    this._routes = [];\n    this._destroyed = true;\n    this._lastRouteResolved = null;\n    this._genericHooks = null;\n    clearTimeout(this._listeningInterval);\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this._onLocationChange);\n      window.removeEventListener('hashchange', this._onLocationChange);\n    }\n  },\n  updatePageLinks: function () {\n    var self = this;\n\n    if (typeof document === 'undefined') return;\n\n    this._findLinks().forEach(link => {\n      if (!link.hasListenerAttached) {\n        link.addEventListener('click', function (e) {\n          if((e.ctrlKey || e.metaKey) && e.target.tagName.toLowerCase() == 'a'){ return false; }\n          var location = self.getLinkPath(link);\n\n          if (!self._destroyed) {\n            e.preventDefault();\n            self.navigate(location.replace(/\\/+$/, '').replace(/^\\/+/, '/'));\n          }\n        });\n        link.hasListenerAttached = true;\n      }\n    });\n  },\n  generate: function (name, data = {}) {\n    var result = this._routes.reduce((result, route) => {\n      var key;\n\n      if (route.name === name) {\n        result = route.route;\n        for (key in data) {\n          result = result.toString().replace(':' + key, data[key]);\n        }\n      }\n      return result;\n    }, '');\n\n    return this._useHash ? this._hash + result : result;\n  },\n  link: function (path) {\n    return this._getRoot() + path;\n  },\n  pause: function (status = true) {\n    this._paused = status;\n    if (status) {\n      this._historyAPIUpdateMethod = 'replaceState';\n    } else {\n      this._historyAPIUpdateMethod = 'pushState';\n    }\n  },\n  resume: function () {\n    this.pause(false);\n  },\n  historyAPIUpdateMethod: function (value) {\n    if (typeof value === 'undefined') return this._historyAPIUpdateMethod;\n    this._historyAPIUpdateMethod = value;\n    return value;\n  },\n  disableIfAPINotAvailable: function () {\n    if (!isPushStateAvailable()) {\n      this.destroy();\n    }\n  },\n  lastRouteResolved() {\n    return this._lastRouteResolved;\n  },\n  getLinkPath(link) {\n    return link.getAttribute('href');\n  },\n  hooks(hooks) {\n    this._genericHooks = hooks;\n  },\n  _add: function (route, handler = null, hooks = null) {\n    if (typeof route === 'string') {\n      route = encodeURI(route);\n    }\n    this._routes.push(\n      typeof handler === 'object' ? {\n        route,\n        handler: handler.uses,\n        name: handler.as,\n        hooks: hooks || handler.hooks\n      } : { route, handler, hooks: hooks }\n    );\n\n    return this._add;\n  },\n  _getRoot: function () {\n    if (this.root !== null) return this.root;\n    this.root = root(this._cLoc().split('?')[0], this._routes);\n    return this.root;\n  },\n  _listen: function () {\n    if (this._usePushState) {\n      window.addEventListener('popstate', this._onLocationChange);\n    } else if (isHashChangeAPIAvailable()) {\n      window.addEventListener('hashchange', this._onLocationChange);\n    } else {\n      let cached = this._cLoc(), current, check;\n\n      check = () => {\n        current = this._cLoc();\n        if (cached !== current) {\n          cached = current;\n          this.resolve();\n        }\n        this._listeningInterval = setTimeout(check, 200);\n      };\n      check();\n    }\n  },\n  _cLoc: function () {\n    if (typeof window !== 'undefined') {\n      if (typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__ !== 'undefined') {\n        return window.__NAVIGO_WINDOW_LOCATION_MOCK__;\n      }\n      return clean(window.location.href);\n    }\n    return '';\n  },\n  _findLinks: function () {\n    return [].slice.call(document.querySelectorAll('[data-navigo]'));\n  },\n  _onLocationChange: function () {\n    this.resolve();\n  },\n  _callLeave() {\n    const lastRouteResolved = this._lastRouteResolved;\n\n    if (lastRouteResolved && lastRouteResolved.hooks && lastRouteResolved.hooks.leave) {\n      lastRouteResolved.hooks.leave(lastRouteResolved.params);\n    }\n  }\n};\n\nNavigo.PARAMETER_REGEXP = /([:*])(\\w+)/g;\nNavigo.WILDCARD_REGEXP = /\\*/g;\nNavigo.REPLACE_VARIABLE_REGEXP = '([^\\/]+)';\nNavigo.REPLACE_WILDCARD = '(?:.*)';\nNavigo.FOLLOWED_BY_SLASH_REGEXP = '(?:\\/$|$)';\nNavigo.MATCH_REGEXP_FLAGS = '';\n\nexport default Navigo;\n","import { Profil } from './profil.js'\nimport affichage from './affichage.js'\nimport pagination from './pagination.js'\n\nfunction page(element, app) {\n    const container = element.querySelector('#profils-cards')\n    container.innerHTML = '<div class=\"break\"></div>'\n    app.stockage.getProfils().then((noms) => {\n        if (noms.length) {\n            affichage.hideElement(element.querySelector('.js-intro'))\n        }\n        if (noms.indexOf('mes_infos') === -1) {\n            const card = container.appendChild(\n                affichage.createElementFromHTML(`\n                    <div class=\"profil-card card\">\n                        <h3><span class=\"nouveau-profil\">Pour moi</span></h3>\n                        <div class=\"form-controls\">\n                            <a class=\"button button-full-width\"\n                                data-set-profil=\"mes_infos\" href=\"#residence\"\n                                >Démarrer</a>\n                        </div>\n                    </div>\n                `)\n            )\n            bindCreateProfil(card.querySelector('[data-set-profil]'), app)\n        }\n        container.appendChild(\n            affichage.createElementFromHTML(`\n                <div class=\"profil-card card\">\n                    <h3><span class=\"nouveau-profil\">Pour un proche</span></h3>\n                    <div class=\"form-controls\">\n                        <a class=\"button button-full-width js-profil-new\"\n                            href=\"#nom\"\n                            >Démarrer</a>\n                    </div>\n                </div>\n            `)\n        )\n        renderProfilCards(container, noms, app)\n    })\n}\n\nfunction renderProfilCards(container, noms, app) {\n    const lastCard = container.firstChild\n    noms.forEach((nom) => {\n        const profil = new Profil(nom)\n        app.stockage.charger(profil).then((profil) => {\n            const card = container.insertBefore(profil.renderCard(), lastCard)\n\n            const conseilsLink = card.querySelector('.conseils-link')\n            if (conseilsLink) {\n                const target = pagination.redirectToUnansweredQuestions(\n                    'findCorrectExit',\n                    profil\n                )\n                conseilsLink.setAttribute('href', '#' + target)\n            }\n\n            const profilLinks = card.querySelectorAll('[data-set-profil]')\n            ;[].forEach.call(profilLinks, (profilLink) => {\n                bindChangeProfil(profilLink, app)\n            })\n\n            bindSuppression(card.querySelector('[data-delete-profil]'), app)\n        })\n    })\n}\n\nfunction bindCreateProfil(element, app) {\n    return _bindFunc(element, app, app.creerProfil.bind(app))\n}\n\nfunction bindChangeProfil(element, app) {\n    return _bindFunc(element, app, app.basculerVersProfil.bind(app))\n}\n\nfunction _bindFunc(element, app, func) {\n    element.addEventListener('click', function (event) {\n        event.preventDefault()\n        func(element.dataset.setProfil).then(() => {\n            var url = new URL(event.target.href)\n            app.router.navigate(url.hash)\n        })\n    })\n}\n\nfunction bindSuppression(element, app) {\n    element.addEventListener('click', function (event) {\n        event.preventDefault()\n        const nom = element.dataset.deleteProfil\n        const description = nom === 'mes_infos' ? 'votre profil' : `le profil de ${nom}`\n        if (confirm(`Êtes-vous sûr·e de vouloir supprimer ${description} ?`)) {\n            app.supprimerProfil(nom).then(() => {\n                app.chargerProfilActuel().then(() => {\n                    // TODO: find a clever way to re-render the current page.\n                    window.location.reload(true)\n                })\n            })\n        }\n    })\n}\n\nmodule.exports = { page }\n","// Carte des départements (vert / orange)\nvar dateMiseAJour = '2020-05-28'\n\nvar _noms = {\n    '01': 'Ain',\n    '02': 'Aisne',\n    '03': 'Allier',\n    '05': 'Hautes-Alpes',\n    '04': 'Alpes-de-Haute-Provence',\n    '06': 'Alpes-Maritimes',\n    '07': 'Ardèche',\n    '08': 'Ardennes',\n    '09': 'Ariège',\n    '10': 'Aube',\n    '11': 'Aude',\n    '12': 'Aveyron',\n    '13': 'Bouches-du-Rhône',\n    '14': 'Calvados',\n    '15': 'Cantal',\n    '16': 'Charente',\n    '17': 'Charente-Maritime',\n    '18': 'Cher',\n    '19': 'Corrèze',\n    '2A': 'Corse-du-sud',\n    '2B': 'Haute-corse',\n    '21': 'Côte-d’or',\n    '22': 'Côtes-d’armor',\n    '23': 'Creuse',\n    '24': 'Dordogne',\n    '25': 'Doubs',\n    '26': 'Drôme',\n    '27': 'Eure',\n    '28': 'Eure-et-Loir',\n    '29': 'Finistère',\n    '30': 'Gard',\n    '31': 'Haute-Garonne',\n    '32': 'Gers',\n    '33': 'Gironde',\n    '34': 'Hérault',\n    '35': 'Ile-et-Vilaine',\n    '36': 'Indre',\n    '37': 'Indre-et-Loire',\n    '38': 'Isère',\n    '39': 'Jura',\n    '40': 'Landes',\n    '41': 'Loir-et-Cher',\n    '42': 'Loire',\n    '43': 'Haute-Loire',\n    '44': 'Loire-Atlantique',\n    '45': 'Loiret',\n    '46': 'Lot',\n    '47': 'Lot-et-Garonne',\n    '48': 'Lozère',\n    '49': 'Maine-et-Loire',\n    '50': 'Manche',\n    '51': 'Marne',\n    '52': 'Haute-Marne',\n    '53': 'Mayenne',\n    '54': 'Meurthe-et-Moselle',\n    '55': 'Meuse',\n    '56': 'Morbihan',\n    '57': 'Moselle',\n    '58': 'Nièvre',\n    '59': 'Nord',\n    '60': 'Oise',\n    '61': 'Orne',\n    '62': 'Pas-de-Calais',\n    '63': 'Puy-de-Dôme',\n    '64': 'Pyrénées-Atlantiques',\n    '65': 'Hautes-Pyrénées',\n    '66': 'Pyrénées-Orientales',\n    '67': 'Bas-Rhin',\n    '68': 'Haut-Rhin',\n    '69': 'Rhône',\n    '70': 'Haute-Saône',\n    '71': 'Saône-et-Loire',\n    '72': 'Sarthe',\n    '73': 'Savoie',\n    '74': 'Haute-Savoie',\n    '75': 'Paris',\n    '76': 'Seine-Maritime',\n    '77': 'Seine-et-Marne',\n    '78': 'Yvelines',\n    '79': 'Deux-Sèvres',\n    '80': 'Somme',\n    '81': 'Tarn',\n    '82': 'Tarn-et-Garonne',\n    '83': 'Var',\n    '84': 'Vaucluse',\n    '85': 'Vendée',\n    '86': 'Vienne',\n    '87': 'Haute-Vienne',\n    '88': 'Vosges',\n    '89': 'Yonne',\n    '90': 'Territoire de Belfort',\n    '91': 'Essonne',\n    '92': 'Hauts-de-Seine',\n    '93': 'Seine-Saint-Denis',\n    '94': 'Val-de-Marne',\n    '95': 'Val-d’oise',\n    '971': 'Guadeloupe',\n    '972': 'Martinique',\n    '973': 'Guyane',\n    '974': 'Réunion',\n    '975': 'Saint-Pierre-et-Miquelon',\n    '976': 'Mayotte',\n    '977': 'Saint-Barthélemy',\n    '978': 'Saint-Martin',\n}\n\nvar _couleurs = {\n    '01': 'vert',\n    '02': 'vert',\n    '03': 'vert',\n    '04': 'vert',\n    '05': 'vert',\n    '06': 'vert',\n    '07': 'vert',\n    '08': 'vert',\n    '09': 'vert',\n    '10': 'vert',\n    '11': 'vert',\n    '12': 'vert',\n    '13': 'vert',\n    '14': 'vert',\n    '15': 'vert',\n    '16': 'vert',\n    '17': 'vert',\n    '18': 'vert',\n    '19': 'vert',\n    '21': 'vert',\n    '22': 'vert',\n    '23': 'vert',\n    '24': 'vert',\n    '25': 'vert',\n    '26': 'vert',\n    '27': 'vert',\n    '28': 'vert',\n    '29': 'vert',\n    '2A': 'vert',\n    '2B': 'vert',\n    '30': 'vert',\n    '31': 'vert',\n    '32': 'vert',\n    '33': 'vert',\n    '34': 'vert',\n    '35': 'vert',\n    '36': 'vert',\n    '37': 'vert',\n    '38': 'vert',\n    '39': 'vert',\n    '40': 'vert',\n    '41': 'vert',\n    '42': 'vert',\n    '43': 'vert',\n    '44': 'vert',\n    '45': 'vert',\n    '46': 'vert',\n    '47': 'vert',\n    '48': 'vert',\n    '49': 'vert',\n    '50': 'vert',\n    '51': 'vert',\n    '52': 'vert',\n    '53': 'vert',\n    '54': 'vert',\n    '55': 'vert',\n    '56': 'vert',\n    '57': 'vert',\n    '58': 'vert',\n    '59': 'vert',\n    '60': 'vert',\n    '61': 'vert',\n    '62': 'vert',\n    '63': 'vert',\n    '64': 'vert',\n    '65': 'vert',\n    '66': 'vert',\n    '67': 'vert',\n    '68': 'vert',\n    '69': 'vert',\n    '70': 'vert',\n    '71': 'vert',\n    '72': 'vert',\n    '73': 'vert',\n    '74': 'vert',\n    '75': 'vert',\n    '76': 'vert',\n    '77': 'vert',\n    '78': 'vert',\n    '79': 'vert',\n    '80': 'vert',\n    '81': 'vert',\n    '82': 'vert',\n    '83': 'vert',\n    '84': 'vert',\n    '85': 'vert',\n    '86': 'vert',\n    '87': 'vert',\n    '88': 'vert',\n    '89': 'vert',\n    '90': 'vert',\n    '91': 'vert',\n    '92': 'vert',\n    '93': 'vert',\n    '94': 'vert',\n    '95': 'vert',\n    '971': 'vert',\n    '972': 'vert',\n    '973': 'orange',\n    '974': 'vert',\n    '976': 'orange',\n}\n\nvar _liens_prefectures = {\n    '01': 'http://www.ain.gouv.fr/strategie-locale-de-deconfinement-a6156.html',\n    '02': 'http://www.aisne.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '03': 'http://www.allier.gouv.fr/strategie-locale-de-deconfinement-a2967.html',\n    '04':\n        'http://www.alpes-de-haute-provence.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '05':\n        'http://www.hautes-alpes.gouv.fr/strategie-locale-de-deconfinement-a7932.html',\n    '06':\n        'http://www.alpes-maritimes.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '07': 'http://www.ardeche.gouv.fr/strategie-locale-de-deconfinement-a9810.html',\n    '08': 'http://www.ardennes.gouv.fr/strategie-locale-de-deconfinement-a3016.html',\n    '09': 'http://www.ariege.gouv.fr/Actualites/Plan-de-deconfinement',\n    '10': 'https://www.aube.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '11': 'http://www.aude.gouv.fr/strategie-locale-de-deconfinement-a11212.html',\n    '12': 'http://www.aveyron.gouv.fr/strategie-locale-de-deconfinement-a7183.html',\n    '13':\n        'http://www.bouches-du-rhone.gouv.fr/Actualites/A-la-Une/Actualites-COVID-19/Covid-19-Strategie-locale-de-deconfinement',\n    '14': 'http://www.calvados.gouv.fr/strategie-locale-de-deconfinement-r1962.html',\n    '15': 'http://www.cantal.gouv.fr/strategie-locale-de-deconfinement-a6525.html',\n    '16': 'http://www.charente.gouv.fr/deconfinement',\n    '17':\n        'http://www.charente-maritime.gouv.fr/Politiques-publiques/Securite/Securite-sanitaire/COVID19-Strategie-locale-de-deconfinement',\n    '18': 'http://www.cher.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '19':\n        'http://www.correze.gouv.fr/Politiques-publiques/Sante/Strategie-locale-de-deconfinement',\n    '21': 'http://www.cote-dor.gouv.fr/strategie-locale-de-deconfinement-a8876.html',\n    '22':\n        'http://www.cotes-darmor.gouv.fr/Politiques-publiques/Sante/Covid-19/Mesures-pour-le-deconfinement',\n    '23':\n        'http://www.creuse.gouv.fr/Actualites/Covid-19/Strategie-locale-de-deconfinement',\n    '24':\n        'http://www.dordogne.gouv.fr/Politiques-publiques/Sante-solidarite-et-cohesion-sociale/Informations-coronavirus-COVID19/COVID-19-Strategie-locale-de-deconfinement',\n    '25':\n        'http://www.doubs.gouv.fr/Actualites/Actualites-2020/COVID19-Strategie-locale-de-deconfinement',\n    '26':\n        'http://www.drome.gouv.fr/strategie-locale-de-deconfinement-en-drome-a7414.html',\n    '27':\n        'http://www.eure.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19/Strategie-locale-de-deconfinement',\n    '28':\n        'http://www.eure-et-loir.gouv.fr/Actualites/Annee-2020/INFORMATIONS-CORONAVIRUS-COVID-19/Strategie-nationale-et-locale-du-plan-de-deconfinement/Strategie-locale-de-deconfinement',\n    '29': 'http://www.finistere.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '2A':\n        'http://www.corse-du-sud.gouv.fr/strategie-locale-de-deconfinement-a2375.html',\n    '2B': 'http://www.haute-corse.gouv.fr/strategie-locale-de-deconfinement-a3331.html',\n    '30': 'http://www.gard.gouv.fr/Actualites/Strategie-de-deconfinement',\n    '31': 'http://www.haute-garonne.gouv.fr/Deconfinement',\n    '32':\n        'http://www.gers.gouv.fr/Actualites/Dossiers-d-actualite/COVID-19-Deconfinement',\n    '33':\n        'http://www.gironde.gouv.fr/Actualites/Breves/Strategie-locale-de-deconfinement.',\n    '34':\n        'http://www.herault.gouv.fr/Actualites/INFOS/Covid19-Strategie-locale-de-deconfinement',\n    '35': 'http://www.ille-et-vilaine.gouv.fr/deconfinement',\n    '36':\n        'http://www.indre.gouv.fr/Politiques-publiques/Securite-et-protection-de-la-population/COVID-19/Strategie-locale-de-deconfinement',\n    '37':\n        'http://www.indre-et-loire.gouv.fr/Actualites/COVID-19-Strategie-locale-de-deconfinement',\n    '38':\n        'http://www.isere.gouv.fr/Politiques-publiques/Risques/Risques-sanitaires/Covid-19/Strategie-locale-de-deconfinement',\n    '39': 'http://www.jura.gouv.fr/Actualites/Breves/Strategie-locale-de-deconfinement',\n    '40': 'http://www.landes.gouv.fr/strategie-locale-de-deconfinement-a5921.html',\n    '41':\n        'http://www.loir-et-cher.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '42':\n        'http://www.loire.gouv.fr/coronavirus-covid19-strategie-de-deconfinement-a7474.html',\n    '43':\n        'http://www.haute-loire.gouv.fr/covid-19-strategie-de-deconfinement-a3212.html',\n    '44':\n        'http://www.loire-atlantique.gouv.fr/Actualites/COVID-19-Point-sur-la-situation-en-Loire-Atlantique/Covid-19-strategie-locale-de-deconfinement',\n    '45': 'http://www.loiret.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '46': 'http://www.lot.gouv.fr/strategie-locale-de-deconfinement-a12917.html',\n    '47':\n        'http://www.lot-et-garonne.gouv.fr/strategie-locale-de-deconfinement-a6330.html',\n    '48':\n        'http://www.lozere.gouv.fr/Actualites/Actualites-des-services/2020/Mai/Strategie-locale-de-deconfinement',\n    '49':\n        'http://www.maine-et-loire.gouv.fr/coronavirus-covid-19-strategie-de-deconfinement-a6929.html',\n    '50':\n        'http://www.manche.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19/Strategie-locale-de-deconfinement',\n    '51':\n        'http://www.marne.gouv.fr/Actualites/Infos/Coronavirus-COVID-19/Strategie-locale-du-plan-de-deconfinement',\n    '52':\n        'http://www.haute-marne.gouv.fr/Politiques-publiques/Securite/Securite-sanitaire/Strategie-locale-de-deconfinement',\n    '53':\n        'http://www.mayenne.gouv.fr/Politiques-publiques/Sante/Coronavirus-COVID-19-Informations-recommandations-et-mesures-sanitaires/Strategie-de-deconfinement/Strategie-de-deconfinement',\n    '54':\n        'http://www.meurthe-et-moselle.gouv.fr/Politiques-publiques/Securite-et-protection-de-la-population/Coronavirus-COVID-19/Strategie-locale-de-deconfinement/Strategie-locale-de-deconfinement',\n    '55':\n        'http://www.meuse.gouv.fr/Actualites/Mesures-relatives-a-la-lutte-contre-le-virus-Covid-19/Strategie-locale-de-deconfinement',\n    '56':\n        'http://www.morbihan.gouv.fr/Actualites/Actus/Le-Morbihan-face-au-Coronavirus-Covid19/Deconfinement/Strategie-locale-de-deconfinement',\n    '57':\n        'http://www.seine-et-marne.gouv.fr/Actualites/Actualite-du-prefet/Presentation-des-grands-axes-du-plan-de-deconfinement-a-compter-du-11-mai-2020',\n    '58': 'http://www.nievre.gouv.fr/strategie-locale-de-deconfinement-a4734.html',\n    '59':\n        'http://www.nord.gouv.fr/Actualites/Actualites/Covid-19-Strategie-locale-de-deconfinement',\n    '60':\n        'http://www.oise.gouv.fr/Actualites/Coronavirus-mesures-applicables-dans-le-departement-de-l-Oise',\n    '61':\n        'http://www.orne.gouv.fr/point-de-situation-de-la-semaine-en-cours-a10153.html',\n    '62':\n        'http://www.pas-de-calais.gouv.fr/Actualites/Actualites/Strategie-locale-de-deconfinement',\n    '63': 'http://www.puy-de-dome.gouv.fr/strategie-locale-de-deconfinement-a8240.html',\n    '64':\n        'http://www.pyrenees-atlantiques.gouv.fr/Politiques-publiques/Securite/Gestion-de-crise/COVID-19-Strategie-de-deconfinement',\n    '65':\n        'http://www.hautes-pyrenees.gouv.fr/strategie-locale-de-deconfinement-a5451.html',\n    '66':\n        'http://www.pyrenees-orientales.gouv.fr/Actualites/Coronavirus-Covid-19/Strategie-locale-de-deconfinement-dans-les-Pyrenees-Orientales',\n    '67':\n        'http://www.bas-rhin.gouv.fr/Actualites/Sante/Strategie-locale-de-deconfinement',\n    '68':\n        'http://www.haut-rhin.gouv.fr/Actualites/Actualites-du-Prefet-et-des-Sous-Prefets/Strategie-locale-de-deconfinement',\n    '69': 'http://www.rhone.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '70':\n        'http://www.haute-saone.gouv.fr/Politiques-publiques/Sante/Coronavirus/Deconfinement/Strategie-locale-de-deconfinement',\n    '71':\n        'http://www.saone-et-loire.gouv.fr/strategie-locale-de-deconfinement-a12500.html',\n    '72':\n        'http://www.sarthe.gouv.fr/covid-19-strategie-locale-de-deconfinement-a4720.html',\n    '73':\n        'http://www.savoie.gouv.fr/Actualites/Actualites/Strategie-locale-de-deconfinement',\n    '74':\n        'http://www.haute-savoie.gouv.fr/Actualites/Actualites/Coronavirus-Covid-19/Strategie-nationale-locale-du-plan-de-deconfinement',\n    '75':\n        'https://www.prefectures-regions.gouv.fr/ile-de-france/Actualites/Strategie-locale-de-deconfinement',\n    '76':\n        'http://www.seine-maritime.gouv.fr/Actualites/COVID-19/Covid-19-Strategie-de-deconfinement-progressif-Economie-Ecoles-Informations-Reglementation',\n    '77':\n        'http://www.seine-et-marne.gouv.fr/Actualites/Actualite-du-prefet/Presentation-des-grands-axes-du-plan-de-deconfinement-a-compter-du-11-mai-2020',\n    '78':\n        'http://www.yvelines.gouv.fr/Actualites/Strategie-locale-de-deconfinement-dans-les-Yvelines',\n    '79':\n        'http://www.deux-sevres.gouv.fr/Actualites/Coronavirus-Covid-19/Strategie-locale-de-deconfinement',\n    '80':\n        'http://www.somme.gouv.fr/Actualites/Strategie-locale-du-plan-de-deconfinement',\n    '81': 'http://www.tarn.gouv.fr/coronavirus-deconfinement-a8446.html',\n    '82':\n        'http://www.tarn-et-garonne.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '83': 'http://www.var.gouv.fr/strategie-locale-de-deconfinement-a8545.html',\n    '84': 'http://www.vaucluse.gouv.fr/strategie-locale-de-deconfinement-a13170.html',\n    '85':\n        'http://www.vendee.gouv.fr/covid-19-coronavirus-strategie-locale-de-a3396.html',\n    '86': 'http://www.vienne.gouv.fr/Actualites/Coronavirus-Covid19-deconfinement',\n    '87':\n        'http://www.haute-vienne.gouv.fr/Actualites/COVID-19-le-deconfinement-en-Haute-Vienne/Strategie-locale-de-deconfinement',\n    '88':\n        'http://www.vosges.gouv.fr/Actualites/Coronavirus-Covid-19/Deconfinement/Strategie-locale-de-deconfinement',\n    '89':\n        'http://www.yonne.gouv.fr/Actualites/COVID-19-Coronavirus-toutes-les-informations/Strategie-locale-de-deconfinement',\n    '90':\n        'http://www.territoire-de-belfort.gouv.fr/Politiques-publiques/Sante-Solidarites-et-cohesion-sociale/Coronavirus-COVID-19/Deconfinement/Strategie-locale-de-deconfinemen',\n    '91':\n        'http://www.essonne.gouv.fr/Actualites/Coronavirus-Strategie-locale-de-deconfinement',\n    '92':\n        'http://www.hauts-de-seine.gouv.fr/COVID-19-Les-informations/Strategie-locale-de-deconfinement',\n    '93':\n        'https://www.seine-saint-denis.gouv.fr/Actualites/COVID-19-Informations/Strategie-locale-de-deconfinement',\n    '94':\n        'http://www.val-de-marne.gouv.fr/Actualites/Coronavirus-COVID-19-Informations-recommandations-mesures-sanitaires/Gouvernement-COVID-19-plan-de-deconfinement-et-organisation-de-la-vie-quotidienne',\n    '95': 'http://www.val-doise.gouv.fr/Actualites/Strategie-locale-de-deconfinement',\n    '971':\n        'http://www.guadeloupe.gouv.fr/Politiques-publiques/Risques-naturels-technologiques-et-sanitaires/Securite-sanitaire/Informations-coronavirus/La-strategie-de-deconfinement-en-Guadeloupe',\n    '972':\n        'http://www.martinique.gouv.fr/Politiques-publiques/Environnement-sante-publique/Sante/Informations-COVID-19/Le-plan-de-deconfinement/Strategie-locale-de-deconfinement',\n    '973':\n        'http://www.guyane.gouv.fr/Politiques-publiques/Sante/Coronavirus-Covid-19/Deconfinement',\n    '974': 'http://www.reunion.gouv.fr/strategie-locale-de-deconfinement-r480.html',\n    '975':\n        'http://www.saint-pierre-et-miquelon.gouv.fr/Publications/Communiques/Communiques-2020/Deconfinement-individuel-Saint-Pierre-et-Miquelon',\n    '976':\n        'http://www.mayotte.gouv.fr/Politiques-publiques/Sante/CORONAVIRUS-COVID-19/Strategie-locale-de-deconfinement/Informations-sur-la-strategie-de-fin-de-confinement-a-Mayotte',\n    '977':\n        'http://www.saint-barth-saint-martin.gouv.fr/Actualites/LA-UNE/Actualites/Strategie-locale-de-deconfinement',\n    '978':\n        'http://www.saint-barth-saint-martin.gouv.fr/Actualites/LA-UNE/Actualites/Strategie-locale-de-deconfinement',\n}\n\nmodule.exports = {\n    dateMiseAJour,\n    _noms,\n    _couleurs,\n    _liens_prefectures,\n    nom: function (departementId) {\n        return _noms[departementId]\n    },\n    couleur: function (departementId) {\n        return _couleurs[departementId] || 'inconnue'\n    },\n    lien_prefecture: function (departementId) {\n        return _liens_prefectures[departementId]\n    },\n}\n","const carteDepartements = require('./carte.js')\n\nclass Algorithme {\n    constructor(profil) {\n        this.profil = profil\n    }\n\n    get couleur() {\n        return carteDepartements.couleur(this.profil.departement)\n    }\n\n    get sup65() {\n        return this.profil.age >= 65\n    }\n\n    get sup50() {\n        return this.profil.age >= 50\n    }\n\n    get imc() {\n        const taille_en_metres = this.profil.taille / 100\n        return this.profil.poids / (taille_en_metres * taille_en_metres)\n    }\n\n    // Facteurs pronostiques de forme grave liés au terrain (fragilité)\n    get personne_fragile() {\n        return (\n            this.sup65 ||\n            this.profil.grossesse_3e_trimestre ||\n            this.imc > 30 ||\n            this.antecedents\n        )\n    }\n\n    get antecedents() {\n        return (\n            this.profil.antecedent_cardio ||\n            this.profil.antecedent_diabete ||\n            this.profil.antecedent_respi ||\n            this.profil.antecedent_dialyse ||\n            this.profil.antecedent_cancer ||\n            this.profil.antecedent_immunodep ||\n            this.profil.antecedent_cirrhose ||\n            this.profil.antecedent_drepano\n        )\n    }\n\n    get fievre() {\n        return (\n            this.profil.symptomes_actuels &&\n            (this.profil.symptomes_actuels_temperature ||\n                this.profil.symptomes_actuels_temperature_inconnue)\n        )\n    }\n\n    get totalFacteursDeGraviteMineurs() {\n        // Return an integer (sum of truthy values from array).\n        return [\n            this.profil.symptomes_actuels_temperature,\n            this.profil.symptomes_actuels_temperature_inconnue,\n            this.profil.symptomes_actuels_fatigue,\n        ].reduce((a, b) => (a || false) + (b || false), 0)\n    }\n\n    get facteursDeGraviteMajeurs() {\n        return (\n            this.profil.symptomes_actuels_souffle ||\n            this.profil.symptomes_actuels_alimentation\n        )\n    }\n\n    get symptomesActuelsReconnus() {\n        return this.profil.symptomes_actuels && !this.profil.symptomes_actuels_autre\n    }\n\n    get symptomes() {\n        return (\n            this.symptomesActuelsReconnus ||\n            this.profil.symptomes_passes ||\n            (this.profil.contact_a_risque && !this.profil.contact_a_risque_autre)\n        )\n    }\n\n    get statut() {\n        // L’ordre est important car risques > foyer_fragile.\n        if (this.profil.symptomes_actuels && this.facteursDeGraviteMajeurs) {\n            return 'symptomatique-urgent'\n        }\n        if (this.symptomesActuelsReconnus) {\n            return 'symptomatique'\n        }\n        if (this.symptomes && !this.profil.symptomes_actuels_autre) {\n            return 'risque-eleve'\n        }\n        if (this.personne_fragile) {\n            return 'personne-fragile'\n        }\n        if (this.profil.foyer_fragile) {\n            return 'foyer-fragile'\n        }\n        return 'peu-de-risques'\n    }\n\n    conseilsPersonnelsBlockNamesToDisplay() {\n        const blockNames = []\n        if (this.profil.symptomes_actuels) {\n            blockNames.push('conseils-personnels-symptomes-actuels')\n            if (this.antecedents || this.profil.antecedent_chronique_autre) {\n                blockNames.push('reponse-symptomes-actuels-antecedents')\n            }\n            if (this.sup50 || this.profil.grossesse_3e_trimestre || this.imc > 30) {\n                blockNames.push('reponse-symptomes-actuels-caracteristiques')\n            }\n            if (this.symptomesActuelsReconnus) {\n                blockNames.push('reponse-symptomes-actuels-symptomesactuelsreconnus')\n            }\n            var gravite = 1\n            if (this.facteursDeGraviteMajeurs) {\n                gravite = 4\n            } else {\n                // #3.3\n                if (this.fievre && this.profil.symptomes_actuels_toux) {\n                    if (this.personne_fragile) {\n                        if (this.totalFacteursDeGraviteMineurs > 1) {\n                            gravite = 2\n                        } else {\n                            gravite = 3\n                        }\n                    }\n                }\n                // #3.4\n                if (\n                    this.fievre ||\n                    (!this.fievre &&\n                        (this.profil.symptomes_actuels_diarrhee ||\n                            (this.profil.symptomes_actuels_toux &&\n                                this.profil.symptomes_actuels_douleurs) ||\n                            (this.profil.symptomes_actuels_toux &&\n                                this.profil.symptomes_actuels_odorat)))\n                ) {\n                    if (this.personne_fragile) {\n                        if (this.totalFacteursDeGraviteMineurs > 1) {\n                            gravite = 2\n                        } else {\n                            gravite = 3\n                        }\n                    } else {\n                        if (this.sup50 || this.totalFacteursDeGraviteMineurs >= 1) {\n                            gravite = 3\n                        }\n                    }\n                }\n                // #3.5\n                if (\n                    !this.fievre &&\n                    (this.profil.symptomes_actuels_toux ||\n                        this.profil.symptomes_actuels_douleurs ||\n                        this.profil.symptomes_actuels_odorat) &&\n                    this.personne_fragile\n                ) {\n                    gravite = 3\n                }\n            }\n            blockNames.push('conseils-personnels-symptomes-actuels-gravite' + gravite)\n        } else if (this.profil.symptomes_passes) {\n            blockNames.push('conseils-personnels-symptomes-passes')\n            if (this.personne_fragile || this.profil.foyer_fragile) {\n                blockNames.push('conseils-personnels-symptomes-passes-avec-risques')\n            } else {\n                blockNames.push('conseils-personnels-symptomes-passes-sans-risques')\n            }\n        } else if (this.profil.contact_a_risque) {\n            blockNames.push('conseils-personnels-contact-a-risque')\n            if (this.profil.contact_a_risque_autre) {\n                blockNames.push('conseils-personnels-contact-a-risque-autre')\n            } else {\n                blockNames.push('conseils-personnels-contact-a-risque-default')\n            }\n        }\n        return blockNames\n    }\n\n    departementBlockNamesToDisplay() {\n        const blockNames = []\n        if (this.profil.symptomes_actuels) {\n            return []\n        }\n        blockNames.push('conseils-departement')\n        if (this.couleur === 'orange') {\n            blockNames.push('conseils-departement-orange')\n        }\n        if (this.couleur === 'vert') {\n            blockNames.push('conseils-departement-vert')\n        }\n        return blockNames\n    }\n\n    activiteProBlockNamesToDisplay() {\n        const blockNames = []\n        if (this.symptomes) {\n            return []\n        }\n        if (\n            this.profil.activite_pro ||\n            this.profil.activite_pro_public ||\n            this.profil.activite_pro_sante\n        ) {\n            blockNames.push('conseils-activite')\n            // Les blocs de réponses sont exclusifs.\n            if (this.profil.activite_pro_public && this.profil.activite_pro_sante) {\n                blockNames.push('reponse-activite-pro-public-sante')\n            } else if (this.profil.activite_pro_public) {\n                blockNames.push('reponse-activite-pro-public')\n            } else if (this.profil.activite_pro_sante) {\n                blockNames.push('reponse-activite-pro-sante')\n            } else {\n                blockNames.push('reponse-activite-pro')\n            }\n            // Les blocs de conseils sont quasi-exclusifs aussi.\n            if (this.profil.activite_pro_public && this.profil.activite_pro_sante) {\n                blockNames.push('conseils-activite-pro-public')\n                blockNames.push('conseils-activite-pro-sante')\n            } else if (this.profil.activite_pro_public) {\n                blockNames.push('conseils-activite-pro-public')\n                blockNames.push('conseils-activite-pro-infos')\n            } else if (this.profil.activite_pro_sante) {\n                blockNames.push('conseils-activite-pro-sante')\n            } else {\n                blockNames.push('conseils-activite-pro')\n                blockNames.push('conseils-activite-pro-infos')\n            }\n        }\n        return blockNames\n    }\n\n    foyerBlockNamesToDisplay() {\n        const blockNames = []\n        if (this.profil.symptomes_actuels) {\n            return []\n        }\n        if (this.profil.symptomes_passes || this.profil.contact_a_risque) {\n            blockNames.push('conseils-foyer')\n            blockNames.push('conseils-foyer-fragile-suivi')\n        } else if (this.profil.foyer_enfants || this.profil.foyer_fragile) {\n            blockNames.push('conseils-foyer')\n            if (this.profil.foyer_enfants && this.profil.foyer_fragile) {\n                blockNames.push('conseils-foyer-enfants-fragile')\n            } else if (this.profil.foyer_enfants) {\n                blockNames.push('conseils-foyer-enfants')\n            } else if (this.profil.foyer_fragile) {\n                blockNames.push('conseils-foyer-fragile')\n            }\n        }\n        return blockNames\n    }\n\n    caracteristiquesAntecedentsBlockNamesToDisplay() {\n        const blockNames = []\n        if (this.symptomes) {\n            return []\n        }\n        if (this.personne_fragile || this.profil.antecedent_chronique_autre) {\n            blockNames.push('conseils-caracteristiques')\n            // Réponses\n            if (this.antecedents || this.profil.antecedent_chronique_autre) {\n                blockNames.push('reponse-antecedents')\n            }\n            if (this.sup65 || this.profil.grossesse_3e_trimestre || this.imc > 30) {\n                blockNames.push('reponse-caracteristiques-a-risques')\n            }\n            // Conseils\n            if (this.profil.activite_pro) {\n                blockNames.push('conseils-caracteristiques-antecedents-activite-pro')\n            } else {\n                blockNames.push('conseils-caracteristiques-antecedents')\n            }\n            if (this.antecedents || this.profil.antecedent_chronique_autre) {\n                blockNames.push('conseils-caracteristiques-antecedents-info-risque')\n            } else {\n                blockNames.push('conseils-caracteristiques-antecedents-info')\n            }\n            if (this.profil.grossesse_3e_trimestre) {\n                blockNames.push('conseils-caracteristiques-antecedents-femme-enceinte')\n            }\n            if (this.profil.antecedent_chronique_autre) {\n                blockNames.push('conseils-antecedents-chroniques-autres')\n            }\n        }\n        return blockNames\n    }\n}\n\nmodule.exports = {\n    Algorithme,\n}\n","var carteDepartements = require('./carte.js')\nvar affichage = require('./affichage.js')\n\nmodule.exports = {\n    nomProfil: function (element, app) {\n        if (!element) return\n        element.textContent = app.profil.affichageNom()\n    },\n\n    titreConseils: function (element, profil) {\n        if (!element) return\n        if (profil.estMonProfil()) return\n        affichage.showElement(element)\n        element.textContent = `Conseils pour « ${profil.nom} »`\n    },\n\n    departement: function (element, departement) {\n        element.textContent = carteDepartements.nom(departement)\n    },\n\n    lienPrefecture: function (element, departement) {\n        element.setAttribute('href', carteDepartements.lien_prefecture(departement))\n    },\n\n    caracteristiquesARisques: function (element, algorithme) {\n        if (\n            algorithme.sup65 ||\n            algorithme.profil.grossesse_3e_trimestre ||\n            algorithme.imc > 30\n        ) {\n            var content = ''\n            if (algorithme.sup65) {\n                content = 'vous êtes âgé·e de plus de 65 ans'\n            } else if (algorithme.profil.grossesse_3e_trimestre) {\n                content = 'vous êtes au 3e trimestre de votre grossesse'\n            }\n            if (algorithme.imc > 30) {\n                content += content ? ' et ' : ''\n                content +=\n                    'vous avez un IMC supérieur à 30 (' +\n                    Math.round(algorithme.imc) +\n                    ')'\n            }\n            content += '.'\n            element.textContent = content\n        }\n    },\n\n    antecedents: function (element, algorithme) {\n        if (algorithme.antecedents || algorithme.profil.antecedent_chronique_autre) {\n            var content = ''\n            if (algorithme.antecedents) {\n                content = 'Vous avez des antécédents à risque'\n            }\n            if (algorithme.profil.antecedent_chronique_autre) {\n                content += content ? ' et vous ' : 'Vous '\n                content +=\n                    'avez une maladie chronique, un handicap ' +\n                    'ou vous prenez un traitement au long cours'\n            }\n            content += '.'\n            element.textContent = content\n        }\n    },\n\n    symptomesactuels: function (element, algorithme) {\n        if (algorithme.symptomesActuelsReconnus) {\n            var symptomes = []\n            if (\n                algorithme.profil.symptomes_actuels_temperature ||\n                algorithme.profil.symptomes_actuels_temperature_inconnue\n            ) {\n                symptomes.push('vous avez de la température (ou vous ne savez pas)')\n            }\n            if (algorithme.profil.symptomes_actuels_toux) {\n                symptomes.push('vous avez de la toux')\n            }\n            if (algorithme.profil.symptomes_actuels_odorat) {\n                symptomes.push('vous avez perdu l’odorat')\n            }\n            if (algorithme.profil.symptomes_actuels_douleurs) {\n                symptomes.push('vous avez des douleurs')\n            }\n            if (algorithme.profil.symptomes_actuels_diarrhee) {\n                symptomes.push('vous avez de la diarrhée')\n            }\n            if (algorithme.profil.symptomes_actuels_fatigue) {\n                symptomes.push('vous êtes fatigué·e')\n            }\n            if (algorithme.profil.symptomes_actuels_alimentation) {\n                symptomes.push('vous avez arrêté de boire ou de manger')\n            }\n            if (algorithme.profil.symptomes_actuels_souffle) {\n                symptomes.push('vous êtes essouflé·e')\n            }\n            var content = symptomes.join(' ; ') + '.'\n            element.textContent = content\n        }\n    },\n}\n","var affichage = require('./affichage.js')\nvar Algorithme = require('./algorithme.js').Algorithme\nvar actions = require('./actions.js')\nvar injection = require('./injection.js')\n\nfunction page(element, app) {\n    // Hide all conseils that might have been made visible on previous runs.\n    affichage.hideSelector(element, '.visible')\n\n    // Use custom illustration if needed\n    var extraClass = getCustomIllustrationName(app.profil)\n    if (extraClass) {\n        element.querySelector('#conseils-block').classList.add(extraClass)\n    }\n\n    var algorithme = new Algorithme(app.profil)\n\n    // Display appropriate conseils.\n    showRelevantBlocks(element, app.profil, algorithme)\n\n    // Dynamic data injections.\n    showRelevantAnswersRecap(element, app.profil, algorithme)\n\n    // Show instructions to install PWA (iOS) or add bookmark (others)\n    if (isMobileSafari()) {\n        const isPWA = navigator.standalone\n        if (!isPWA) {\n            affichage.showElement(element.querySelector('.browser-mobile-safari'))\n        }\n    } else {\n        affichage.showElement(element.querySelector('.browser-other'))\n    }\n\n    // Make the buttons clickable with appropriated actions.\n    actions.bindImpression(element)\n}\n\nfunction getCustomIllustrationName(profil) {\n    if (profil.symptomes_actuels) {\n        return 'symptomes-actuels'\n    }\n    if (profil.symptomes_passes) {\n        return 'symptomes-passes'\n    }\n    if (profil.contact_a_risque) {\n        return 'contact-a-risque'\n    }\n}\n\nfunction showRelevantBlocks(element, profil, algorithme) {\n    var blockNames = statutBlockNamesToDisplay(algorithme)\n    blockNames = blockNames.concat(algorithme.conseilsPersonnelsBlockNamesToDisplay())\n    blockNames = blockNames.concat(algorithme.departementBlockNamesToDisplay())\n    blockNames = blockNames.concat(algorithme.activiteProBlockNamesToDisplay())\n    blockNames = blockNames.concat(algorithme.foyerBlockNamesToDisplay())\n    blockNames = blockNames.concat(\n        algorithme.caracteristiquesAntecedentsBlockNamesToDisplay()\n    )\n    affichage.displayBlocks(element, blockNames)\n}\n\nfunction showRelevantAnswersRecap(element, profil, algorithme) {\n    injection.titreConseils(element.querySelector('#conseils-block-titre'), profil)\n    injection.departement(element.querySelector('#nom-departement'), profil.departement)\n    var lienPrefecture = element.querySelector('#lien-prefecture')\n    if (lienPrefecture) {\n        injection.lienPrefecture(lienPrefecture, profil.departement)\n    }\n\n    // We need to target more specifically given there are two similar ids.\n    var selector\n    if (algorithme.symptomesActuelsReconnus) {\n        selector = '#conseils-personnels-symptomes-actuels'\n    } else {\n        selector = '#conseils-caracteristiques'\n    }\n    var subElement = element.querySelector(selector)\n    if (!subElement) return\n    var nomCaracteristiquesARisques = subElement.querySelector(\n        '#nom-caracteristiques-a-risques'\n    )\n    if (nomCaracteristiquesARisques) {\n        injection.caracteristiquesARisques(nomCaracteristiquesARisques, algorithme)\n    }\n    var nomAntecedents = subElement.querySelector('#nom-antecedents')\n    if (nomAntecedents) {\n        injection.antecedents(nomAntecedents, algorithme)\n    }\n    var nomSymptomesActuels = subElement.querySelector('#nom-symptomesactuels')\n    if (nomSymptomesActuels) {\n        injection.symptomesactuels(nomSymptomesActuels, algorithme)\n    }\n}\n\nfunction statutBlockNamesToDisplay(algorithme) {\n    return ['statut-' + algorithme.statut]\n}\n\nfunction isMobileSafari() {\n    const ua = window.navigator.userAgent\n    const isIPad = !!ua.match(/iPad/i)\n    const isIPhone = !!ua.match(/iPhone/i)\n    const isIOS = isIPad || isIPhone\n    const isWebkit = !!ua.match(/WebKit/i)\n    const isChrome = !!ua.match(/CriOS/i)\n    return isIOS && isWebkit && !isChrome\n}\n\nmodule.exports = {\n    page,\n    showRelevantBlocks,\n    showRelevantAnswersRecap,\n}\n","function preloadForm(form, key, profil) {\n    var value = profil.getData()[key]\n    if (typeof value !== 'undefined' && value !== '') {\n        form[key].value = value\n    }\n}\n\nfunction preloadCheckboxForm(form, key, profil) {\n    var value = profil.getData()[key]\n    if (typeof value !== 'undefined' && value) {\n        form[key].checked = true\n    }\n}\n\nfunction toggleFormButtonOnCheck(form, continueLabel, uncheckedLabel) {\n    var button = form.querySelector('input[type=submit]')\n    var checkboxes = [].slice.call(form.querySelectorAll('input[type=checkbox]'))\n    function updateSubmitButtonLabel() {\n        var hasChecks = checkboxes.some(function (checkbox) {\n            return checkbox.checked\n        })\n        button.value = hasChecks ? continueLabel : uncheckedLabel\n    }\n    updateSubmitButtonLabel()\n    checkboxes.forEach(function (elem) {\n        elem.addEventListener('change', updateSubmitButtonLabel)\n    })\n}\n\nfunction toggleFormButtonOnCheckRequired(\n    form,\n    continueLabel,\n    uncheckedLabel,\n    requiredLabel\n) {\n    var button = form.querySelector('input[type=submit]')\n    var checkboxes = [].slice.call(form.querySelectorAll('input[type=checkbox]'))\n    var secondaryCheckboxes = [].slice.call(\n        form.querySelectorAll('.secondary input[type=checkbox]')\n    )\n    // Warning: removes otherCheckbox from secondaryCheckboxes:\n    var otherCheckbox = secondaryCheckboxes.pop()\n\n    function updateSubmitButtonLabelRequired() {\n        var hasChecks = checkboxes.some(function (checkbox) {\n            return checkbox.checked\n        })\n        button.disabled = false\n        button.value = hasChecks ? continueLabel : uncheckedLabel\n        if (hasChecks) {\n            var hasSecondaryChecks = secondaryCheckboxes.some(function (checkbox) {\n                return checkbox.checked\n            })\n            if (!hasSecondaryChecks && !otherCheckbox.checked) {\n                button.disabled = true\n                button.value = requiredLabel\n            }\n        }\n    }\n    updateSubmitButtonLabelRequired()\n    checkboxes.forEach(function (elem) {\n        elem.addEventListener('change', updateSubmitButtonLabelRequired)\n    })\n\n    function updateToggleOnOther() {\n        if (otherCheckbox.checked) {\n            secondaryCheckboxes.forEach(function (secondaryCheckbox) {\n                secondaryCheckbox.checked = false\n                secondaryCheckbox.disabled = true\n            })\n        } else {\n            secondaryCheckboxes.forEach(function (secondaryCheckbox) {\n                secondaryCheckbox.disabled = false\n            })\n        }\n    }\n    updateToggleOnOther()\n    otherCheckbox.addEventListener('change', updateToggleOnOther)\n}\n\nfunction toggleFormButtonOnTextFieldsRequired(form, continueLabel, requiredLabel) {\n    var button = form.querySelector('input[type=submit]')\n    var textFields = [].slice.call(form.querySelectorAll('input[type=text]'))\n\n    function updateSubmitButtonLabelRequired() {\n        var allFilled = textFields.every(function (textField) {\n            return textField.value !== ''\n        })\n        button.disabled = !allFilled\n        button.value = allFilled ? continueLabel : requiredLabel\n    }\n    updateSubmitButtonLabelRequired()\n    textFields.forEach(function (elem) {\n        elem.addEventListener('input', updateSubmitButtonLabelRequired)\n    })\n}\n\nfunction toggleFormButtonOnSelectFieldsRequired(form, continueLabel, requiredLabel) {\n    var button = form.querySelector('input[type=submit]')\n    var selectFields = [].slice.call(form.querySelectorAll('select'))\n\n    function updateSubmitButtonLabelRequired() {\n        var allFilled = selectFields.every(function (selectField) {\n            return selectField.value !== selectField.options[0].value\n        })\n        button.disabled = !allFilled\n        button.value = allFilled ? continueLabel : requiredLabel\n    }\n    updateSubmitButtonLabelRequired()\n    selectFields.forEach(function (elem) {\n        elem.addEventListener('change', updateSubmitButtonLabelRequired)\n    })\n}\n\nfunction enableOrDisableSecondaryFields(form, primary) {\n    var primaryDisabled = !primary.checked\n    ;[].forEach.call(form.querySelectorAll('.secondary'), function (elem) {\n        var secondary = elem.querySelector('input')\n        if (secondary.checked && primaryDisabled) {\n            secondary.checked = false\n            secondary.dispatchEvent(new Event('change'))\n        }\n        secondary.disabled = primaryDisabled\n        if (primaryDisabled) {\n            elem.classList.add('disabled')\n        } else {\n            elem.classList.remove('disabled')\n        }\n    })\n}\n\nmodule.exports = {\n    preloadForm,\n    preloadCheckboxForm,\n    toggleFormButtonOnCheck,\n    toggleFormButtonOnCheckRequired,\n    toggleFormButtonOnTextFieldsRequired,\n    toggleFormButtonOnSelectFieldsRequired,\n    enableOrDisableSecondaryFields,\n}\n","var affichage = require('./affichage.js')\n\nvar Geolocaliseur = function () {\n    this.matchDepartement = function (lat, lon, departementFound, departementNotFound) {\n        // Warning, in case of multiple polygons, you can have multiple matches.\n        var that = this\n        this.loadMap(function (featureCollection) {\n            var notFound = true\n            featureCollection.features.forEach(function (departement) {\n                var polyCoordinates\n                if (departement.geometry.type === 'Polygon') {\n                    polyCoordinates = [departement.geometry.coordinates]\n                } else {\n                    polyCoordinates = departement.geometry.coordinates\n                }\n                polyCoordinates.forEach(function (polyCoordinate) {\n                    polyCoordinate.forEach(function (coord) {\n                        if (that.booleanPointInPolygon([lon, lat], coord)) {\n                            notFound = false\n                            departementFound(departement.properties)\n                        }\n                    })\n                })\n            })\n            notFound && departementNotFound()\n        })\n    }\n\n    this.loadMap = function (callback) {\n        var xhr = new XMLHttpRequest()\n        xhr.overrideMimeType('application/json')\n        xhr.open('GET', require('../departements-1000m.geojson'), true)\n        xhr.onload = function () {\n            var jsonResponse = JSON.parse(xhr.responseText)\n            callback(jsonResponse)\n        }\n        xhr.send()\n    }\n\n    this.booleanPointInPolygon = function (point, vs) {\n        // https://github.com/substack/point-in-polygon/blob/master/index.js\n        var x = point[0],\n            y = point[1]\n\n        var inside = false\n        for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n            var xi = vs[i][0],\n                yi = vs[i][1]\n            var xj = vs[j][0],\n                yj = vs[j][1]\n\n            var intersect =\n                yi > y != yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi\n            if (intersect) inside = !inside\n        }\n\n        return inside\n    }\n}\n\nfunction geolocalisation(event) {\n    event.preventDefault()\n    var geolocaliseur = new Geolocaliseur()\n    var form = document.querySelector('form#residence-form')\n    affichage.hideSelector(form, '#error-geolocalisation')\n    var onDepartementFound = function (departement) {\n        var select = form.querySelector('#departement')\n        select.value = departement.code\n        // We manually trigger the change event for the submit button toggle.\n        select.dispatchEvent(new CustomEvent('change'))\n    }\n    var onDepartementNotFound = function () {\n        // L’utilisateur n’est probablement pas sur le territoire français.\n        affichage.displayElementById(form, 'error-geolocalisation')\n    }\n    navigator.geolocation.getCurrentPosition(\n        function (position) {\n            var latitude = position.coords.latitude\n            var longitude = position.coords.longitude\n            geolocaliseur.matchDepartement(\n                latitude,\n                longitude,\n                onDepartementFound,\n                onDepartementNotFound\n            )\n        },\n        function (error) {\n            // L’utilisateur a probablement refusé la géolocalisation.\n            console.warn('ERREUR (' + error.code + '): ' + error.message)\n            onDepartementNotFound()\n        },\n        {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0,\n        }\n    )\n}\n\nmodule.exports = {\n    geolocalisation,\n}\n","var affichage = require('./affichage.js')\nvar formUtils = require('./formutils.js')\nvar geoloc = require('./geoloc.js')\n\nfunction nom(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    const requiredLabel = 'Cette information est requise'\n    formUtils.toggleFormButtonOnTextFieldsRequired(form, button.value, requiredLabel)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        const nom = event.target.elements['nom'].value\n        app.creerProfil(nom).then(() => {\n            router.navigate('residence')\n        })\n    })\n}\n\nfunction residence(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadForm(form, 'departement', app.profil)\n    const requiredLabel = app.profil.estMonProfil()\n        ? 'Votre département de résidence est requis'\n        : 'Son département de résidence est requis'\n    formUtils.toggleFormButtonOnSelectFieldsRequired(form, button.value, requiredLabel)\n    affichage.hideSelector(form, '#error-geolocalisation')\n    form.querySelector('select').addEventListener('change', function () {\n        affichage.hideSelector(form, '#error-geolocalisation')\n    })\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.departement = event.target.elements['departement'].value\n        app.enregistrerProfilActuel()\n        router.navigate('activitepro')\n    })\n    document\n        .getElementById('geolocalisation')\n        .addEventListener('click', geoloc.geolocalisation)\n}\n\nfunction activitepro(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadCheckboxForm(form, 'activite_pro', app.profil)\n    formUtils.preloadCheckboxForm(form, 'activite_pro_public', app.profil)\n    formUtils.preloadCheckboxForm(form, 'activite_pro_sante', app.profil)\n    var primary = form.elements['activite_pro']\n    formUtils.enableOrDisableSecondaryFields(form, primary)\n    primary.addEventListener('click', function () {\n        formUtils.enableOrDisableSecondaryFields(form, primary)\n    })\n    const uncheckedLabel = app.profil.estMonProfil()\n        ? 'Je n’ai pas d’activité professionnelle ou bénévole'\n        : 'Cette personne n’a pas d’activité professionnelle ou bénévole'\n    formUtils.toggleFormButtonOnCheck(form, button.value, uncheckedLabel)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.activite_pro = event.target.elements['activite_pro'].checked\n        app.profil.activite_pro_public =\n            event.target.elements['activite_pro_public'].checked\n        app.profil.activite_pro_sante =\n            event.target.elements['activite_pro_sante'].checked\n        app.enregistrerProfilActuel()\n        router.navigate('foyer')\n    })\n}\n\nfunction foyer(form, app, router) {\n    formUtils.preloadCheckboxForm(form, 'foyer_enfants', app.profil)\n    formUtils.preloadCheckboxForm(form, 'foyer_fragile', app.profil)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.foyer_enfants = event.target.elements['foyer_enfants'].checked\n        app.profil.foyer_fragile = event.target.elements['foyer_fragile'].checked\n        app.enregistrerProfilActuel()\n        router.navigate('caracteristiques')\n    })\n}\n\nfunction caracteristiques(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadForm(form, 'age', app.profil)\n    formUtils.preloadForm(form, 'taille', app.profil)\n    formUtils.preloadForm(form, 'poids', app.profil)\n    formUtils.preloadCheckboxForm(form, 'grossesse_3e_trimestre', app.profil)\n    const requiredLabel = 'Les informations d’âge, de poids et de taille sont requises'\n    formUtils.toggleFormButtonOnTextFieldsRequired(form, button.value, requiredLabel)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.age = event.target.elements['age'].value\n        app.profil.poids = event.target.elements['poids'].value\n        app.profil.taille = event.target.elements['taille'].value\n        app.profil.grossesse_3e_trimestre =\n            event.target.elements['grossesse_3e_trimestre'].checked\n        app.enregistrerProfilActuel()\n        if (app.profil.age < 15) {\n            router.navigate('pediatrie')\n        } else {\n            router.navigate('antecedents')\n        }\n    })\n}\n\nfunction antecedents(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadCheckboxForm(form, 'antecedent_cardio', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_diabete', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_respi', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_dialyse', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_cancer', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_immunodep', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_cirrhose', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_drepano', app.profil)\n    formUtils.preloadCheckboxForm(form, 'antecedent_chronique_autre', app.profil)\n    const uncheckedLabel = app.profil.estMonProfil()\n        ? 'Aucun de ces éléments ne correspond à ma situation'\n        : 'Aucun de ces éléments ne correspond à sa situation'\n    formUtils.toggleFormButtonOnCheck(form, button.value, uncheckedLabel)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.antecedent_cardio =\n            event.target.elements['antecedent_cardio'].checked\n        app.profil.antecedent_diabete =\n            event.target.elements['antecedent_diabete'].checked\n        app.profil.antecedent_respi = event.target.elements['antecedent_respi'].checked\n        app.profil.antecedent_dialyse =\n            event.target.elements['antecedent_dialyse'].checked\n        app.profil.antecedent_cancer =\n            event.target.elements['antecedent_cancer'].checked\n        app.profil.antecedent_immunodep =\n            event.target.elements['antecedent_immunodep'].checked\n        app.profil.antecedent_cirrhose =\n            event.target.elements['antecedent_cirrhose'].checked\n        app.profil.antecedent_drepano =\n            event.target.elements['antecedent_drepano'].checked\n        app.profil.antecedent_chronique_autre =\n            event.target.elements['antecedent_chronique_autre'].checked\n        app.enregistrerProfilActuel()\n        router.navigate('symptomesactuels')\n    })\n}\n\nfunction symptomesactuels(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_temperature', app.profil)\n    formUtils.preloadCheckboxForm(\n        form,\n        'symptomes_actuels_temperature_inconnue',\n        app.profil\n    )\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_toux', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_odorat', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_douleurs', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_diarrhee', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_fatigue', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_alimentation', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_souffle', app.profil)\n    formUtils.preloadCheckboxForm(form, 'symptomes_actuels_autre', app.profil)\n    var primary = form.elements['symptomes_actuels']\n    formUtils.enableOrDisableSecondaryFields(form, primary)\n    primary.addEventListener('click', function () {\n        formUtils.enableOrDisableSecondaryFields(form, primary)\n    })\n    const uncheckedLabel = app.profil.estMonProfil()\n        ? 'Je n’ai pas de symptômes actuellement'\n        : 'Cette personne n’a pas de symptômes actuellement'\n    const requiredLabel = 'Vous devez saisir l’un des sous-choix proposés'\n    formUtils.toggleFormButtonOnCheckRequired(\n        form,\n        button.value,\n        uncheckedLabel,\n        requiredLabel\n    )\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.symptomes_actuels =\n            event.target.elements['symptomes_actuels'].checked\n        app.profil.symptomes_actuels_temperature =\n            event.target.elements['symptomes_actuels_temperature'].checked\n        app.profil.symptomes_actuels_temperature_inconnue =\n            event.target.elements['symptomes_actuels_temperature_inconnue'].checked\n        app.profil.symptomes_actuels_toux =\n            event.target.elements['symptomes_actuels_toux'].checked\n        app.profil.symptomes_actuels_odorat =\n            event.target.elements['symptomes_actuels_odorat'].checked\n        app.profil.symptomes_actuels_douleurs =\n            event.target.elements['symptomes_actuels_douleurs'].checked\n        app.profil.symptomes_actuels_diarrhee =\n            event.target.elements['symptomes_actuels_diarrhee'].checked\n        app.profil.symptomes_actuels_fatigue =\n            event.target.elements['symptomes_actuels_fatigue'].checked\n        app.profil.symptomes_actuels_alimentation =\n            event.target.elements['symptomes_actuels_alimentation'].checked\n        app.profil.symptomes_actuels_souffle =\n            event.target.elements['symptomes_actuels_souffle'].checked\n        app.profil.symptomes_actuels_autre =\n            event.target.elements['symptomes_actuels_autre'].checked\n        if (app.profil.symptomes_actuels && !app.profil.symptomes_actuels_autre) {\n            // On complète manuellement le formulaire pour le rendre complet.\n            app.profil.symptomes_passes = false\n            app.profil.contact_a_risque = false\n            app.profil.contact_a_risque_meme_lieu_de_vie = undefined\n            app.profil.contact_a_risque_contact_direct = undefined\n            app.profil.contact_a_risque_actes = undefined\n            app.profil.contact_a_risque_espace_confine = undefined\n            app.profil.contact_a_risque_meme_classe = undefined\n            app.profil.contact_a_risque_stop_covid = undefined\n            app.profil.contact_a_risque_autre = undefined\n            app.enregistrerProfilActuel()\n            router.navigate('conseils')\n        } else {\n            app.enregistrerProfilActuel()\n            router.navigate('symptomespasses')\n        }\n    })\n}\n\nfunction symptomespasses(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadCheckboxForm(form, 'symptomes_passes', app.profil)\n    const uncheckedLabel = app.profil.estMonProfil()\n        ? 'Je n’ai pas eu de symptômes dans les 14 derniers jours'\n        : 'Cette personne n’a pas eu de symptômes dans les 14 derniers jours'\n    formUtils.toggleFormButtonOnCheck(form, button.value, uncheckedLabel)\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.symptomes_passes = event.target.elements['symptomes_passes'].checked\n        if (app.profil.symptomes_passes) {\n            // On complète manuellement le formulaire pour le rendre complet.\n            app.profil.contact_a_risque = false\n            app.profil.contact_a_risque_meme_lieu_de_vie = undefined\n            app.profil.contact_a_risque_contact_direct = undefined\n            app.profil.contact_a_risque_actes = undefined\n            app.profil.contact_a_risque_espace_confine = undefined\n            app.profil.contact_a_risque_meme_classe = undefined\n            app.profil.contact_a_risque_stop_covid = undefined\n            app.profil.contact_a_risque_autre = undefined\n            app.enregistrerProfilActuel()\n            router.navigate('conseils')\n        } else {\n            app.enregistrerProfilActuel()\n            router.navigate('contactarisque')\n        }\n    })\n}\n\nfunction contactarisque(form, app, router) {\n    var button = form.querySelector('input[type=submit]')\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_meme_lieu_de_vie', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_contact_direct', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_actes', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_espace_confine', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_meme_classe', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_stop_covid', app.profil)\n    formUtils.preloadCheckboxForm(form, 'contact_a_risque_autre', app.profil)\n    var primary = form.elements['contact_a_risque']\n    formUtils.enableOrDisableSecondaryFields(form, primary)\n    primary.addEventListener('click', function () {\n        formUtils.enableOrDisableSecondaryFields(form, primary)\n    })\n    formUtils.toggleFormButtonOnCheckRequired(\n        form,\n        button.value,\n        'Terminer',\n        'Vous devez saisir l’un des sous-choix proposés'\n    )\n    form.addEventListener('submit', function (event) {\n        event.preventDefault()\n        app.profil.contact_a_risque = event.target.elements['contact_a_risque'].checked\n        app.profil.contact_a_risque_meme_lieu_de_vie =\n            event.target.elements['contact_a_risque_meme_lieu_de_vie'].checked\n        app.profil.contact_a_risque_contact_direct =\n            event.target.elements['contact_a_risque_contact_direct'].checked\n        app.profil.contact_a_risque_actes =\n            event.target.elements['contact_a_risque_actes'].checked\n        app.profil.contact_a_risque_espace_confine =\n            event.target.elements['contact_a_risque_espace_confine'].checked\n        app.profil.contact_a_risque_meme_classe =\n            event.target.elements['contact_a_risque_meme_classe'].checked\n        app.profil.contact_a_risque_stop_covid =\n            event.target.elements['contact_a_risque_stop_covid'].checked\n        app.profil.contact_a_risque_autre =\n            event.target.elements['contact_a_risque_autre'].checked\n        app.enregistrerProfilActuel()\n        router.navigate('conseils')\n    })\n}\n\nmodule.exports = {\n    nom,\n    residence,\n    activitepro,\n    foyer,\n    caracteristiques,\n    antecedents,\n    symptomesactuels,\n    symptomespasses,\n    contactarisque,\n}\n","var Navigo = require('navigo')\n\nvar introduction = require('./introduction.js')\nvar affichage = require('./affichage.js')\nvar conseils = require('./conseils.js')\nvar questionnaire = require('./questionnaire.js')\nvar injection = require('./injection.js')\nvar pagination = require('./pagination.js')\n\nfunction initRouter(app) {\n    var root = null\n    var useHash = true\n    var router = new Navigo(root, useHash)\n\n    // Workaround unwanted behaviour in Navigo\n    if (router.root.slice(-1) !== '/') {\n        router.root = router.root + '/'\n    }\n\n    router.hooks({\n        before: function (done) {\n            // Global hook to redirect on the correct page given registered data.\n            var requestedPage = pagination.getCurrentPageName() || 'introduction'\n            var redirectedPage = pagination.redirectToUnansweredQuestions(\n                requestedPage,\n                app.profil\n            )\n            if (redirectedPage) {\n                router.navigate(redirectedPage)\n            }\n            var header = document.querySelector('header section')\n            if (typeof app.profil.nom === 'undefined') {\n                affichage.showElement(header.querySelector('#js-profil-empty'))\n                affichage.hideElement(header.querySelector('#js-profil-full'))\n            } else {\n                affichage.showElement(header.querySelector('#js-profil-full'))\n                affichage.hideElement(header.querySelector('#js-profil-empty'))\n                injection.nomProfil(header.querySelector('#nom-profil'), app)\n            }\n            done()\n        },\n        after: function () {\n            // Global hook to send a custom event on each page change.\n            var pageName = pagination.getCurrentPageName()\n            var customPageEvent = document.createEvent('CustomEvent')\n            customPageEvent.initCustomEvent(\n                'pageChanged:' + pageName,\n                true,\n                true,\n                pageName\n            )\n            document.dispatchEvent(customPageEvent)\n        },\n    })\n\n    router\n        .on(new RegExp('^introduction$'), function () {\n            var pageName = 'introduction'\n            var element = pagination.loadPage(pageName)\n            introduction.page(element, app)\n        })\n        .on(new RegExp('^nom$'), function () {\n            var pageName = 'nom'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.nom(form, app, router)\n        })\n        .on(new RegExp('^residence$'), function () {\n            var pageName = 'residence'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.residence(form, app, router)\n        })\n        .on(new RegExp('^activitepro$'), function () {\n            var pageName = 'activitepro'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.activitepro(form, app, router)\n        })\n        .on(new RegExp('^foyer$'), function () {\n            var pageName = 'foyer'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.foyer(form, app, router)\n        })\n        .on(new RegExp('^caracteristiques$'), function () {\n            var pageName = 'caracteristiques'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.caracteristiques(form, app, router)\n        })\n        .on(new RegExp('^antecedents$'), function () {\n            var pageName = 'antecedents'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.antecedents(form, app, router)\n        })\n        .on(new RegExp('^symptomesactuels$'), function () {\n            var pageName = 'symptomesactuels'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.symptomesactuels(form, app, router)\n        })\n        .on(new RegExp('^symptomespasses$'), function () {\n            var pageName = 'symptomespasses'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.symptomespasses(form, app, router)\n        })\n        .on(new RegExp('^contactarisque$'), function () {\n            var pageName = 'contactarisque'\n            var form = pagination.loadPage(pageName, app)\n            questionnaire.contactarisque(form, app, router)\n        })\n        .on(new RegExp('^conseils$'), function () {\n            var pageName = 'conseils'\n            var element = pagination.loadPage(pageName)\n            conseils.page(element, app)\n        })\n        .on(new RegExp('^pediatrie$'), function () {\n            var pageName = 'pediatrie'\n            var element = pagination.loadPage(pageName)\n            if (app.profil.isComplete()) {\n                affichage.showElement(element.querySelector('#js-profil-full'))\n                affichage.hideElement(element.querySelector('#js-profil-empty'))\n                var mesConseilsLink = element.querySelector('#mes-conseils-link')\n                var target = pagination.redirectToUnansweredQuestions(\n                    'findCorrectExit',\n                    app.profil\n                )\n                mesConseilsLink.setAttribute('href', '#' + target)\n            }\n        })\n        .on(new RegExp('^conditionsutilisation$'), function () {\n            var pageName = 'conditionsutilisation'\n            pagination.loadPage(pageName)\n        })\n        .on(new RegExp('^nouvelleversiondisponible$'), function () {\n            var pageName = 'nouvelleversiondisponible'\n            pagination.loadPage(pageName)\n        })\n        .notFound(function () {\n            router.navigate('introduction')\n        })\n\n    return router\n}\n\nmodule.exports = {\n    initRouter,\n}\n","require('./polyfills/custom_event.js')\n\nvar Updater = require('./updater.js')\nvar actions = require('./actions.js')\nvar StockageLocal = require('./stockage.js').StockageLocal\nvar Profil = require('./profil.js').Profil\nvar Router = require('./router.js')\n\nclass App {\n    constructor() {\n        this.profil = new Profil()\n        this.stockage = new StockageLocal()\n    }\n    init() {\n        return this.chargerProfilActuel()\n    }\n    chargerProfilActuel() {\n        return this.stockage.getProfilActuel().then((nom) => {\n            return this.chargerProfil(nom)\n        })\n    }\n    enregistrerProfilActuel() {\n        return this.stockage.enregistrer(this.profil)\n    }\n    creerProfil(nom) {\n        this.profil.resetData(nom)\n        return this.stockage.setProfilActuel(nom).then(() => {\n            return this.enregistrerProfilActuel()\n        })\n    }\n    basculerVersProfil(nom) {\n        return this.stockage.setProfilActuel(nom).then(() => {\n            return this.chargerProfil(nom)\n        })\n    }\n    chargerProfil(nom) {\n        this.profil.nom = nom\n        return this.stockage.charger(this.profil, nom)\n    }\n    supprimerProfil(nom) {\n        return this.stockage.supprimer(nom).then(() => {\n            if (this.profil.nom === nom) {\n                this.profil.nom = undefined\n                this.stockage.setProfilActuel(undefined)\n            }\n        })\n    }\n    supprimerTout() {\n        return this.stockage.supprimerTout().then(() => {\n            this.profil.resetData()\n        })\n    }\n}\n\nvar app = new App()\nwindow.app = app\n;(function () {\n    app.init()\n        .then(() => {\n            var router = Router.initRouter(app)\n            app.router = router\n            router.resolve()\n            return router\n        })\n        .then((router) => {\n            var updater = new Updater(router)\n            updater.checkForUpdatesEvery(10) // Minutes.\n\n            actions.bindSuppressionTotale(\n                document.querySelector('footer .js-suppression'),\n                app\n            )\n        })\n})()\n"]}