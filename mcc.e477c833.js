!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequire94c2;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequire94c2=o),o.register("eJLqw",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("6pdSl",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t}})),o.register("9gfx3",(function(e,t){e.exports,e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",u="week",c="month",l="quarter",f="year",d="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+_(r,2,"0")+":"+_(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:u,d:a,D:d,h:s,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",b={};b[g]=v;var S=function(e){return e instanceof R},k=function e(t,n,r){var i;if(!t)return g;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(e,t){if(S(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new R(n)},q=y;q.l=k,q.i=S,q.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D,E,R=(D=function(e){this.$L=k(e.locale,null,!0),this.parse(e)},(E=D.prototype).parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(q.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},E.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},E.$utils=function(){return q},E.isValid=function(){return!(this.$d.toString()===p)},E.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},E.isAfter=function(e,t){return w(e)<this.startOf(t)},E.isBefore=function(e,t){return this.endOf(t)<w(e)},E.$g=function(e,t,n){return q.u(e)?this[t]:this.set(n,e)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(e,t){var n=this,r=!!q.u(t)||t,l=q.p(e),p=function(e,t){var i=q.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},h=function(e,t){return q.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case u:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return p(r?_-b:_+(6-b),v);case a:case d:return h(y+"Hours",0);case s:return h(y+"Minutes",1);case o:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},E.endOf=function(e){return this.startOf(e,!1)},E.$set=function(e,t){var n,u=q.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[a]=l+"Date",n[d]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[s]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],h=u===a?this.$D+(t-this.$W):t;if(u===c||u===f){var m=this.clone().set(d,1);m.$d[p](h),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},E.set=function(e,t){return this.clone().$set(e,t)},E.get=function(e){return this[q.p(e)]()},E.add=function(r,l){var d,p=this;r=Number(r);var h=q.p(l),m=function(e){var t=w(p);return q.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===f)return this.set(f,this.$y+r);if(h===a)return m(1);if(h===u)return m(7);var v=(d={},d[o]=t,d[s]=n,d[i]=e,d)[h]||1,_=this.$d.getTime()+r*v;return q.w(_,this)},E.subtract=function(e,t){return this.add(-1*e,t)},E.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=q.z(this),o=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return q.s(o%12||12,e,"0")},d=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:q.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:q.s(o,2,"0"),h:f(1),hh:f(2),a:d(o,s,!0),A:d(o,s,!1),m:String(s),mm:q.s(s,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||h[e]||i.replace(":","")}))},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(r,d,p){var h,m=q.p(d),v=w(r),_=(v.utcOffset()-this.utcOffset())*t,y=this-v,g=q.m(this,v);return g=(h={},h[f]=g/12,h[c]=g,h[l]=g/3,h[u]=(y-_)/6048e5,h[a]=(y-_)/864e5,h[s]=y/n,h[o]=y/t,h[i]=y/e,h)[m]||y,p?g:q.a(g)},E.daysInMonth=function(){return this.endOf(c).$D},E.$locale=function(){return b[this.$L]},E.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},E.clone=function(){return q.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},D),A=R.prototype;return w.prototype=A,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",f],["$D",d]].forEach((function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,R,w),e.$i=!0),w},w.locale=k,w.isDayjs=S,w.unix=function(e){return w(1e3*e)},w.en=b[g],w.Ls=b,w.p={},w}()})),o("eJLqw").register(JSON.parse('{"9clgr":"mcc.e477c833.js","1Asc7":"suivi_gravite.7a2a65b2.svg","burrT":"suivi_gravite_superieure.a928fb9f.svg","cg0Av":"suivi_interrogation.ac75e6da.svg","h1Ahd":"suivi_ok.7774b901.svg","8PjzC":"suivi_stable.a8969ded.svg","kKVDh":"service-worker.js"}'));var s,a,u={},c=function(e){return e&&e.Math==Math&&e};u=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof n&&n)||function(){return this}()||Function("return this")();var l,f;l=!(f=function(e){try{return!!e()}catch(e){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var d,p={};d=!f((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}));var h,m=Function.prototype.call;p=d?m.bind(m):function(){return m.apply(m,arguments)};var v={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,y=_&&!v.call({1:2},1);h=y?function(e){var t=_(this,e);return!!t&&t.enumerable}:v;var g;g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};var b,S={},k={},w=Function.prototype,q=w.bind,D=w.call,E=d&&q.bind(D,D);k=d?function(e){return e&&E(e)}:function(e){return e&&function(){return D.apply(e,arguments)}};var R,A=k({}.toString),P=k("".slice);R=function(e){return P(A(e),8,-1)};var T=u.Object,L=k("".split);S=f((function(){return!T("z").propertyIsEnumerable(0)}))?function(e){return"String"==R(e)?L(e,""):T(e)}:T;var C,M=u.TypeError;C=function(e){if(null==e)throw M("Can't call method on "+e);return e},b=function(e){return S(C(e))};var x,O,I,j;j=function(e){return"function"==typeof e},I=function(e){return"object"==typeof e?null!==e:j(e)};var N,$={},B=function(e){return j(e)?e:void 0};N=function(e,t){return arguments.length<2?B(u[e]):u[e]&&u[e][t]};var H={};H=k({}.isPrototypeOf);var F,U,V,Y={};Y=N("navigator","userAgent")||"";var W,G,z=u.process,J=u.Deno,Q=z&&z.versions||J&&J.version,X=Q&&Q.v8;X&&(G=(W=X.split("."))[0]>0&&W[0]<4?1:+(W[0]+W[1])),!G&&Y&&(!(W=Y.match(/Edge\/(\d+)/))||W[1]>=74)&&(W=Y.match(/Chrome\/(\d+)/))&&(G=+W[1]),V=G,U=!!Object.getOwnPropertySymbols&&!f((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V&&V<41})),F=U&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var K=u.Object;$=F?function(e){return"symbol"==typeof e}:function(e){var t=N("Symbol");return j(t)&&H(t.prototype,K(e))};var Z,ee,te,ne=u.String;te=function(e){try{return ne(e)}catch(e){return"Object"}};var re=u.TypeError;ee=function(e){if(j(e))return e;throw re(te(e)+" is not a function")},Z=function(e,t){var n=e[t];return null==n?void 0:ee(n)};var ie,oe=u.TypeError;ie=function(e,t){var n,r;if("string"===t&&j(n=e.toString)&&!I(r=p(n,e)))return r;if(j(n=e.valueOf)&&!I(r=p(n,e)))return r;if("string"!==t&&j(n=e.toString)&&!I(r=p(n,e)))return r;throw oe("Can't convert object to primitive value")};var se,ae;var ue,ce={},le=Object.defineProperty;ue=function(e,t){try{le(u,e,{value:t,configurable:!0,writable:!0})}catch(n){u[e]=t}return t};var fe="__core-js_shared__",de=u["__core-js_shared__"]||ue(fe,{});ce=de,(ae=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"});var pe,he={},me=u.Object;pe=function(e){return me(C(e))};var ve=k({}.hasOwnProperty);he=Object.hasOwn||function(e,t){return ve(pe(e),t)};var _e,ye=0,ge=Math.random(),be=k(1..toString);_e=function(e){return"Symbol("+(void 0===e?"":e)+")_"+be(++ye+ge,36)};var Se=ae("wks"),ke=u.Symbol,we=ke&&ke.for,qe=F?ke:ke&&ke.withoutSetter||_e;se=function(e){if(!he(Se,e)||!U&&"string"!=typeof Se[e]){var t="Symbol."+e;U&&he(ke,e)?Se[e]=ke[e]:Se[e]=F&&we?we(t):qe(t)}return Se[e]};var De=u.TypeError,Ee=se("toPrimitive");O=function(e,t){if(!I(e)||$(e))return e;var n,r=Z(e,Ee);if(r){if(void 0===t&&(t="default"),n=p(r,e,t),!I(n)||$(n))return n;throw De("Can't convert object to primitive value")}return void 0===t&&(t="number"),ie(e,t)},x=function(e){var t=O(e,"string");return $(t)?t:t+""};var Re,Ae,Pe=u.document,Te=I(Pe)&&I(Pe.createElement);Ae=function(e){return Te?Pe.createElement(e):{}},Re=!l&&!f((function(){return 7!=Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a}));var Le,Ce,Me=Object.getOwnPropertyDescriptor,xe=a=l?Me:function(e,t){if(e=b(e),t=x(t),Re)try{return Me(e,t)}catch(e){}if(he(e,t))return g(!p(h,e,t),e[t])},Oe={};Ce=l&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var Ie,je=u.String,Ne=u.TypeError;Ie=function(e){if(I(e))return e;throw Ne(je(e)+" is not an object")};var $e=u.TypeError,Be=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Fe="enumerable",Ue="configurable",Ve="writable";Le=l?Ce?function(e,t,n){if(Ie(e),t=x(t),Ie(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ve in n&&!n.writable){var r=He(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Ue in n?n.configurable:r.configurable,enumerable:Fe in n?n.enumerable:r.enumerable,writable:!1})}return Be(e,t,n)}:Be:function(e,t,n){if(Ie(e),t=x(t),Ie(n),Re)try{return Be(e,t,n)}catch(e){}if("get"in n||"set"in n)throw $e("Accessors not supported");return"value"in n&&(e[t]=n.value),e},Oe=l?function(e,t,n){return Le(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e};var Ye,We,Ge,ze=Function.prototype,Je=l&&Object.getOwnPropertyDescriptor,Qe=he(ze,"name"),Xe=(Ge={EXISTS:Qe,PROPER:Qe&&"something"===function(){}.name,CONFIGURABLE:Qe&&(!l||l&&Je(ze,"name").configurable)}).CONFIGURABLE,Ke={},Ze=k(Function.toString);j(ce.inspectSource)||(ce.inspectSource=function(e){return Ze(e)}),Ke=ce.inspectSource;var et,tt,nt=u.WeakMap;tt=j(nt)&&/native code/.test(Ke(nt));var rt,it=ae("keys");rt=function(e){return it[e]||(it[e]=_e(e))};var ot={};ot={};var st,at,ut,ct="Object already initialized",lt=u.TypeError,ft=u.WeakMap;if(tt||ce.state){var dt=ce.state||(ce.state=new ft),pt=k(dt.get),ht=k(dt.has),mt=k(dt.set);st=function(e,t){if(ht(dt,e))throw new lt(ct);return t.facade=e,mt(dt,e,t),t},at=function(e){return pt(dt,e)||{}},ut=function(e){return ht(dt,e)}}else{var vt=rt("state");ot[vt]=!0,st=function(e,t){if(he(e,vt))throw new lt(ct);return t.facade=e,Oe(e,vt,t),t},at=function(e){return he(e,vt)?e[vt]:{}},ut=function(e){return he(e,vt)}}var _t=(et={set:st,get:at,has:ut,enforce:function(e){return ut(e)?at(e):st(e,{})},getterFor:function(e){return function(t){var n;if(!I(t)||(n=at(t)).type!==e)throw lt("Incompatible receiver, "+e+" required");return n}}}).enforce,yt=et.get,gt=Object.defineProperty,bt=l&&!f((function(){return 8!==gt((function(){}),"length",{value:8}).length})),St=String(String).split("String"),kt=We=function(e,t,n){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!he(e,"name")||Xe&&e.name!==t)&&gt(e,"name",{value:t,configurable:!0}),bt&&n&&he(n,"arity")&&e.length!==n.arity&&gt(e,"length",{value:n.arity}),n&&he(n,"constructor")&&n.constructor){if(l)try{gt(e,"prototype",{writable:!1})}catch(e){}}else e.prototype=void 0;var r=_t(e);return he(r,"source")||(r.source=St.join("string"==typeof t?t:"")),e};Function.prototype.toString=kt((function(){return j(this)&&yt(this).source||Ke(this)}),"toString"),Ye=function(e,t,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,a=r&&void 0!==r.name?r.name:t;return j(n)&&We(n,a,r),e===u?(o?e[t]=n:ue(t,n),e):(i?!s&&e[t]&&(o=!0):delete e[t],o?e[t]=n:Oe(e,t,n),e)};var wt,qt,Dt,Et,Rt,At={},Pt=Math.ceil,Tt=Math.floor;Rt=function(e){var t=+e;return t!=t||0===t?0:(t>0?Tt:Pt)(t)};var Lt=Math.max,Ct=Math.min;Et=function(e,t){var n=Rt(e);return n<0?Lt(n+t,0):Ct(n,t)};var Mt,xt,Ot=Math.min;xt=function(e){return e>0?Ot(Rt(e),9007199254740991):0},Mt=function(e){return xt(e.length)};var It=function(e){return function(t,n,r){var i,o=b(t),s=Mt(o),a=Et(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},jt={includes:It(!0),indexOf:It(!1)}.indexOf,Nt=k([].push);Dt=function(e,t){var n,r=b(e),i=0,o=[];for(n in r)!he(ot,n)&&he(r,n)&&Nt(o,n);for(;t.length>i;)he(r,n=t[i++])&&(~jt(o,n)||Nt(o,n));return o};var $t,Bt={},Ht=(Bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]).concat("length","prototype");qt=Object.getOwnPropertyNames||function(e){return Dt(e,Ht)},$t=Object.getOwnPropertySymbols;var Ft=k([].concat);At=N("Reflect","ownKeys")||function(e){var t=qt(Ie(e));return $t?Ft(t,$t(e)):t},wt=function(e,t,n){for(var r=At(t),i=Le,o=a,s=0;s<r.length;s++){var u=r[s];he(e,u)||n&&he(n,u)||i(e,u,o(t,u))}};var Ut={},Vt=/#|\.prototype\./,Yt=function(e,t){var n=Gt[Wt(e)];return n==Jt||n!=zt&&(j(t)?f(t):!!t)},Wt=Yt.normalize=function(e){return String(e).replace(Vt,".").toLowerCase()},Gt=Yt.data={},zt=Yt.NATIVE="N",Jt=Yt.POLYFILL="P";Ut=Yt,s=function(e,t){var n,r,i,o,s,a=e.target,c=e.global,l=e.stat;if(n=c?u:l?u[a]||ue(a,{}):(u[a]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=xe(n,r))&&s.value:n[r],!Ut(c?r:a+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;wt(o,i)}(e.sham||i&&i.sham)&&Oe(o,"sham",!0),Ye(n,r,o,e)}};var Qt,Xt,Kt=k(k.bind);Xt=function(e,t){return ee(e),void 0===t?e:d?Kt(e,t):function(){return e.apply(t,arguments)}};var Zt,en;en=function(e,t,n){var r,i;Ie(e);try{if(!(r=Z(e,"return"))){if("throw"===t)throw n;return n}r=p(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Ie(r),n},Zt=function(e,t,n,r){try{return r?t(Ie(n)[0],n[1]):t(n)}catch(t){en(e,"throw",t)}};var tn,nn={};nn={};var rn=se("iterator"),on=Array.prototype;tn=function(e){return void 0!==e&&(nn.Array===e||on[rn]===e)};var sn,an={},un={},cn={};cn[se("toStringTag")]="z",sn="[object z]"===String(cn);var ln=se("toStringTag"),fn=u.Object,dn="Arguments"==R(function(){return arguments}());un=sn?R:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=fn(e),ln))?n:dn?R(t):"Object"==(r=R(t))&&j(t.callee)?"Arguments":r};var pn=function(){},hn=[],mn=N("Reflect","construct"),vn=/^\s*(?:class|function)\b/,_n=k(vn.exec),yn=!vn.exec(pn),gn=function(e){if(!j(e))return!1;try{return mn(pn,hn,e),!0}catch(e){return!1}},bn=function(e){if(!j(e))return!1;switch(un(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return yn||!!_n(vn,Ke(e))}catch(e){return!0}};bn.sham=!0,an=!mn||f((function(){var e;return gn(gn.call)||!gn(Object)||!gn((function(){e=!0}))||e}))?bn:gn;var Sn;Sn=function(e,t,n){var r=x(t);r in e?Le(e,r,g(0,n)):e[r]=n};var kn,wn,qn=se("iterator");wn=function(e){if(null!=e)return Z(e,qn)||Z(e,"@@iterator")||nn[un(e)]};var Dn=u.TypeError;kn=function(e,t){var n=arguments.length<2?wn(e):t;if(ee(n))return Ie(p(n,e));throw Dn(te(e)+" is not iterable")};var En=u.Array;Qt=function(e){var t=pe(e),n=an(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Xt(i,r>2?arguments[2]:void 0));var s,a,u,c,l,f,d=wn(t),h=0;if(!d||this==En&&tn(d))for(s=Mt(t),a=n?new this(s):En(s);s>h;h++)f=o?i(t[h],h):t[h],Sn(a,h,f);else for(l=(c=kn(t,d)).next,a=n?new this:[];!(u=p(l,c)).done;h++)f=o?Zt(c,i,[u.value,h],!0):u.value,Sn(a,h,f);return a.length=h,a};var Rn,An=se("iterator"),Pn=!1;try{var Tn=0,Ln={next:function(){return{done:!!Tn++}},return:function(){Pn=!0}};Ln[An]=function(){return this},Array.from(Ln,(function(){throw 2}))}catch(e){}var Cn=!(Rn=function(e,t){if(!t&&!Pn)return!1;var n=!1;try{var r={};r[An]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n})((function(e){Array.from(e)}));s({target:"Array",stat:!0,forced:Cn},{from:Qt});var Mn={},xn={};xn=Object.keys||function(e){return Dt(e,Bt)};var On=Object.assign,In=Object.defineProperty,jn=k([].concat);Mn=!On||f((function(){if(l&&1!==On({b:1},On(In({},"a",{enumerable:!0,get:function(){In(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=On({},e)[n]||xn(On({},t)).join("")!=r}))?function(e,t){for(var n=pe(e),r=arguments.length,i=1,o=$t,s=h;r>i;)for(var a,u=S(arguments[i++]),c=o?jn(xn(u),o(u)):xn(u),f=c.length,d=0;f>d;)a=c[d++],l&&!p(s,u,a)||(n[a]=u[a]);return n}:On,s({target:"Object",stat:!0,arity:2,forced:Object.assign!==Mn},{assign:Mn});var Nn,$n,Bn,Hn={};Bn=l&&!Ce?Object.defineProperties:function(e,t){Ie(e);for(var n,r=b(t),i=xn(t),o=i.length,s=0;o>s;)Le(e,n=i[s++],r[n]);return e};var Fn={};Fn=N("document","documentElement");var Un,Vn=rt("IE_PROTO"),Yn=function(){},Wn=function(e){return"<script>"+e+"</"+"script>"},Gn=function(e){e.write(Wn("")),e.close();var t=e.parentWindow.Object;return e=null,t},zn=function(){try{Un=new ActiveXObject("htmlfile")}catch(e){}var e,t;zn="undefined"!=typeof document?document.domain&&Un?Gn(Un):((t=Ae("iframe")).style.display="none",Fn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Wn("document.F=Object")),e.close(),e.F):Gn(Un);for(var n=Bt.length;n--;)delete zn.prototype[Bt[n]];return zn()};ot[Vn]=!0,Hn=Object.create||function(e,t){var n;return null!==e?(Yn.prototype=Ie(e),n=new Yn,Yn.prototype=null,n[Vn]=e):n=zn(),void 0===t?n:Bn(n,t)};var Jn=se("unscopables"),Qn=Array.prototype;null==Qn[Jn]&&Le(Qn,Jn,{configurable:!0,value:Hn(null)}),$n=function(e){Qn[Jn][e]=!0};var Xn,Kn,Zn,er,tr=Le,nr={};er=!f((function(){var e=function(){};return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}));var rr=rt("IE_PROTO"),ir=u.Object,or=ir.prototype;nr=er?ir.getPrototypeOf:function(e){var t=pe(e);if(he(t,rr))return t[rr];var n=t.constructor;return j(n)&&t instanceof n?n.prototype:t instanceof ir?or:null};var sr,ar,ur,cr=se("iterator"),lr=!1;[].keys&&("next"in(ur=[].keys())?(ar=nr(nr(ur)))!==Object.prototype&&(sr=ar):lr=!0),(null==sr||f((function(){var e={};return sr[cr].call(e)!==e})))&&(sr={}),j(sr[cr])||Ye(sr,cr,(function(){return this}));var fr,dr=(Zn={IteratorPrototype:sr,BUGGY_SAFARI_ITERATORS:lr}).IteratorPrototype,pr=Le,hr=se("toStringTag");fr=function(e,t,n){e&&!n&&(e=e.prototype),e&&!he(e,hr)&&pr(e,hr,{configurable:!0,value:t})};var mr=function(){return this};Kn=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Hn(dr,{next:g(+!r,n)}),fr(e,i,!1),nn[i]=mr,e};var vr,_r={},yr=u.String,gr=u.TypeError;vr=function(e){if("object"==typeof e||j(e))return e;throw gr("Can't set "+yr(e)+" as a prototype")},_r=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=k(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Ie(n),vr(r),t?e(n,r):n.__proto__=r,n}}():void 0);var br=Ge.PROPER,Sr=Ge.CONFIGURABLE,kr=Zn.IteratorPrototype,wr=Zn.BUGGY_SAFARI_ITERATORS,qr=se("iterator"),Dr="keys",Er="values",Rr="entries",Ar=function(){return this};Xn=function(e,t,n,r,i,o,a){Kn(n,t,r);var u,c,l,f=function(e){if(e===i&&_)return _;if(!wr&&e in m)return m[e];switch(e){case Dr:case Er:case Rr:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,m=e.prototype,v=m[qr]||m["@@iterator"]||i&&m[i],_=!wr&&v||f(i),y="Array"==t&&m.entries||v;if(y&&(u=nr(y.call(new e)))!==Object.prototype&&u.next&&(nr(u)!==kr&&(_r?_r(u,kr):j(u[qr])||Ye(u,qr,Ar)),fr(u,d,!0)),br&&i==Er&&v&&v.name!==Er&&(Sr?Oe(m,"name",Er):(h=!0,_=function(){return p(v,this)})),i)if(c={values:f(Er),keys:o?_:f(Dr),entries:f(Rr)},a)for(l in c)(wr||h||!(l in m))&&Ye(m,l,c[l]);else s({target:t,proto:!0,forced:wr||h},c);return m[qr]!==_&&Ye(m,qr,_,{name:i}),nn[t]=_,c};var Pr="Array Iterator",Tr=et.set,Lr=et.getterFor(Pr);Nn=Xn(Array,"Array",(function(e,t){Tr(this,{type:Pr,target:b(e),index:0,kind:t})}),(function(){var e=Lr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var Cr=nn.Arguments=nn.Array;if($n("keys"),$n("values"),$n("entries"),l&&"values"!==Cr.name)try{tr(Cr,"name",{value:"values"})}catch(e){}var Mr;Mr=sn?{}.toString:function(){return"[object "+un(this)+"]"},sn||Ye(Object.prototype,"toString",Mr,{unsafe:!0});var xr;xr="process"==R(u.process);var Or,Ir=se("species");Or=function(e){var t=N(e),n=Le;l&&t&&!t[Ir]&&n(t,Ir,{configurable:!0,get:function(){return this}})};var jr,Nr=u.TypeError;jr=function(e,t){if(H(t,e))return e;throw Nr("Incorrect invocation")};var $r,Br,Hr=u.TypeError;Br=function(e){if(an(e))return e;throw Hr(te(e)+" is not a constructor")};var Fr=se("species");$r=function(e,t){var n,r=Ie(e).constructor;return void 0===r||null==(n=Ie(r)[Fr])?t:Br(n)};var Ur,Vr={},Yr=Function.prototype,Wr=Yr.apply,Gr=Yr.call;Vr="object"==typeof Reflect&&Reflect.apply||(d?Gr.bind(Wr):function(){return Gr.apply(Wr,arguments)});var zr={};zr=k([].slice);var Jr,Qr=u.TypeError;Jr=function(e,t){if(e<t)throw Qr("Not enough arguments");return e};var Xr;Xr=/(?:ipad|iphone|ipod).*applewebkit/i.test(Y);var Kr,Zr,ei,ti,ni=u.setImmediate,ri=u.clearImmediate,ii=u.process,oi=u.Dispatch,si=u.Function,ai=u.MessageChannel,ui=u.String,ci=0,li={},fi="onreadystatechange";try{Kr=u.location}catch(e){}var di=function(e){if(he(li,e)){var t=li[e];delete li[e],t()}},pi=function(e){return function(){di(e)}},hi=function(e){di(e.data)},mi=function(e){u.postMessage(ui(e),Kr.protocol+"//"+Kr.host)};ni&&ri||(ni=function(e){Jr(arguments.length,1);var t=j(e)?e:si(e),n=zr(arguments,1);return li[++ci]=function(){Vr(t,void 0,n)},Zr(ci),ci},ri=function(e){delete li[e]},xr?Zr=function(e){ii.nextTick(pi(e))}:oi&&oi.now?Zr=function(e){oi.now(pi(e))}:ai&&!Xr?(ti=(ei=new ai).port2,ei.port1.onmessage=hi,Zr=Xt(ti.postMessage,ti)):u.addEventListener&&j(u.postMessage)&&!u.importScripts&&Kr&&"file:"!==Kr.protocol&&!f(mi)?(Zr=mi,u.addEventListener("message",hi,!1)):Zr=fi in Ae("script")?function(e){Fn.appendChild(Ae("script")).onreadystatechange=function(){Fn.removeChild(this),di(e)}}:function(e){setTimeout(pi(e),0)});var vi,_i=(Ur={set:ni,clear:ri}).set,yi={},gi=a,bi=Ur.set;vi=/ipad|iphone|ipod/i.test(Y)&&void 0!==u.Pebble;var Si;Si=/web0s(?!.*chrome)/i.test(Y);var ki,wi,qi,Di,Ei,Ri,Ai,Pi,Ti=u.MutationObserver||u.WebKitMutationObserver,Li=u.document,Ci=u.process,Mi=u.Promise,xi=gi(u,"queueMicrotask"),Oi=xi&&xi.value;Oi||(ki=function(){var e,t;for(xr&&(e=Ci.domain)&&e.exit();wi;){t=wi.fn,wi=wi.next;try{t()}catch(e){throw wi?Di():qi=void 0,e}}qi=void 0,e&&e.enter()},Xr||xr||Si||!Ti||!Li?!vi&&Mi&&Mi.resolve?((Ai=Mi.resolve(void 0)).constructor=Mi,Pi=Xt(Ai.then,Ai),Di=function(){Pi(ki)}):xr?Di=function(){Ci.nextTick(ki)}:(bi=Xt(bi,u),Di=function(){bi(ki)}):(Ei=!0,Ri=Li.createTextNode(""),new Ti(ki).observe(Ri,{characterData:!0}),Di=function(){Ri.data=Ei=!Ei})),yi=Oi||function(e){var t={fn:e,next:void 0};qi&&(qi.next=t),wi||(wi=t,Di()),qi=t};var Ii;Ii=function(e,t){var n=u.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))};var ji;ji=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}};var Ni={},$i=function(){this.head=null,this.tail=null};$i.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},Ni=$i;var Bi={};Bi=u.Promise;var Hi,Fi;Fi="object"==typeof window&&"object"!=typeof Deno;Bi&&Bi.prototype;var Ui,Vi=se("species"),Yi=!1,Wi=j(u.PromiseRejectionEvent),Gi=Ut("Promise",(function(){var e=Ke(Bi),t=e!==String(Bi);if(!t&&66===V)return!0;if(V>=51&&/native code/.test(e))return!1;var n=new Bi((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[Vi]=r,!(Yi=n.then((function(){}))instanceof r)||!t&&Fi&&!Wi})),zi=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ee(t),this.reject=ee(n)};Ui=function(e){return new zi(e)};var Ji,Qi,Xi,Ki="Promise",Zi=(Hi={CONSTRUCTOR:Gi,REJECTION_EVENT:Wi,SUBCLASSING:Yi}).CONSTRUCTOR,eo=Hi.REJECTION_EVENT,to=Hi.SUBCLASSING,no=et.getterFor(Ki),ro=et.set,io=Bi&&Bi.prototype,oo=Bi,so=io,ao=u.TypeError,uo=u.document,co=u.process,lo=Ui,fo=lo,po=!!(uo&&uo.createEvent&&u.dispatchEvent),ho="unhandledrejection",mo=function(e){var t;return!(!I(e)||!j(t=e.then))&&t},vo=function(e,t){var n,r,i,o=t.value,s=1==t.state,a=s?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&So(t),t.rejection=1),!0===a?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),i=!0)),n===e.promise?c(ao("Promise-chain cycle")):(r=mo(n))?p(r,n,u,c):u(n)):c(o)}catch(e){l&&!i&&l.exit(),c(e)}},_o=function(e,t){e.notified||(e.notified=!0,yi((function(){for(var n,r=e.reactions;n=r.get();)vo(n,e);e.notified=!1,t&&!e.rejection&&go(e)})))},yo=function(e,t,n){var r,i;po?((r=uo.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!eo&&(i=u["on"+e])?i(r):e===ho&&Ii("Unhandled promise rejection",n)},go=function(e){p(_i,u,(function(){var t,n=e.facade,r=e.value;if(bo(e)&&(t=ji((function(){xr?co.emit("unhandledRejection",r,n):yo(ho,n,r)})),e.rejection=xr||bo(e)?2:1,t.error))throw t.value}))},bo=function(e){return 1!==e.rejection&&!e.parent},So=function(e){p(_i,u,(function(){var t=e.facade;xr?co.emit("rejectionHandled",t):yo("rejectionhandled",t,e.value)}))},ko=function(e,t,n){return function(r){e(t,r,n)}},wo=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,_o(e,!0))},qo=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ao("Promise can't be resolved itself");var r=mo(t);r?yi((function(){var n={done:!1};try{p(r,t,ko(qo,n,e),ko(wo,n,e))}catch(t){wo(n,t,e)}})):(e.value=t,e.state=1,_o(e,!1))}catch(t){wo({done:!1},t,e)}}};if(Zi&&(so=(oo=function(e){jr(this,so),ee(e),p(Ji,this);var t=no(this);try{e(ko(qo,t),ko(wo,t))}catch(e){wo(t,e)}}).prototype,(Ji=function(e){ro(this,{type:Ki,done:!1,notified:!1,parent:!1,reactions:new Ni,rejection:!1,state:0,value:void 0})}).prototype=Ye(so,"then",(function(e,t){var n=no(this),r=lo($r(this,oo));return n.parent=!0,r.ok=!j(e)||e,r.fail=j(t)&&t,r.domain=xr?co.domain:void 0,0==n.state?n.reactions.add(r):yi((function(){vo(r,n)})),r.promise})),Qi=function(){var e=new Ji,t=no(e);this.promise=e,this.resolve=ko(qo,t),this.reject=ko(wo,t)},Ui=lo=function(e){return e===oo||undefined===e?new Qi(e):fo(e)},j(Bi)&&io!==Object.prototype)){Xi=io.then,to||Ye(io,"then",(function(e,t){var n=this;return new oo((function(e,t){p(Xi,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete io.constructor}catch(e){}_r&&_r(io,so)}s({global:!0,constructor:!0,wrap:!0,forced:Zi},{Promise:oo}),fr(oo,Ki,!1),Or(Ki);var Do,Eo=u.TypeError,Ro=function(e,t){this.stopped=e,this.result=t},Ao=Ro.prototype;Do=function(e,t,n){var r,i,o,s,a,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),m=Xt(t,l),v=function(e){return r&&en(r,"normal",e),new Ro(!0,e)},_=function(e){return f?(Ie(e),h?m(e[0],e[1],v):m(e[0],e[1])):h?m(e,v):m(e)};if(d)r=e;else{if(!(i=wn(e)))throw Eo(te(e)+" is not iterable");if(tn(i)){for(o=0,s=Mt(e);s>o;o++)if((a=_(e[o]))&&H(Ao,a))return a;return new Ro(!1)}r=kn(e,i)}for(u=r.next;!(c=p(u,r)).done;){try{a=_(c.value)}catch(e){en(r,"throw",e)}if("object"==typeof a&&a&&H(Ao,a))return a}return new Ro(!1)};var Po;Po=Hi.CONSTRUCTOR||!Rn((function(e){Bi.all(e).then(void 0,(function(){}))})),s({target:"Promise",stat:!0,forced:Po},{all:function(e){var t=this,n=Ui(t),r=n.resolve,i=n.reject,o=ji((function(){var n=ee(t.resolve),o=[],s=0,a=1;Do(e,(function(e){var u=s++,c=!1;a++,p(n,t,e).then((function(e){c||(c=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise}});var To=Hi.CONSTRUCTOR,Lo=Bi&&Bi.prototype;if(s({target:"Promise",proto:!0,forced:To,real:!0},{catch:function(e){return this.then(void 0,e)}}),j(Bi)){var Co=N("Promise").prototype.catch;Lo.catch!==Co&&Ye(Lo,"catch",Co,{unsafe:!0})}s({target:"Promise",stat:!0,forced:Po},{race:function(e){var t=this,n=Ui(t),r=n.reject,i=ji((function(){var i=ee(t.resolve);Do(e,(function(e){p(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),s({target:"Promise",stat:!0,forced:Hi.CONSTRUCTOR},{reject:function(e){var t=Ui(this);return p(t.reject,void 0,e),t.promise}});var Mo,xo=Hi.CONSTRUCTOR;Mo=function(e,t){if(Ie(e),I(t)&&t.constructor===e)return t;var n=Ui(e);return(0,n.resolve)(t),n.promise};N("Promise");s({target:"Promise",stat:!0,forced:xo},{resolve:function(e){return Mo(this,e)}});var Oo=Bi&&Bi.prototype,Io=!!Bi&&f((function(){Oo.finally.call({then:function(){}},(function(){}))}));if(s({target:"Promise",proto:!0,real:!0,forced:Io},{finally:function(e){var t=$r(this,N("Promise")),n=j(e);return this.then(n?function(n){return Mo(t,e()).then((function(){return n}))}:e,n?function(n){return Mo(t,e()).then((function(){throw n}))}:e)}}),j(Bi)){var jo=N("Promise").prototype.finally;Oo.finally!==jo&&Ye(Oo,"finally",jo,{unsafe:!0})}var No,$o=Error,Bo=k("".replace),Ho=String($o("zxcasd").stack),Fo=/\n\s*at [^:]*:[^\n]*/,Uo=Fo.test(Ho);No=function(e,t){if(Uo&&"string"==typeof e&&!$o.prepareStackTrace)for(;t--;)e=Bo(e,Fo,"");return e};var Vo;Vo=function(e,t){I(t)&&"cause"in t&&Oe(e,"cause",t.cause)};var Yo,Wo,Go=u.String;Wo=function(e){if("Symbol"===un(e))throw TypeError("Cannot convert a Symbol value to a string");return Go(e)},Yo=function(e,t){return void 0===e?arguments.length<2?"":t:Wo(e)};var zo;zo=!f((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",g(1,7)),7!==e.stack)}));var Jo=se("toStringTag"),Qo=u.Error,Xo=[].push,Ko=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=H(Zo,this);_r?n=_r(new Qo,i?nr(this):Zo):(n=i?this:Hn(Zo),Oe(n,Jo,"Error")),void 0!==t&&Oe(n,"message",Yo(t)),zo&&Oe(n,"stack",No(n.stack,1)),Vo(n,r);var o=[];return Do(e,Xo,{that:o}),Oe(n,"errors",o),n};_r?_r(Ko,Qo):wt(Ko,Qo,{name:!0});var Zo=Ko.prototype=Hn(Qo.prototype,{constructor:g(1,Ko),message:g(1,""),name:g(1,"AggregateError")});s({global:!0,constructor:!0,arity:2},{AggregateError:Ko}),s({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Ui(t),r=n.resolve,i=n.reject,o=ji((function(){var n=ee(t.resolve),i=[],o=0,s=1;Do(e,(function(e){var a=o++,u=!1;s++,p(n,t,e).then((function(e){u||(u=!0,i[a]={status:"fulfilled",value:e},--s||r(i))}),(function(e){u||(u=!0,i[a]={status:"rejected",reason:e},--s||r(i))}))})),--s||r(i)}));return o.error&&i(o.value),n.promise}});var es="No one promise resolved";s({target:"Promise",stat:!0},{any:function(e){var t=this,n=N("AggregateError"),r=Ui(t),i=r.resolve,o=r.reject,s=ji((function(){var r=ee(t.resolve),s=[],a=0,u=1,c=!1;Do(e,(function(e){var l=a++,f=!1;u++,p(r,t,e).then((function(e){f||c||(c=!0,i(e))}),(function(e){f||c||(f=!0,s[l]=e,--u||o(new n(s,es)))}))})),--u||o(new n(s,es))}));return s.error&&o(s.value),r.promise}}),s({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=Ui(this),n=ji(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var ts;ts={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var ns,rs=Ae("span").classList,is=rs&&rs.constructor&&rs.constructor.prototype;ns=is===Object.prototype?void 0:is;var os=se("iterator"),ss=se("toStringTag"),as=Nn.values,us=function(e,t){if(e){if(e[os]!==as)try{Oe(e,os,as)}catch(t){e[os]=as}if(e[ss]||Oe(e,ss,t),ts[t])for(var n in Nn)if(e[n]!==Nn[n])try{Oe(e,n,Nn[n])}catch(t){e[n]=Nn[n]}}};for(var cs in ts)us(u[cs]&&u[cs].prototype,cs);us(ns,"DOMTokenList");var ls,fs=k("".charAt),ds=k("".charCodeAt),ps=k("".slice),hs=function(e){return function(t,n){var r,i,o=Wo(C(t)),s=Rt(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=ds(o,s))<55296||r>56319||s+1===a||(i=ds(o,s+1))<56320||i>57343?e?fs(o,s):r:e?ps(o,s,s+2):i-56320+(r-55296<<10)+65536}},ms=(ls={codeAt:hs(!1),charAt:hs(!0)}).charAt,vs="String Iterator",_s=et.set,ys=et.getterFor(vs);Xn(String,"String",(function(e){_s(this,{type:vs,string:Wo(e),index:0})}),(function(){var e,t=ys(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=ms(n,r),t.index+=e.length,{value:e,done:!1})}));var gs,bs=se("iterator");gs=!f((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[bs]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}));var Ss;Ss=function(e,t,n){return n.get&&We(n.get,t,{getter:!0}),n.set&&We(n.set,t,{setter:!0}),Le(e,t,n)};var ks,ws=u.Array,qs=Math.max;ks=function(e,t,n){for(var r=Mt(e),i=Et(t,r),o=Et(void 0===n?r:n,r),s=ws(qs(o-i,0)),a=0;i<o;i++,a++)Sn(s,a,e[i]);return s.length=a,s};var Ds,Es=ls.codeAt,Rs=2147483647,As=/[^\0-\u007E]/,Ps=/[.\u3002\uFF0E\uFF61]/g,Ts="Overflow: input needs wider integers to process",Ls=u.RangeError,Cs=k(Ps.exec),Ms=Math.floor,xs=String.fromCharCode,Os=k("".charCodeAt),Is=k([].join),js=k([].push),Ns=k("".replace),$s=k("".split),Bs=k("".toLowerCase),Hs=function(e){return e+22+75*(e<26)},Fs=function(e,t,n){var r=0;for(e=n?Ms(e/700):e>>1,e+=Ms(e/t);e>455;)e=Ms(e/35),r+=36;return Ms(r+36*e/(e+38))},Us=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=Os(e,n++);if(i>=55296&&i<=56319&&n<r){var o=Os(e,n++);56320==(64512&o)?js(t,((1023&i)<<10)+(1023&o)+65536):(js(t,i),n--)}else js(t,i)}return t}(e);var n,r,i=e.length,o=128,s=0,a=72;for(n=0;n<e.length;n++)(r=e[n])<128&&js(t,xs(r));var u=t.length,c=u;for(u&&js(t,"-");c<i;){var l=Rs;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<l&&(l=r);var f=c+1;if(l-o>Ms((Rs-s)/f))throw Ls(Ts);for(s+=(l-o)*f,o=l,n=0;n<e.length;n++){if((r=e[n])<o&&++s>Rs)throw Ls(Ts);if(r==o){for(var d=s,p=36;;){var h=p<=a?1:p>=a+26?26:p-a;if(d<h)break;var m=d-h,v=36-h;js(t,xs(Hs(h+m%v))),d=Ms(m/v),p+=36}js(t,xs(Hs(d))),a=Fs(s,f,c==u),s=0,c++}}s++,o++}return Is(t,"")};Ds=function(e){var t,n,r=[],i=$s(Ns(Bs(e),Ps,"."),".");for(t=0;t<i.length;t++)n=i[t],js(r,Cs(As,n)?"xn--"+Us(n):n);return Is(r,".")};var Vs,Ys;Ys=function(e,t,n){for(var r in t)Ye(e,r,t[r],n);return e};var Ws={},Gs=Math.floor,zs=function(e,t){var n=e.length,r=Gs(n/2);return n<8?Js(e,t):Qs(e,zs(ks(e,0,r),t),zs(ks(e,r),t),t)},Js=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},Qs=function(e,t,n,r){for(var i=t.length,o=n.length,s=0,a=0;s<i||a<o;)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e};Ws=zs;var Xs=se("iterator"),Ks="URLSearchParams",Zs="URLSearchParamsIterator",ea=et.set,ta=et.getterFor(Ks),na=et.getterFor(Zs),ra=Object.getOwnPropertyDescriptor,ia=function(e){if(!l)return u[e];var t=ra(u,e);return t&&t.value},oa=ia("fetch"),sa=ia("Request"),aa=ia("Headers"),ua=sa&&sa.prototype,ca=aa&&aa.prototype,la=u.RegExp,fa=u.TypeError,da=u.decodeURIComponent,pa=u.encodeURIComponent,ha=k("".charAt),ma=k([].join),va=k([].push),_a=k("".replace),ya=k([].shift),ga=k([].splice),ba=k("".split),Sa=k("".slice),ka=/\+/g,wa=Array(4),qa=function(e){return wa[e-1]||(wa[e-1]=la("((?:%[\\da-f]{2}){"+e+"})","gi"))},Da=function(e){try{return da(e)}catch(t){return e}},Ea=function(e){var t=_a(e,ka," "),n=4;try{return da(t)}catch(e){for(;n;)t=_a(t,qa(n--),Da);return t}},Ra=/[!'()~]|%20/g,Aa={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Pa=function(e){return Aa[e]},Ta=function(e){return _a(pa(e),Ra,Pa)},La=Kn((function(e,t){ea(this,{type:Zs,iterator:kn(ta(e).entries),kind:t})}),"Iterator",(function(){var e=na(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),Ca=function(e){this.entries=[],this.url=null,void 0!==e&&(I(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===ha(e,0)?Sa(e,1):e:Wo(e)))};Ca.prototype={type:Ks,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,a,u=wn(e);if(u)for(n=(t=kn(e,u)).next;!(r=p(n,t)).done;){if(o=(i=kn(Ie(r.value))).next,(s=p(o,i)).done||(a=p(o,i)).done||!p(o,i).done)throw fa("Expected sequence with length 2");va(this.entries,{key:Wo(s.value),value:Wo(a.value)})}else for(var c in e)he(e,c)&&va(this.entries,{key:c,value:Wo(e[c])})},parseQuery:function(e){if(e)for(var t,n,r=ba(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=ba(t,"="),va(this.entries,{key:Ea(ya(n)),value:Ea(ma(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],va(n,Ta(e.key)+"="+Ta(e.value));return ma(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ma=function(){jr(this,xa);var e=arguments.length>0?arguments[0]:void 0;ea(this,new Ca(e))},xa=Ma.prototype;if(Ys(xa,{append:function(e,t){Jr(arguments.length,2);var n=ta(this);va(n.entries,{key:Wo(e),value:Wo(t)}),n.updateURL()},delete:function(e){Jr(arguments.length,1);for(var t=ta(this),n=t.entries,r=Wo(e),i=0;i<n.length;)n[i].key===r?ga(n,i,1):i++;t.updateURL()},get:function(e){Jr(arguments.length,1);for(var t=ta(this).entries,n=Wo(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Jr(arguments.length,1);for(var t=ta(this).entries,n=Wo(e),r=[],i=0;i<t.length;i++)t[i].key===n&&va(r,t[i].value);return r},has:function(e){Jr(arguments.length,1);for(var t=ta(this).entries,n=Wo(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Jr(arguments.length,1);for(var n,r=ta(this),i=r.entries,o=!1,s=Wo(e),a=Wo(t),u=0;u<i.length;u++)(n=i[u]).key===s&&(o?ga(i,u--,1):(o=!0,n.value=a));o||va(i,{key:s,value:a}),r.updateURL()},sort:function(){var e=ta(this);Ws(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=ta(this).entries,r=Xt(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new La(this,"keys")},values:function(){return new La(this,"values")},entries:function(){return new La(this,"entries")}},{enumerable:!0}),Ye(xa,Xs,xa.entries,{name:"entries"}),Ye(xa,"toString",(function(){return ta(this).serialize()}),{enumerable:!0}),fr(Ma,Ks),s({global:!0,constructor:!0,forced:!gs},{URLSearchParams:Ma}),!gs&&j(aa)){var Oa=k(ca.has),Ia=k(ca.set),ja=function(e){if(I(e)){var t,n=e.body;if(un(n)===Ks)return t=e.headers?new aa(e.headers):new aa,Oa(t,"content-type")||Ia(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Hn(e,{body:g(0,Wo(n)),headers:g(0,t)})}return e};if(j(oa)&&s({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return oa(e,arguments.length>1?ja(arguments[1]):{})}}),j(sa)){var Na=function(e){return jr(this,ua),new sa(e,arguments.length>1?ja(arguments[1]):{})};ua.constructor=Na,Na.prototype=ua,s({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:Na})}}Vs={URLSearchParams:Ma,getState:ta};var $a,Ba=et.set,Ha=et.getterFor("URL"),Fa=Vs.URLSearchParams,Ua=Vs.getState,Va=u.URL,Ya=u.TypeError,Wa=u.parseInt,Ga=Math.floor,za=Math.pow,Ja=k("".charAt),Qa=k(/./.exec),Xa=k([].join),Ka=k(1..toString),Za=k([].pop),eu=k([].push),tu=k("".replace),nu=k([].shift),ru=k("".split),iu=k("".slice),ou=k("".toLowerCase),su=k([].unshift),au="Invalid scheme",uu="Invalid host",cu="Invalid port",lu=/[a-z]/i,fu=/[\d+-.a-z]/i,du=/\d/,pu=/^0x/i,hu=/^[0-7]+$/,mu=/^\d+$/,vu=/^[\da-f]+$/i,_u=/[\0\t\n\r #%/:<>?@[\\\]^|]/,yu=/[\0\t\n\r #/:<>?@[\\\]^|]/,gu=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,bu=/[\t\n\r]/g,Su=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)su(t,e%256),e=Ga(e/256);return Xa(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=Ka(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ku={},wu=Mn({},ku,{" ":1,'"':1,"<":1,">":1,"`":1}),qu=Mn({},wu,{"#":1,"?":1,"{":1,"}":1}),Du=Mn({},qu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Eu=function(e,t){var n=Es(e,0);return n>32&&n<127&&!he(t,e)?e:encodeURIComponent(e)},Ru={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Au=function(e,t){var n;return 2==e.length&&Qa(lu,Ja(e,0))&&(":"==(n=Ja(e,1))||!t&&"|"==n)},Pu=function(e){var t;return e.length>1&&Au(iu(e,0,2))&&(2==e.length||"/"===(t=Ja(e,2))||"\\"===t||"?"===t||"#"===t)},Tu=function(e){return"."===e||"%2e"===ou(e)},Lu={},Cu={},Mu={},xu={},Ou={},Iu={},ju={},Nu={},$u={},Bu={},Hu={},Fu={},Uu={},Vu={},Yu={},Wu={},Gu={},zu={},Ju={},Qu={},Xu={},Ku=function(e,t,n){var r,i,o,s=Wo(e);if(t){if(i=this.parse(s))throw Ya(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ku(n,!0)),i=this.parse(s,null,r))throw Ya(i);(o=Ua(new Fa)).bindURL(this),this.searchParams=o}};Ku.prototype={type:"URL",parse:function(e,t,n){var r,i,o,s,a,u=this,c=t||Lu,l=0,f="",d=!1,p=!1,h=!1;for(e=Wo(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=tu(e,gu,"")),e=tu(e,bu,""),r=Qt(e);l<=r.length;){switch(i=r[l],c){case Lu:if(!i||!Qa(lu,i)){if(t)return au;c=Mu;continue}f+=ou(i),c=Cu;break;case Cu:if(i&&(Qa(fu,i)||"+"==i||"-"==i||"."==i))f+=ou(i);else{if(":"!=i){if(t)return au;f="",c=Mu,l=0;continue}if(t&&(u.isSpecial()!=he(Ru,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,t)return void(u.isSpecial()&&Ru[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?c=Vu:u.isSpecial()&&n&&n.scheme==u.scheme?c=xu:u.isSpecial()?c=Nu:"/"==r[l+1]?(c=Ou,l++):(u.cannotBeABaseURL=!0,eu(u.path,""),c=Ju)}break;case Mu:if(!n||n.cannotBeABaseURL&&"#"!=i)return au;if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=ks(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=Xu;break}c="file"==n.scheme?Vu:Iu;continue;case xu:if("/"!=i||"/"!=r[l+1]){c=Iu;continue}c=$u,l++;break;case Ou:if("/"==i){c=Bu;break}c=zu;continue;case Iu:if(u.scheme=n.scheme,i==$a)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ks(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())c=ju;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ks(n.path),u.query="",c=Qu;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ks(n.path),u.path.length--,c=zu;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=ks(n.path),u.query=n.query,u.fragment="",c=Xu}break;case ju:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=zu;continue}c=Bu}else c=$u;break;case Nu:if(c=$u,"/"!=i||"/"!=Ja(f,l+1))continue;l++;break;case $u:if("/"!=i&&"\\"!=i){c=Bu;continue}break;case Bu:if("@"==i){d&&(f="%40"+f),d=!0,o=Qt(f);for(var m=0;m<o.length;m++){var v=o[m];if(":"!=v||h){var _=Eu(v,Du);h?u.password+=_:u.username+=_}else h=!0}f=""}else if(i==$a||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(d&&""==f)return"Invalid authority";l-=Qt(f).length+1,f="",c=Hu}else f+=i;break;case Hu:case Fu:if(t&&"file"==u.scheme){c=Wu;continue}if(":"!=i||p){if(i==$a||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f)return uu;if(t&&""==f&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(f))return s;if(f="",c=Gu,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),f+=i}else{if(""==f)return uu;if(s=u.parseHost(f))return s;if(f="",c=Uu,t==Fu)return}break;case Uu:if(!Qa(du,i)){if(i==$a||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||t){if(""!=f){var y=Wa(f,10);if(y>65535)return cu;u.port=u.isSpecial()&&y===Ru[u.scheme]?null:y,f=""}if(t)return;c=Gu;continue}return cu}f+=i;break;case Vu:if(u.scheme="file","/"==i||"\\"==i)c=Yu;else{if(!n||"file"!=n.scheme){c=zu;continue}if(i==$a)u.host=n.host,u.path=ks(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=ks(n.path),u.query="",c=Qu;else{if("#"!=i){Pu(Xa(ks(r,l),""))||(u.host=n.host,u.path=ks(n.path),u.shortenPath()),c=zu;continue}u.host=n.host,u.path=ks(n.path),u.query=n.query,u.fragment="",c=Xu}}break;case Yu:if("/"==i||"\\"==i){c=Wu;break}n&&"file"==n.scheme&&!Pu(Xa(ks(r,l),""))&&(Au(n.path[0],!0)?eu(u.path,n.path[0]):u.host=n.host),c=zu;continue;case Wu:if(i==$a||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&Au(f))c=zu;else if(""==f){if(u.host="",t)return;c=Gu}else{if(s=u.parseHost(f))return s;if("localhost"==u.host&&(u.host=""),t)return;f="",c=Gu}continue}f+=i;break;case Gu:if(u.isSpecial()){if(c=zu,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=$a&&(c=zu,"/"!=i))continue}else u.fragment="",c=Xu;else u.query="",c=Qu;break;case zu:if(i==$a||"/"==i||"\\"==i&&u.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(a=ou(a=f))||"%2e."===a||".%2e"===a||"%2e%2e"===a?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||eu(u.path,"")):Tu(f)?"/"==i||"\\"==i&&u.isSpecial()||eu(u.path,""):("file"==u.scheme&&!u.path.length&&Au(f)&&(u.host&&(u.host=""),f=Ja(f,0)+":"),eu(u.path,f)),f="","file"==u.scheme&&(i==$a||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)nu(u.path);"?"==i?(u.query="",c=Qu):"#"==i&&(u.fragment="",c=Xu)}else f+=Eu(i,qu);break;case Ju:"?"==i?(u.query="",c=Qu):"#"==i?(u.fragment="",c=Xu):i!=$a&&(u.path[0]+=Eu(i,ku));break;case Qu:t||"#"!=i?i!=$a&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":Eu(i,ku)):(u.fragment="",c=Xu);break;case Xu:i!=$a&&(u.fragment+=Eu(i,wu))}l++}},parseHost:function(e){var t,n,r;if("["==Ja(e,0)){if("]"!=Ja(e,e.length-1))return uu;if(t=function(e){var t,n,r,i,o,s,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return Ja(e,f)};if(":"==d()){if(":"!=Ja(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&Qa(vu,d());)t=16*t+Wa(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!Qa(du,d()))return;for(;Qa(du,d());){if(o=Wa(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(s=c-l,c=7;0!=c&&s>0;)a=u[c],u[c--]=u[l+s-1],u[l+--s]=a;else if(8!=c)return;return u}(iu(e,1,-1)),!t)return uu;this.host=t}else if(this.isSpecial()){if(e=Ds(e),Qa(_u,e))return uu;if(t=function(e){var t,n,r,i,o,s,a,u=ru(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==Ja(i,0)&&(o=Qa(pu,i)?16:8,i=iu(i,8==o?1:2)),""===i)s=0;else{if(!Qa(10==o?mu:8==o?hu:vu,i))return e;s=Wa(i,o)}eu(n,s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=za(256,5-t))return null}else if(s>255)return null;for(a=Za(n),r=0;r<n.length;r++)a+=n[r]*za(256,3-r);return a}(e),null===t)return uu;this.host=t}else{if(Qa(yu,e))return uu;for(t="",n=Qt(e),r=0;r<n.length;r++)t+=Eu(n[r],ku);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return he(Ru,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&Au(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=Su(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+Xa(s,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw Ya(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Zu(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+Su(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Wo(e)+":",Lu)},getUsername:function(){return this.username},setUsername:function(e){var t=Qt(Wo(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Eu(t[n],Du)}},getPassword:function(){return this.password},setPassword:function(e){var t=Qt(Wo(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Eu(t[n],Du)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Su(e):Su(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Hu)},getHostname:function(){var e=this.host;return null===e?"":Su(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Fu)},getPort:function(){var e=this.port;return null===e?"":Wo(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=Wo(e))?this.port=null:this.parse(e,Uu))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Xa(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Gu))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=Wo(e))?this.query=null:("?"==Ja(e,0)&&(e=iu(e,1)),this.query="",this.parse(e,Qu)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=Wo(e))?("#"==Ja(e,0)&&(e=iu(e,1)),this.fragment="",this.parse(e,Xu)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Zu=function(e){var t=jr(this,ec),n=Jr(arguments.length,1)>1?arguments[1]:void 0,r=Ba(t,new Ku(e,!1,n));l||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},ec=Zu.prototype,tc=function(e,t){return{get:function(){return Ha(this)[e]()},set:t&&function(e){return Ha(this)[t](e)},configurable:!0,enumerable:!0}};if(l&&(Ss(ec,"href",tc("serialize","setHref")),Ss(ec,"origin",tc("getOrigin")),Ss(ec,"protocol",tc("getProtocol","setProtocol")),Ss(ec,"username",tc("getUsername","setUsername")),Ss(ec,"password",tc("getPassword","setPassword")),Ss(ec,"host",tc("getHost","setHost")),Ss(ec,"hostname",tc("getHostname","setHostname")),Ss(ec,"port",tc("getPort","setPort")),Ss(ec,"pathname",tc("getPathname","setPathname")),Ss(ec,"search",tc("getSearch","setSearch")),Ss(ec,"searchParams",tc("getSearchParams")),Ss(ec,"hash",tc("getHash","setHash"))),Ye(ec,"toJSON",(function(){return Ha(this).serialize()}),{enumerable:!0}),Ye(ec,"toString",(function(){return Ha(this).serialize()}),{enumerable:!0}),Va){var nc=Va.createObjectURL,rc=Va.revokeObjectURL;nc&&Ye(Zu,"createObjectURL",Xt(nc,Va)),rc&&Ye(Zu,"revokeObjectURL",Xt(rc,Va))}fr(Zu,"URL"),s({global:!0,constructor:!0,forced:!gs,sham:!l},{URL:Zu}),s({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return p(URL.prototype.toString,this)}});var ic;ic={gravite:o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("1Asc7"),gravite_superieure:o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("burrT"),interrogation:o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("cg0Av"),ok:o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("h1Ahd"),stable:o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("8PjzC")};var oc=["second","minute","hour","day","week","month","year"];var sc=["秒","分钟","小时","天","周","个月","年"];var ac={},uc=function(e,t){ac[e]=t},cc=function(e){return ac[e]||ac.en_US},lc=[60,60,24,7,365/7/12,12];function fc(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function dc(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=lc[i]&&i<lc.length;i++)e/=lc[i];return(e=Math.floor(e))>(0===(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}function pc(e,t){return(+(t?fc(t):new Date)-+fc(e))/1e3}var hc=function(e,t,n){return dc(pc(e,n&&n.relativeDate),cc(t))};function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(e,t,n){return t&&vc(e.prototype,t),n&&vc(e,n),e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bc(e){return function(e){if(Array.isArray(e))return gc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}uc("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=oc[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),uc("zh_CN",(function(e,t){if(0===t)return["刚刚","片刻后"];var n=sc[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}));var Sc=function(){"use strict";function e(t){mc(this,e),this.uidDomain="default",this.prodId="Calendar",this.SEPARATOR=-1!==t.indexOf("Win")?"\r\n":"\n",this.calendarEvents=[],this.calendarStart=["BEGIN:VCALENDAR","PRODID:"+this.prodId,"VERSION:2.0"].join(this.SEPARATOR),this.calendarEnd=this.SEPARATOR+"END:VCALENDAR"}return _c(e,[{key:"addEvent",value:function(e,t,n,r,i,o){var s=new Date(n);s.setHours(s.getHours()+r);var a=this.generateDates(n,s,o),u=this.generateRRule(i),c=["BEGIN:VEVENT","UID:"+this.calendarEvents.length+"@"+this.uidDomain,"CLASS:PUBLIC","DESCRIPTION:"+t,"DTSTAMP;VALUE=DATE-TIME:"+a.now,"DTSTART;VALUE=DATE-TIME:"+a.start,"DTEND;VALUE=DATE-TIME:"+a.end,"SUMMARY;LANGUAGE=fr-fr:"+e,"TRANSP:TRANSPARENT","END:VEVENT"];u&&c.splice(4,0,u);var l=c.join(this.SEPARATOR);return this.calendarEvents.push(l),l}},{key:"generateCalendar",value:function(){return this.calendarStart+this.SEPARATOR+this.calendarEvents.join(this.SEPARATOR)+this.calendarEnd}},{key:"generateDates",value:function(e,t,n){var r=n||new Date,i=("0000"+e.getFullYear().toString()).slice(-4),o=("00"+(e.getMonth()+1).toString()).slice(-2),s=("00"+e.getDate().toString()).slice(-2),a=("00"+e.getHours().toString()).slice(-2),u=("00"+e.getMinutes().toString()).slice(-2),c=("00"+e.getMinutes().toString()).slice(-2),l=("0000"+t.getFullYear().toString()).slice(-4),f=("00"+(t.getMonth()+1).toString()).slice(-2),d=("00"+t.getDate().toString()).slice(-2),p="T"+a+u+c,h="T"+("00"+t.getHours().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2)+("00"+t.getMinutes().toString()).slice(-2);return"T000000"===p&&"T000000"===h&&(p="",h=""),{start:i+o+s+p,end:l+f+d+h,now:("0000"+r.getFullYear().toString()).slice(-4)+("00"+(r.getMonth()+1).toString()).slice(-2)+("00"+r.getDate().toString()).slice(-2)+("T"+("00"+r.getHours().toString()).slice(-2)+("00"+r.getMinutes().toString()).slice(-2)+("00"+r.getSeconds().toString()).slice(-2))}}},{key:"generateRRule",value:function(e){var t;return e&&(e.rrule?t=e.rrule:(t="RRULE:FREQ="+e.freq,t+=";INTERVAL="+e.interval,t+=";COUNT="+e.count)),t}}]),e}(),kc={};function wc(e,t){var n=t.estMonProfil()?qc:Dc;Array.from(e.querySelectorAll(".me")).forEach(n)}function qc(e){Rc(e),Ec(e.nextSibling)}function Dc(e){Ec(e),Rc(e.nextSibling)}function Ec(e){e&&(e.setAttribute("hidden",""),e.classList.remove("visible"))}function Rc(e){e&&(e.removeAttribute("hidden"),e.classList.add("visible"))}function Ac(e,t){Array.from(e.querySelectorAll(t)).forEach(Ec)}function Pc(e,t){Array.from(e.querySelectorAll(t)).forEach(Rc)}function Tc(e,t,n){n||Ac(e,t)}function Lc(e,t){var n=e.querySelector("#"+t);n&&Rc(n)}function Cc(e,t){t.forEach((function(t){Lc(e,t)}))}function Mc(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function xc(e,t){var n=e.cloneNode(!0);for(t.innerHTML="";n.firstElementChild;)t.insertAdjacentElement("beforeend",n.firstElementChild)}function Oc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;")}function Ic(e){var t=function(){return"/"===n.pathname?"":n.hash},n=e.location,r=e.document,i=r.body.dataset.statsUrl,o={domain:n.hostname};return function(s,a){var u,c={};if(c.n=s,c.u=n.protocol+"//"+n.hostname+jc()+n.search+t(),c.d=o.domain,c.r=r.referrer||null,c.w=e.innerWidth,a&&a.props&&(c.p=JSON.stringify(a.props)),/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^0\.0\.0\.0$|^(?:0*:)*?:?0*1$/.test(n.hostname)||"file:"===n.protocol){u="running locally",console.warn("[Plausible] Ignore event: "+u);var l=`${c.n}:${jc().slice(1)}`;return a&&a.props&&a.props.source&&(l=`${l}:${a.props.source}`),e.app._plausibleTrackingEvents.push(l),void console.debug("[Plausible]",JSON.stringify(c))}var f=new XMLHttpRequest;f.open("POST",i+"/api/event",!0),f.setRequestHeader("Content-Type","text/plain"),f.send(JSON.stringify(c)),f.onreadystatechange=function(){4==f.readyState&&a&&a.callback&&a.callback()}}}function jc(){return"/"===location.pathname?"/"+location.hash.slice(1):location.pathname}function Nc(){return document.body.classList.contains("page-thematique")}function $c(e,t){var n=document.querySelectorAll(".thematiques a");Array.from(n).forEach((function(n){var r=n.getAttribute("href");n.addEventListener("click",(function(n){n.preventDefault(),e.plausible(t,{chemin:`${jc()} → ${r}`}),window.location=r}))}))}function Bc(e){xc(document.querySelector("#feedback-difficultes"),e)}function Hc(e,t,n){e.style.transition=`opacity ${t/1e3}s`,e.style.opacity="0",window.setTimeout((function(){e.style.opacity="1",n(e)}),t)}function Fc(e,t){Array.from(e.querySelectorAll(".button-feedback")).forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault();var r=n.target.dataset.feedback;t.plausible(`Avis ${r}`),function(e,n){var r=n.dataset.feedbackTransitionDelay;Hc(n,r,(function(n){Ec(n.querySelector(".feedback-question")),Rc(n.querySelector(".feedback-form")),n.querySelector(".feedback-form textarea").focus(),n.querySelector(".feedback-form form").addEventListener("submit",(function(i){i.preventDefault(),Uc({feedbackHost:document.body.dataset.statsUrl,kind:e,message:i.target.elements.message.value,page:Nc()?document.location.pathname.slice(1):Xc(),source:t.source}),Hc(n,r,(function(e){Ec(e.querySelector(".feedback-form")),Rc(e.querySelector(".feedback-thankyou")),Rc(e.querySelector(".feedback-partager"))}))}))}))}(r,e)}))}));var n=e.querySelector(".button-partager");n&&n.addEventListener("click",(function(n){n.preventDefault(),t.plausible("Menu Partager");var r=e.dataset.feedbackTransitionDelay;Hc(e,r,(function(e){Ec(e.querySelector(".feedback-question")),Rc(e.querySelector(".feedback-partager")),void 0===navigator.share&&Ec(e.querySelector(".feedback-partager .button-feedback-partager").parentElement);var r=e.querySelectorAll(".feedback-partager a");Array.from(r).forEach((function(e){e.addEventListener("click",(function(){var r=e.dataset.service;t.plausible("Partage avec…",{service:r}),"autres"===r&&(n.preventDefault(),navigator.share({title:document.title,text:"Retrouvez cette information sur MesConseilsCovid",url:window.location}))}))}))}))})),document.addEventListener("pageChanged",(function(){Ec(e.querySelector(".feedback-form")),Ec(e.querySelector(".feedback-thankyou")),Ec(e.querySelector(".feedback-partager")),Rc(e.querySelector(".feedback-question"))}))}function Uc(e){var t=e.feedbackHost,n=e.kind,r=e.message,i=e.page,o=e.question,s=e.source,a=new XMLHttpRequest;a.open("POST",t+"/feedback",!0),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({kind:n,message:r,page:i,question:o,source:s}))}function Vc(e,t){var n=t||new Date;return new Date(n.setDate(n.getDate()-e))}function Yc(e,t){var n=t||new Date;return new Date(n.setDate(n.getDate()+e))}kc=function(){"use strict";var e=function(){return!("undefined"==typeof window||!window.history||!window.history.pushState)},t=function(t,n,r){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===r?"#":r,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&e(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",t?this.root=n?t.replace(/\/$/,"/"+this._hash):t.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()},n=function(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"^/")},r=function(e){return e.replace(/\/$/,"").split("/").length},i=function(e,t){return r(t)-r(e)},o=function(e,r){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(r){var i=function(e){var n=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(t.PARAMETER_REGEXP,(function(e,r,i){return n.push(i),t.REPLACE_VARIABLE_REGEXP})).replace(t.WILDCARD_REGEXP,t.REPLACE_WILDCARD)+t.FOLLOWED_BY_SLASH_REGEXP,t.MATCH_REGEXP_FLAGS),paramNames:n}}(n(r.route)),o=i.regexp,s=i.paramNames,a=e.replace(/^\/+/,"/").match(o),u=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce((function(e,n,r){return null===e&&(e={}),e[t[r]]=decodeURIComponent(n),e}),null):null}(a,s);return!!a&&{match:a,route:r,params:u}})).filter((function(e){return e}))}(e,r)[0]||!1},s=function(e,t){var r=t.map((function(t){return""===t.route||"*"===t.route?e:e.split(new RegExp(t.route+"($|/)"))[0]})),i=n(e);return r.length>1?r.reduce((function(e,t){return e.length>t.length&&(e=t),e}),r[0]):1===r.length?r[0]:i},a=function(t,n,r){var i,o=function(e){return e.split(/\?(.*)?$/)[0]};return void 0===r&&(r="#"),e()&&!n?o(t).split(r)[0]:(i=t.split(r)).length>1?o(i[1]):o(i[0])},u=function(e,t,n){if(t&&"object"===(void 0===t?"undefined":c(t))){if(t.before)return void t.before((function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e(),t.after&&t.after(n))}),n);if(t.after)return e(),void(t.after&&t.after(n))}e()},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return t.prototype={helpers:{match:o,root:s,clean:n,getOnlyURL:a},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(e=e.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+e),this},on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if("function"==typeof n[0])this._defaultHandler={handler:n[0],hooks:n[1]};else if(n.length>=2)if("/"===n[0]){var o=n[1];"object"===c(n[1])&&(o=n[1].uses),this._defaultHandler={handler:o,hooks:n[2]}}else this._add(n[0],n[1],n[2]);else"object"===c(n[0])&&Object.keys(n[0]).sort(i).forEach((function(t){e.on(t,n[0][t])}));return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce((function(t,n){return n.handler!==e&&t.push(n),t}),[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(t){var n,r,i=this,s=(t||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(s=s.replace(new RegExp("^/"+this._hash),"/"));var c=function(e){return e.split(/\?(.*)?$/).slice(1).join("")}(t||this._cLoc()),l=a(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&c===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(r=o(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:c,hooks:r.route.hooks,params:r.params,name:r.route.name},n=r.route.handler,u((function(){u((function(){r.route.route instanceof RegExp?n.apply(void 0,r.match.slice(1,r.match.length)):n(r.params,c)}),r.route.hooks,r.params,i._genericHooks)}),this._genericHooks,r.params),r):this._defaultHandler&&(""===l||"/"===l||l===this._hash||function(t,n,r){if(e()&&!n)return!1;if(!t.match(r))return!1;var i=t.split(r);return i.length<2||""===i[1]}(l,this._useHash,this._hash))?(u((function(){u((function(){i._callLeave(),i._lastRouteResolved={url:l,query:c,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(c)}),i._defaultHandler.hooks)}),this._genericHooks),!0):(this._notFoundHandler&&u((function(){u((function(){i._callLeave(),i._lastRouteResolved={url:l,query:c,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(c)}),i._notFoundHandler.hooks)}),this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var e=this;"undefined"!=typeof document&&this._findLinks().forEach((function(t){t.hasListenerAttached||(t.addEventListener("click",(function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var r=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(r.replace(/\/+$/,"").replace(/^\/+/,"/")))})),t.hasListenerAttached=!0)}))},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce((function(n,r){var i;if(r.name===e)for(i in n=r.route,t)n=n.toString().replace(":"+i,t[i]);return n}),"");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){e()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute("href")},hooks:function(e){this._genericHooks=e},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof e&&(e=encodeURI(e)),this._routes.push("object"===(void 0===t?"undefined":c(t))?{route:e,handler:t.uses,name:t.as,hooks:n||t.hooks}:{route:e,handler:t,hooks:n}),this._add},_getRoot:function(){return null!==this.root||(this.root=s(this._cLoc().split("?")[0],this._routes)),this.root},_listen:function(){var e=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),n=void 0,r=void 0;(r=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(r,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:n(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},t.PARAMETER_REGEXP=/([:*])(\w+)/g,t.WILDCARD_REGEXP=/\*/g,t.REPLACE_VARIABLE_REGEXP="([^/]+)",t.REPLACE_WILDCARD="(?:.*)",t.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",t.MATCH_REGEXP_FLAGS="",t}();function Wc(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((r-n)/864e5)}function Gc(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zc(e){var t=[];return e.sup65?t.push("vous êtes âgé·e de plus de 65 ans"):e.profil.grossesse_3e_trimestre&&t.push("vous êtes au 3e trimestre de votre grossesse"),e.imc>30&&t.push("vous avez un IMC supérieur à 30 ("+Math.round(e.imc)+")"),t}function Jc(e){return 1===e.length?e[0]:2===e.length?e.join(" et "):e.slice(0,e.length-1).join(", ")+" et "+e[e.length-1]}function Qc(e){var t=[];return e.antecedents&&t.push("vous avez des antécédents à risque"),e.profil.antecedent_chronique_autre&&t.push("vous avez une maladie chronique, un handicap ou vous prenez un traitement au long cours"),t}function Xc(){var e=document.location.hash;return(e?e.slice(1):"").split("?")[0]}var Kc="introduction",Zc=function(){"use strict";function e(t){mc(this,e),this.app=t,this.initialTitle=document.title,this.navigo=this.initNavigo(),this.setupGlobalHooks(),this.setupNotFound()}return _c(e,[{key:"initNavigo",value:function(){var e=new(t(kc))(null,!0);return"/"!==e.root.slice(-1)&&(e.root=e.root+"/"),e}},{key:"resolve",value:function(){return this.navigo.resolve()}},{key:"lastRouteResolved",value:function(){return this.navigo.lastRouteResolved()}},{key:"navigate",value:function(e){return this.navigo.navigate(e)}},{key:"setupGlobalHooks",value:function(){this.navigo.hooks({before:this.beforeGlobalHook.bind(this),after:this.afterGlobalHook.bind(this)})}},{key:"beforeGlobalHook",value:function(e){var t,n,r=document.querySelector("header section");void 0===this.app.profil.nom?(Rc(r.querySelector(".js-profil-empty")),Ec(r.querySelector(".js-profil-full"))):(Rc(r.querySelector(".js-profil-full")),Ec(r.querySelector(".js-profil-empty")),t=r.querySelector("#nom-profil-header"),n=this.app,t&&(t.textContent=n.profil.affichageNom())),e()}},{key:"afterGlobalHook",value:function(){this.sendPageChangeEvent(),this.focusMainHeaderElement()}},{key:"sendPageChangeEvent",value:function(){var e=Xc();document.dispatchEvent(new CustomEvent("pageChanged",{detail:e}))}},{key:"focusMainHeaderElement",value:function(){var e;null===(e=document.querySelector('[role="banner"]'))||void 0===e||e.focus()}},{key:"addQuestionnaireRoute",value:function(e,t,n){var r=this;this.addAppRoute(e,(function(e,n){t(e,n),Bc(e.querySelector(".feedback-difficultes")),Fc(e.querySelector(".feedback-component"),n)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yc(e,t,n[t])}))}return e}({},n,{beforeFunc:function(t){return void 0===t.nom&&t.resetData("mes_infos"),r.app.questionnaire.before(e,t)}}))}},{key:"addAppRoute",value:function(e,t,n){var r=this;this.addRoute(e,(function(e){t(e,r.app)}),n)}},{key:"addRoute",value:function(e,t,n){var r,i=this;r=n&&void 0!==n.route?n.route:new RegExp("^"+e+"$");var o=n&&n.beforeFunc,s=n&&n.pageTitle;this.navigo.on(r,(function(){var n=i.loadPage(e,i.app);i.updateTitle(n,e,s,i.app.profil),i.fillProgress(n,e),i.fillNavigation(n,e),t(n),i.app.trackPageView(e),n.classList.remove("loading"),n.classList.add("ready")}),{before:function(t){if(void 0!==o){var n=o(i.app.profil,i.app.questionnaire);n&&n!==e?(i.redirectTo(n),t(!1)):t()}else t()}})}},{key:"loadPage",value:function(e){var t=document.querySelector("section#page");return t.classList.remove("ready"),t.classList.add("loading"),xc(document.querySelector("#"+e),t),wc(t,this.app.profil),this.scrollToTopOfPage(),t}},{key:"scrollToTopOfPage",value:function(){"function"==typeof document.documentElement.scrollTo?document.documentElement.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}},{key:"updateTitle",value:function(e,t,n,r){var i=n;if(void 0===n){var o=e.querySelector("h1, #conseils-block-titre, h2");i=o?o.innerText:Gc(t)}var s=i?" — ":"",a=this.app.questionnaire.numeroEtape(t,r),u=a?` (étape ${a})`:"";document.title=i+u+s+this.initialTitle}},{key:"fillProgress",value:function(e,t){var n=e.querySelector(".progress");n&&(n.innerText=this.app.questionnaire.etapesRestantes(t))}},{key:"fillNavigation",value:function(e,t){var n=this,r=e.querySelector("form .back-button, .form-controls .back-button");if(r){var i=this.app.questionnaire.previousPage(t,this.app.profil);i&&r.setAttribute("href",`#${i}`)}Array.from(e.querySelectorAll(".premiere-question")).forEach((function(e){e.setAttribute("href",`#${n.app.questionnaire.firstPage}`)}))}},{key:"setupNotFound",value:function(){var e=this;this.navigo.notFound((function(){e.redirectTo(Kc)}))}},{key:"redirectTo",value:function(e){"undefined"!=typeof window&&window.history&&window.history.replaceState?(window.history.replaceState({},"",`#${e}`),this.navigo.resolve()):this.navigo.navigate(e)}}]),e}();function el(e,t){var n=new Sc(navigator.appVersion),r="https://mesconseilscovid.sante.gouv.fr/#suiviintroduction";t.hasSymptomesStartDate()&&n.addEvent("Début symptômes Covid-19",`Vous pouvez faire votre suivi quotidien sur ${r}`,t.symptomes_start_date,1,void 0);var i={freq:"DAILY",interval:1,count:15};n.addEvent("Suivi Covid-19",`Aller faire mon suivi quotidien sur ${r}`,t.suivi_start_date,1,i);var o=n.generateCalendar();Array.from(e.querySelectorAll(".js-calendar")).forEach((function(e){var t="data:text/x-vCalendar;charset=utf-8,"+encodeURIComponent(o);e.setAttribute("href",t)}))}function tl(e,t){e.querySelector(".js-impression").addEventListener("click",(function(n){n.preventDefault(),t.plausible("Impression");try{Array.from(e.querySelectorAll("details")).forEach((function(e){e.setAttribute("open","")})),window.setTimeout((function(){return window.print()}),400)}catch(e){console.error(e),alert("Cette fonctionnalité n’est pas présente sur votre appareil")}}))}function nl(e,t){e.addEventListener("click",(function(e){e.preventDefault(),t.plausible("Suppression totale"),confirm("Êtes-vous sûr·e de vouloir supprimer tous les profils ?")&&t.supprimerTout().then((function(){t.router&&(t.router.lastRouteResolved().url!==Kc?t.router.navigate(Kc):window.location.reload(!0))}))}))}function rl(e){var t,n,r;e.trackPageView(document.location.pathname),Fc(document.querySelector(".feedback-component"),e),tl(document,e),Array.from(document.querySelectorAll(".cta [data-set-profil]")).forEach((function(t){!function(e,t){e.addEventListener("click",(function(n){n.preventDefault(),t.plausible("Je veux des conseils personnalisés"),t.basculerVersProfil(e.dataset.setProfil).then((function(){window.location=n.target.getAttribute("href")}))}))}(t,e)})),n=document.querySelectorAll("summary .lire-la-suite .button"),Array.from(n).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=ol(e.target);t&&t.setAttribute("open","")}))})),il(),window.addEventListener("hashchange",il),t=document.querySelectorAll("details.bloc-a-deplier > summary"),Array.from(t).forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement;setTimeout((function(){t.scrollIntoView({behavior:sl()})}),100),function(e){e.id&&"undefined"!=typeof window&&window.history&&window.history.replaceState&&window.history.replaceState({},"",`#${e.id}`)}(t)}))})),r=document.querySelectorAll(".feedback-partager a"),Array.from(r).forEach((function(e){var t=e.href,n=new URL(document.URL);n.searchParams.set("source","partage-thematique"),t=t.replace("https%3A%2F%2Fmesconseilscovid.sante.gouv.fr%2F",encodeURIComponent(n)),e.href=t})),function(e){var t=document.querySelectorAll("form.question-feedback");Array.from(t).forEach((function(t){var n=t.parentNode.querySelector('[itemprop="name"]'),r=n.innerText.substring(0,n.innerText.length-2),i=t.querySelectorAll('input[type="submit"]');Array.from(i).forEach((function(e){e.addEventListener("click",(function(e){t.submitter=e.target}))})),t.addEventListener("submit",(function(n){n.preventDefault();var i=n.target.submitter.dataset.value;e.plausible("Avis par question",{reponse:`${r} : ${i}`});var o=n.target.submitter.value;Hc(t,500,(function(e){!function(e,t,n,r,i){var o=document.createElement("form");o.classList.add("feedback-form"),o.innerHTML=`\n        <fieldset>\n            <p role="status">Merci pour votre retour.</p>\n            <label for="message_conseils">${i}</label>\n            <textarea id="message_conseils" name="message" rows="9" cols="20" required></textarea>\n        </fieldset>\n        <div class="form-controls">\n            <input type="submit" class="button" value="Envoyer mes remarques">\n        </div>\n    `,e.parentNode.replaceChild(o,e),o.addEventListener("submit",(function(e){e.preventDefault(),Uc({feedbackHost:document.body.dataset.statsUrl,kind:t,message:e.target.elements.message.value,page:document.location.pathname.slice(1),question:n,source:window.app.source}),function(e,t,n){var r=document.createElement("div");r.style.color="#656565",r.style.textAlign="center",r.style.border="2px solid #d5dbef",r.innerHTML=`\n        <p>Votre réponse : ${n}</p>\n        <p>Merci pour votre avis !</p>\n        `,e.parentNode.replaceChild(r,e)}(o,0,r)}))}(e,i,r,o,"oui"===i?"Avez-vous des remarques ou des suggestions pour améliorer ces conseils ?":"Pouvez-vous nous en dire plus, afin que nous puissions améliorer ces conseils ?")}))}))}))}(e),$c(e,"Navigue vers une thématique depuis une autre thématique")}function il(){var e=document.location.hash?document.location.hash.slice(1):"";if(e){var t=document.querySelector(`#${e}`),n=ol(t);n&&(n.setAttribute("open",""),setTimeout((function(){t.scrollIntoView({behavior:sl()})}),100))}}function ol(e){for(;e;){if("details"===e.tagName.toLowerCase())return e;e=e.parentElement}}function sl(){return!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth"}var al=function(){"use strict";function e(t,n){mc(this,e),this.nom=t,this.fillData(n||{})}return _c(e,[{key:"suivi_start_date",get:function(){if(void 0!==this._suivi_start_date)return new Date(this._suivi_start_date)},set:function(e){this._suivi_start_date=void 0!==e?e.toJSON():void 0}},{key:"symptomes_start_date",get:function(){if(void 0!==this._symptomes_start_date)return new Date(this._symptomes_start_date)},set:function(e){this._symptomes_start_date=void 0!==e?e.toJSON():void 0}},{key:"depistage_start_date",get:function(){if(void 0!==this._depistage_start_date)return new Date(this._depistage_start_date)},set:function(e){this._depistage_start_date=void 0!==e?e.toJSON():void 0}},{key:"covid_passee_date",get:function(){if(void 0!==this._covid_passee_date)return new Date(this._covid_passee_date)},set:function(e){this._covid_passee_date=void 0!==e?e.toJSON():void 0}},{key:"deconfinement_date",get:function(){if(void 0!==this._deconfinement_date)return new Date(this._deconfinement_date)},set:function(e){this._deconfinement_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_start_date",get:function(){if(void 0!==this._questionnaire_start_date)return new Date(this._questionnaire_start_date)},set:function(e){this._questionnaire_start_date=void 0!==e?e.toJSON():void 0}},{key:"questionnaire_completion_date",get:function(){if(void 0!==this._questionnaire_completion_date)return new Date(this._questionnaire_completion_date)},set:function(e){this._questionnaire_completion_date=void 0!==e?e.toJSON():void 0}},{key:"resetSuivi",value:function(){this._suivi_start_date=void 0,this._deconfinement_date=void 0,this.suivi=[]}},{key:"resetData",value:function(e){this.nom=e,this.departement=void 0,this.activite_pro=void 0,this.activite_pro_sante=void 0,this.foyer_autres_personnes=void 0,this.foyer_enfants=void 0,this.age=void 0,this.grossesse_3e_trimestre=void 0,this.poids=void 0,this.taille=void 0,this.antecedent_cardio=void 0,this.antecedent_diabete=void 0,this.antecedent_respi=void 0,this.antecedent_dialyse=void 0,this.antecedent_greffe=void 0,this.antecedent_cancer=void 0,this.antecedent_immunodep=void 0,this.antecedent_cirrhose=void 0,this.antecedent_drepano=void 0,this.antecedent_trisomie=void 0,this.antecedent_chronique_autre=void 0,this.symptomes_actuels=void 0,this.symptomes_actuels_temperature=void 0,this.symptomes_actuels_temperature_inconnue=void 0,this.symptomes_actuels_toux=void 0,this.symptomes_actuels_odorat=void 0,this.symptomes_actuels_douleurs=void 0,this.symptomes_actuels_diarrhee=void 0,this.symptomes_actuels_fatigue=void 0,this.symptomes_actuels_alimentation=void 0,this.symptomes_actuels_souffle=void 0,this.symptomes_actuels_autre=void 0,this.symptomes_passes=void 0,this.contact_a_risque=void 0,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0,this._symptomes_start_date=void 0,this.depistage=void 0,this.depistage_type=void 0,this.depistage_resultat=void 0,this.depistage_variante=void 0,this._depistage_start_date=void 0,this.vaccins=void 0,this.covid_passee=void 0,this._covid_passee_date=void 0,this.suivi_active=!1,this.resetSuivi(),this._questionnaire_start_date=void 0,this._questionnaire_completion_date=void 0}},{key:"fillData",value:function(e){this.departement=e.departement,this.activite_pro=e.activite_pro,this.activite_pro_sante=e.activite_pro_sante,this.foyer_autres_personnes=e.foyer_autres_personnes,this.foyer_enfants=e.foyer_enfants,this.age=e.age,this.grossesse_3e_trimestre=e.grossesse_3e_trimestre,this.poids=e.poids,this.taille=e.taille,this.antecedent_cardio=e.antecedent_cardio,this.antecedent_diabete=e.antecedent_diabete,this.antecedent_respi=e.antecedent_respi,this.antecedent_dialyse=e.antecedent_dialyse,this.antecedent_greffe=e.antecedent_greffe,this.antecedent_cancer=e.antecedent_cancer,this.antecedent_immunodep=e.antecedent_immunodep,this.antecedent_cirrhose=e.antecedent_cirrhose,this.antecedent_drepano=e.antecedent_drepano,this.antecedent_trisomie=e.antecedent_trisomie,this.antecedent_chronique_autre=e.antecedent_chronique_autre,this.symptomes_actuels=e.symptomes_actuels,this.symptomes_actuels_temperature=e.symptomes_actuels_temperature,this.symptomes_actuels_temperature_inconnue=e.symptomes_actuels_temperature_inconnue,this.symptomes_actuels_toux=e.symptomes_actuels_toux,this.symptomes_actuels_odorat=e.symptomes_actuels_odorat,this.symptomes_actuels_douleurs=e.symptomes_actuels_douleurs,this.symptomes_actuels_diarrhee=e.symptomes_actuels_diarrhee,this.symptomes_actuels_fatigue=e.symptomes_actuels_fatigue,this.symptomes_actuels_alimentation=e.symptomes_actuels_alimentation,this.symptomes_actuels_souffle=e.symptomes_actuels_souffle,this.symptomes_actuels_autre=e.symptomes_actuels_autre,this.symptomes_passes=e.symptomes_passes,this.contact_a_risque=e.contact_a_risque,this.contact_a_risque_meme_lieu_de_vie=e.contact_a_risque_meme_lieu_de_vie,this.contact_a_risque_contact_direct=e.contact_a_risque_contact_direct,this.contact_a_risque_actes=e.contact_a_risque_actes,this.contact_a_risque_espace_confine=e.contact_a_risque_espace_confine,this.contact_a_risque_tousse_eternue=e.contact_a_risque_tousse_eternue,this.contact_a_risque_meme_classe=e.contact_a_risque_meme_classe,this.contact_a_risque_stop_covid=e.contact_a_risque_stop_covid,this.contact_a_risque_assurance_maladie=e.contact_a_risque_assurance_maladie,this.contact_a_risque_autre=e.contact_a_risque_autre,this.contact_a_risque_variante=e.contact_a_risque_variante,this.depistage=e.depistage,this.depistage_type=e.depistage_type,this.depistage_resultat=e.depistage_resultat,this.depistage_variante=e.depistage_variante,this._depistage_start_date=e._depistage_start_date,"boolean"==typeof e.vaccins?this.vaccins=e.vaccins?"completement":"pas_encore":this.vaccins=e.vaccins,this.covid_passee=e.covid_passee,this._covid_passee_date=e._covid_passee_date,this._suivi_start_date=e._suivi_start_date,this._symptomes_start_date=e._symptomes_start_date,this._deconfinement_date=e._deconfinement_date,this.suivi_active=e.suivi_active||!1,this.suivi=e.suivi||[],this._questionnaire_start_date=e._questionnaire_start_date,this._questionnaire_completion_date=e._questionnaire_completion_date}},{key:"fillContactARisque",value:function(e){this.contact_a_risque=e,this.contact_a_risque_meme_lieu_de_vie=void 0,this.contact_a_risque_contact_direct=void 0,this.contact_a_risque_actes=void 0,this.contact_a_risque_espace_confine=void 0,this.contact_a_risque_tousse_eternue=void 0,this.contact_a_risque_meme_classe=void 0,this.contact_a_risque_stop_covid=void 0,this.contact_a_risque_assurance_maladie=void 0,this.contact_a_risque_autre=void 0,this.contact_a_risque_variante=void 0}},{key:"fillTestData",value:function(e,t,n){var r={symptomes_actuels:!1,symptomes_actuels_temperature:!1,symptomes_actuels_temperature_inconnue:!1,symptomes_actuels_toux:!1,symptomes_actuels_odorat:!1,symptomes_actuels_douleurs:!1,symptomes_actuels_diarrhee:!1,symptomes_actuels_fatigue:!1,symptomes_actuels_alimentation:!1,symptomes_actuels_souffle:!1,symptomes_actuels_autre:!1,symptomes_passes:!1,contact_a_risque:!1,contact_a_risque_meme_lieu_de_vie:!1,contact_a_risque_contact_direct:!1,contact_a_risque_actes:!1,contact_a_risque_espace_confine:!1,contact_a_risque_tousse_eternue:!1,contact_a_risque_meme_classe:!1,contact_a_risque_stop_covid:!1,contact_a_risque_assurance_maladie:!1,contact_a_risque_autre:!1,contact_a_risque_variante:"aucune",depistage:!1,depistage_type:"",depistage_resultat:"",depistage_variante:"aucune",vaccins:"pas_encore",covid_passee:!1,departement:"34",activite_pro:!1,activite_pro_sante:!1,foyer_autres_personnes:!1,foyer_enfants:!1,age:42,grossesse_3e_trimestre:!1,poids:"70",taille:"178",antecedent_cardio:!1,antecedent_diabete:!1,antecedent_respi:!1,antecedent_dialyse:!1,antecedent_greffe:!1,antecedent_cancer:!1,antecedent_immunodep:!1,antecedent_cirrhose:!1,antecedent_drepano:!1,antecedent_trisomie:!1,antecedent_chronique_autre:!1};return"Positif"==e?(r.depistage=!0,r.depistage_type="rt-pcr",r.depistage_resultat="positif",r._depistage_start_date=(new Date).toJSON()):"Négatif"==e?(r.depistage=!0,r.depistage_type="rt-pcr",r.depistage_resultat="negatif",r._depistage_start_date=(new Date).toJSON()):"En attente"==e?(r.depistage=!0,r.depistage_type="rt-pcr",r.depistage_resultat="en_attente",r._depistage_start_date=(new Date).toJSON()):"Pas testé"==e||console.error("Situation de dépistage inconnue"),"Symptômes actuels graves"===t?(r.symptomes_actuels=!0,r.symptomes_actuels_souffle=!0,r._symptomes_start_date=Vc(3).toJSON()):"Symptômes actuels"===t?(r.symptomes_actuels=!0,r.symptomes_actuels_diarrhee=!0,r._symptomes_start_date=Vc(3).toJSON()):"Symptômes actuels non évocateurs"===t?(r.symptomes_actuels=!0,r.symptomes_actuels_autre=!0):"Symptômes passés"===t?(r.symptomes_passes=!0,r._symptomes_start_date=Vc(3).toJSON()):"Contact à risque"===t?(r.contact_a_risque=!0,r.contact_a_risque_meme_lieu_de_vie=!0):"Contact pas vraiment à risque"===t?(r.contact_a_risque=!0,r.contact_a_risque_autre=!0):"Rien de tout ça"===t||console.error("Situation symptomatique inconnue"),n&&(r.age=70),this.fillData(r)}},{key:"getData",value:function(){return{activite_pro:this.activite_pro,activite_pro_sante:this.activite_pro_sante,foyer_autres_personnes:this.foyer_autres_personnes,foyer_enfants:this.foyer_enfants,age:this.age,grossesse_3e_trimestre:this.grossesse_3e_trimestre,poids:this.poids,taille:this.taille,antecedent_cardio:this.antecedent_cardio,antecedent_diabete:this.antecedent_diabete,antecedent_respi:this.antecedent_respi,antecedent_dialyse:this.antecedent_dialyse,antecedent_greffe:this.antecedent_greffe,antecedent_cancer:this.antecedent_cancer,antecedent_immunodep:this.antecedent_immunodep,antecedent_cirrhose:this.antecedent_cirrhose,antecedent_drepano:this.antecedent_drepano,antecedent_trisomie:this.antecedent_trisomie,antecedent_chronique_autre:this.antecedent_chronique_autre,symptomes_actuels:this.symptomes_actuels,symptomes_actuels_temperature:this.symptomes_actuels_temperature,symptomes_actuels_temperature_inconnue:this.symptomes_actuels_temperature_inconnue,symptomes_actuels_toux:this.symptomes_actuels_toux,symptomes_actuels_odorat:this.symptomes_actuels_odorat,symptomes_actuels_douleurs:this.symptomes_actuels_douleurs,symptomes_actuels_diarrhee:this.symptomes_actuels_diarrhee,symptomes_actuels_fatigue:this.symptomes_actuels_fatigue,symptomes_actuels_alimentation:this.symptomes_actuels_alimentation,symptomes_actuels_souffle:this.symptomes_actuels_souffle,symptomes_actuels_autre:this.symptomes_actuels_autre,symptomes_passes:this.symptomes_passes,contact_a_risque:this.contact_a_risque,contact_a_risque_meme_lieu_de_vie:this.contact_a_risque_meme_lieu_de_vie,contact_a_risque_contact_direct:this.contact_a_risque_contact_direct,contact_a_risque_actes:this.contact_a_risque_actes,contact_a_risque_espace_confine:this.contact_a_risque_espace_confine,contact_a_risque_tousse_eternue:this.contact_a_risque_tousse_eternue,contact_a_risque_meme_classe:this.contact_a_risque_meme_classe,contact_a_risque_stop_covid:this.contact_a_risque_stop_covid,contact_a_risque_assurance_maladie:this.contact_a_risque_assurance_maladie,contact_a_risque_autre:this.contact_a_risque_autre,contact_a_risque_variante:this.contact_a_risque_variante,depistage:this.depistage,depistage_type:this.depistage_type,depistage_resultat:this.depistage_resultat,depistage_variante:this.depistage_variante,_depistage_start_date:this._depistage_start_date,vaccins:this.vaccins,covid_passee:this.covid_passee,_covid_passee_date:this._covid_passee_date,suivi_active:this.suivi_active,_suivi_start_date:this._suivi_start_date,_symptomes_start_date:this._symptomes_start_date,_deconfinement_date:this._deconfinement_date,suivi:this.suivi,_questionnaire_start_date:this._questionnaire_start_date,_questionnaire_completion_date:this._questionnaire_completion_date}}},{key:"isEmpty",value:function(){return void 0===this.activite_pro&&void 0===this.activite_pro_sante&&void 0===this.foyer_autres_personnes&&void 0===this.foyer_enfants&&void 0===this.age&&void 0===this.grossesse_3e_trimestre&&void 0===this.poids&&void 0===this.taille&&void 0===this.antecedent_cardio&&void 0===this.antecedent_diabete&&void 0===this.antecedent_respi&&void 0===this.antecedent_dialyse&&void 0===this.antecedent_greffe&&void 0===this.antecedent_cancer&&void 0===this.antecedent_immunodep&&void 0===this.antecedent_cirrhose&&void 0===this.antecedent_drepano&&void 0===this.antecedent_trisomie&&void 0===this.antecedent_chronique_autre&&void 0===this.symptomes_actuels&&void 0===this.symptomes_passes&&void 0===this.contact_a_risque&&void 0===this.depistage&&void 0===this.vaccins&&void 0===this.covid_passee}},{key:"isAntecedentsComplete",value:function(){return void 0!==this.antecedent_cardio&&void 0!==this.antecedent_diabete&&void 0!==this.antecedent_respi&&void 0!==this.antecedent_dialyse&&void 0!==this.antecedent_greffe&&void 0!==this.antecedent_cancer&&void 0!==this.antecedent_immunodep&&void 0!==this.antecedent_cirrhose&&void 0!==this.antecedent_drepano&&void 0!==this.antecedent_trisomie&&void 0!==this.antecedent_chronique_autre}},{key:"isCaracteristiquesComplete",value:function(){return void 0!==this.age&&void 0!==this.grossesse_3e_trimestre&&void 0!==this.poids&&void 0!==this.taille}},{key:"isSanteComplete",value:function(){return this.isAntecedentsComplete()&&this.isCaracteristiquesComplete()}},{key:"isSituationComplete",value:function(){return void 0!==this.foyer_autres_personnes&&void 0!==this.foyer_enfants&&void 0!==this.activite_pro&&void 0!==this.activite_pro_sante}},{key:"isSymptomesComplete",value:function(){return this._isSymptomesActuelsComplete()&&this._isSymptomesPassesComplete()&&this._isDebutSymptomesComplete()}},{key:"_isSymptomesActuelsComplete",value:function(){return void 0!==this.symptomes_actuels}},{key:"_isSymptomesPassesComplete",value:function(){return void 0!==this.symptomes_passes}},{key:"_isDebutSymptomesComplete",value:function(){return!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes||this.hasSymptomesStartDate()}},{key:"isContactARisqueComplete",value:function(){return void 0!==this.contact_a_risque||void 0!==this.contact_a_risque_stop_covid||void 0!==this.contact_a_risque_assurance_maladie}},{key:"isDepistageComplete",value:function(){return void 0!==this.depistage&&(!0!==this.depistage||void 0!==this._depistage_start_date)}},{key:"isVaccinsComplete",value:function(){return void 0!==this.vaccins}},{key:"isHistoriqueComplete",value:function(){return void 0!==this.covid_passee&&(!0!==this.covid_passee||void 0!==this._covid_passee_date)}},{key:"isComplete",value:function(){return this.isSituationComplete()&&this.isSanteComplete()&&this.isSymptomesComplete()&&this.isContactARisqueComplete()&&this.isDepistageComplete()&&this.isVaccinsComplete()&&this.isHistoriqueComplete()&&this._isDebutSymptomesComplete()}},{key:"joursDepuisCovidPassee",value:function(){return Wc(this.covid_passee_date,new Date)}},{key:"_hasCovidPlus",value:function(e){return this.covid_passee&&this.joursDepuisCovidPassee()>30*e}},{key:"hasCovidPlus2Mois",value:function(){return this._hasCovidPlus(2)}},{key:"hasCovidPlus6Mois",value:function(){return this._hasCovidPlus(6)}},{key:"hasSymptomesActuelsReconnus",value:function(){return Boolean(this.symptomes_actuels&&!this.symptomes_actuels_autre)}},{key:"hasContactARisqueReconnus",value:function(){return this.contact_a_risque&&!this.contact_a_risque_autre||this.contact_a_risque_stop_covid||this.contact_a_risque_assurance_maladie}},{key:"hasSuiviStartDate",value:function(){return void 0!==this._suivi_start_date}},{key:"hasSymptomesStartDate",value:function(){return void 0!==this._symptomes_start_date}},{key:"hasDeconfinementDate",value:function(){return void 0!==this._deconfinement_date}},{key:"hasHistorique",value:function(){return this.suivi.length}},{key:"ajouterEtat",value:function(e){this.suivi.push(e)}},{key:"dernierEtat",value:function(){return this.hasHistorique()?this.suivi.slice(-1)[0]:{}}},{key:"suiviDerniersJours",value:function(e){return this.suivi.filter((function(t){return new Date(t.date)>Vc(e)}))}},{key:"suiviAujourdhui",value:function(){return this.suiviDerniersJours(1).length>=1}},{key:"suiviEntre",value:function(e,t){return this.suivi.filter((function(n){var r=new Date(n.date);return r>e&&r<=t}))}},{key:"isCompletementVaccine",value:function(){return"completement"===this.vaccins}},{key:"dureeIsolement",value:function(){return this.isCompletementVaccine()||this.age<12?7:10}},{key:"requiertSuivi",value:function(){return this.isDepistageComplete()&&(this.depistagePositifRecent()||this.depistageEnAttenteRecent()||this.sansDepistage()&&this.hasSymptomesActuelsReconnus()||this.sansDepistage()&&this.symptomes_passes)}},{key:"joursEcoulesDepuisDebutSymptomes",value:function(){if(void 0!==this.symptomes_start_date)return Wc(this.symptomes_start_date,new Date)}},{key:"joursEcoulesDepuisDepistage",value:function(){if(void 0!==this.depistage_start_date)return Wc(this.depistage_start_date,new Date)}},{key:"depistagePositifRecent",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<30}},{key:"depistagePositifObsolete",value:function(){return!0===this.depistage&&"positif"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()>=30}},{key:"depistageNegatifRecent",value:function(){return this._depistageNegatif()&&!(this._depistageNegatifTropAncien()||this._depistageNegatifAvantDebutDesSymptomes())}},{key:"depistageNegatifObsolete",value:function(){return this._depistageNegatif()&&(this._depistageNegatifTropAncien()||this._depistageNegatifAvantDebutDesSymptomes())}},{key:"_depistageNegatif",value:function(){return!0===this.depistage&&"negatif"===this.depistage_resultat&&void 0!==this.depistage_start_date}},{key:"_depistageNegatifTropAncien",value:function(){return this.joursEcoulesDepuisDepistage()>=7}},{key:"_depistageNegatifAvantDebutDesSymptomes",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistage_start_date<this.symptomes_start_date}},{key:"depistageEnAttenteRecent",value:function(){return!0===this.depistage&&"en_attente"===this.depistage_resultat&&void 0!==this.depistage_start_date&&this.joursEcoulesDepuisDepistage()<7}},{key:"sansDepistage",value:function(){return!1===this.depistage}},{key:"depistageNegatifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistageNegatifRecent()}},{key:"depistagePositifRecentSymptomatique",value:function(){return this.hasSymptomesActuelsReconnus()&&this.depistagePositifRecent()}},{key:"depistagePositifRecentAsymptomatique",value:function(){return this.depistagePositifRecent()&&!this.hasSymptomesActuelsReconnus()&&!this.symptomes_passes}},{key:"estMonProfil",value:function(){return"mes_infos"==this.nom}},{key:"affichageNom",value:function(){return this.estMonProfil()?"Moi":this.nom}},{key:"renderNom",value:function(){return`<h3><span class="profil">${Oc(this.affichageNom())}</span></h3>`}},{key:"renderButtons",value:function(e){var t=Oc(this.nom),n=this.estMonProfil()?"mon":"son",r=this.estMonProfil()?"mes":"ses",i="";if(this.isComplete()||this.suivi_active){if(this.suivi_active)i+=`\n                    <a class="button button-outline suivi-link"\n                        data-set-profil="${t}" href="#suiviintroduction"\n                        >${this.hasSuiviStartDate()&&this.hasHistorique()?"Continuer":"Démarrer"} ${n} suivi</a>\n                `;i+=`\n                <a class="button button-outline conseils-link"\n                    data-set-profil="${t}" href="#conseils"\n                    >Retrouver ${r} conseils</a>\n            `}else{var o=this.isEmpty()?"Démarrer":"Continuer";i=`\n                <a class="button button-outline button-full-width conseils-link"\n                    data-set-profil="${t}" href="#${e.firstPage}"\n                    >${o} ${n} questionnaire</a>\n            `}return i+(this.isEmpty()?"":`\n        <a data-set-profil="${t}" href="#${e.firstPage}"\n            >Modifier ${r} réponses</a>\n        `)+`\n            <a data-delete-profil="${t}" href="" role="button"\n                >Supprimer ${r} réponses</a>\n            `}},{key:"renderCard",value:function(e){return Mc(`\n        <li class="card">\n            ${this.renderNom()}\n            <div>${this.renderButtons(e)}</div>\n        </li>\n        `)}}]),e}(),ul={};ul=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u=void 0;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){var n=t[s][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){var n,r,i=function(){var e,t;r=!0;for(var n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}r=!1},o=function(e){1!==f.push(e)||r||n()},s=e.MutationObserver||e.WebKitMutationObserver;if(s){var a=0,u=new s(i),c=e.document.createTextNode("");u.observe(c,{characterData:!0}),n=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){i(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(i,0)};else{var l=new e.MessageChannel;l.port1.onmessage=i,n=function(){l.port2.postMessage(0)}}var f=[];t.exports=o}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=function(){},i=function(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)},o=function(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)},s=function(e,t,n){h((function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)}))},a=function(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}},u=function(e,t){var n=!1;function r(t){n||(n=!0,m.reject(e,t))}function i(t){n||(n=!0,m.resolve(e,t))}function o(){t(i,r)}var s=c(o);"error"===s.status&&r(s.value)},c=function(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n},l=function(e){return e instanceof this?e:m.resolve(new this(r),e)},f=function(e){var t=new this(r);return m.reject(t,e)},d=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,a=-1,u=new this(r);++a<n;)c(e[a],a);return u;function c(e,r){function a(e){o[r]=e,++s!==n||i||(i=!0,m.resolve(u,o))}t.resolve(e).then(a,(function(e){i||(i=!0,m.reject(u,e))}))}},p=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(r);++o<n;)a(e[o]);return s;function a(e){t.resolve(e).then((function(e){i||(i=!0,m.resolve(s,e))}),(function(e){i||(i=!0,m.reject(s,e))}))}},h=e(1),m={},v=["REJECTED"],_=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===_||"function"!=typeof t&&this.state===v)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===_?e:t;s(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){m.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=_,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},m.reject=function(e,t){e.state=v,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},i.resolve=l,i.reject=f,i.all=d,i.race=p},{1:1}],3:[function(e,t,r){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}},o=function(){try{if(!ye)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}},s=function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}},a=function(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))},u=function(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)},c=function(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e},l=function(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]},f=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n},d=function(e){return new ge((function(t){var n=e.transaction(be,De),r=s([""]);n.objectStore(be).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))},p=function(e){return"boolean"==typeof Se?ge.resolve(Se):d(e).then((function(e){return Se=e}))},h=function(e){var t=ke[e.name],n={};n.promise=new ge((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise},m=function(e){var t=ke[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise},v=function(e,t){var n=ke[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise},_=function(e,t){return new ge((function(n,r){if(ke[e.name]=ke[e.name]||E(),e.db){if(!t)return n(e.db);h(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=ye.open.apply(ye,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(be)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),m(e)}}))},y=function(e){return _(e,!1)},g=function(e){return _(e,!0)},b=function(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1},S=function(e){return new ge((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))},k=function(e){var t=f(atob(e.data));return s([t],{type:e.type})},w=function(e){return e&&e.__local_forage_encoded_blob},q=function(e){var t=this,n=t._initReady().then((function(){var e=ke[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n},D=function(e){h(e);for(var t=ke[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,y(e).then((function(t){return e.db=t,b(e)?g(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw v(e,t),t}))},E=function(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}},R=function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=ke[n.name];i||(i=E(),ke[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=q);var o=[];function s(){return ge.resolve()}for(var a=0;a<i.forages.length;a++){var u=i.forages[a];u!==t&&o.push(u._initReady().catch(s))}var c=i.forages.slice(0);return ge.all(o).then((function(){return n.db=i.db,y(n)})).then((function(e){return n.db=e,b(n,t._defaultConfig.version)?g(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<c.length;r++){var o=c[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},A=function(e,t){var n=this;e=c(e);var r=new ge((function(t,r){n.ready().then((function(){Ee(n._dbInfo,qe,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),w(e)&&(e=k(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},P=function(e,t){var n=this,r=new ge((function(t,r){n.ready().then((function(){Ee(n._dbInfo,qe,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;w(r)&&(r=k(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},T=function(e,t,n){var r=this;e=c(e);var i=new ge((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===we.call(t)?p(o.db).then((function(e){return e?t:S(t)})):t})).then((function(t){Ee(r._dbInfo,De,(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return a(i,n),i},L=function(e,t){var n=this;e=c(e);var r=new ge((function(t,r){n.ready().then((function(){Ee(n._dbInfo,De,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},C=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){Ee(t._dbInfo,De,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},M=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){Ee(t._dbInfo,qe,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},x=function(e,t){var n=this,r=new ge((function(t,r){e<0?t(null):n.ready().then((function(){Ee(n._dbInfo,qe,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},O=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){Ee(t._dbInfo,qe,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},I=function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db?ge.resolve(i._dbInfo.db):y(e).then((function(t){var n=ke[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;h(e);var r=ke[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var s=i[o];s._dbInfo.db=null,s._dbInfo.version=n}return new ge((function(t,r){var i=ye.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,m(n._dbInfo)}})).catch((function(t){throw(v(e,t)||ge.resolve()).catch((function(){})),t}))}})):o.then((function(t){h(e);var n=ke[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new ge((function(t,n){var r=ye.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++){var i=r[t];m(i._dbInfo)}})).catch((function(t){throw(v(e,t)||ge.resolve()).catch((function(){})),t}))}))}else r=ge.reject("Invalid arguments");return a(r,t),r},j=function(){return"function"==typeof openDatabase},N=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(t=0;t<a;t+=4)n=Ae.indexOf(e[t]),r=Ae.indexOf(e[t+1]),i=Ae.indexOf(e[t+2]),o=Ae.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c},$=function(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Ae[n[t]>>2],r+=Ae[(3&n[t])<<4|n[t+1]>>4],r+=Ae[(15&n[t+1])<<2|n[t+2]>>6],r+=Ae[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r},B=function(e,t){var n="";if(e&&(n=Ye.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Ye.call(e.buffer))){var r,i=Le;e instanceof ArrayBuffer?(r=e,i+=Me):(r=e.buffer,"[object Int8Array]"===n?i+=Oe:"[object Uint8Array]"===n?i+=Ie:"[object Uint8ClampedArray]"===n?i+=je:"[object Int16Array]"===n?i+=Ne:"[object Uint16Array]"===n?i+=Be:"[object Int32Array]"===n?i+=$e:"[object Uint32Array]"===n?i+=He:"[object Float32Array]"===n?i+=Fe:"[object Float64Array]"===n?i+=Ue:t(new Error("Failed to get type for BinaryArray"))),t(i+$(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=Pe+e.type+"~"+$(this.result);t(Le+xe+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},H=function(e){if(e.substring(0,Ce)!==Le)return JSON.parse(e);var t,n=e.substring(Ve),r=e.substring(Ce,Ve);if(r===xe&&Te.test(n)){var i=n.match(Te);t=i[1],n=n.substring(i[0].length)}var o=N(n);switch(r){case Me:return o;case xe:return s([o],{type:t});case Oe:return new Int8Array(o);case Ie:return new Uint8Array(o);case je:return new Uint8ClampedArray(o);case Ne:return new Int16Array(o);case Be:return new Uint16Array(o);case $e:return new Int32Array(o);case He:return new Uint32Array(o);case Fe:return new Float32Array(o);case Ue:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},F=function(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)},U=function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new ge((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){F(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=We,i},V=function(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?o(e,s):F(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,s)}),o)},Y=function(e,t){var n=this;e=c(e);var r=new ge((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){V(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},W=function(e,t){var n=this,r=new ge((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){V(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,a+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},G=function(e,t,n){return Ge.apply(this,[e,t,n,1])},z=function(e,t){var n=this;e=c(e);var r=new ge((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){V(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},J=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){V(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},Q=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){V(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},X=function(e,t){var n=this,r=new ge((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){V(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},K=function(e){var t=this,n=new ge((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){V(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},Z=function(e){return new ge((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))},ee=function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return r=e.name?new ge((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Z(r))})).then((function(e){return new ge((function(t,n){e.db.transaction((function(r){function i(e){return new ge((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,a=e.storeNames.length;s<a;s++)o.push(i(e.storeNames[s]));ge.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):ge.reject("Invalid arguments"),a(r,t),r},te=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}},ne=function(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n},re=function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}},ie=function(){return!re()||localStorage.length>0},oe=function(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=ne(e,t._defaultConfig),ie()?(t._dbInfo=n,n.serializer=We,ge.resolve()):ge.reject()},se=function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return a(n,e),n},ae=function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return a(r,t),r},ue=function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),s++)))return c}}}));return a(r,t),r},ce=function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return a(r,t),r},le=function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return a(n,e),n},fe=function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},de=function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(r,t),r},pe=function(e,t,n){var r=this;e=c(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new ge((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return a(i,n),i},he=function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new ge((function(t){e.storeName?t(ne(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):ge.reject("Invalid arguments"),a(r,t),r},me=function(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}},ve=function(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ke(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]},_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye=i();"undefined"==typeof Promise&&e(3);var ge=Promise,be="local-forage-detect-blob-support",Se=void 0,ke={},we=Object.prototype.toString,qe="readonly",De="readwrite";function Ee(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return ge.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),g(e)})).then((function(){return D(e).then((function(){Ee(e,t,n,r-1)}))})).catch(n);n(i)}}var Re={_driver:"asyncStorage",_initStorage:R,_support:o(),iterate:P,getItem:A,setItem:T,removeItem:L,clear:C,length:M,key:x,keys:O,dropInstance:I},Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pe="~~local_forage_type~",Te=/^~~local_forage_type~([^~]+)~/,Le="__lfsc__:",Ce=Le.length,Me="arbf",xe="blob",Oe="si08",Ie="ui08",je="uic8",Ne="si16",$e="si32",Be="ur16",He="ui32",Fe="fl32",Ue="fl64",Ve=Ce+Me.length,Ye=Object.prototype.toString,We={serialize:B,deserialize:H,stringToBuffer:N,bufferToString:$};function Ge(e,t,n,r){var i=this;e=c(e);var o=new ge((function(o,s){i.ready().then((function(){void 0===t&&(t=null);var a=t,u=i._dbInfo;u.serializer.serialize(t,(function(t,c){c?s(c):u.db.transaction((function(n){V(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Ge.apply(i,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return a(o,n),o}var ze={_driver:"webSQLStorage",_initStorage:U,_support:j(),iterate:W,getItem:Y,setItem:G,removeItem:z,clear:J,length:Q,key:X,keys:K,dropInstance:ee},Je={_driver:"localStorageWrapper",_initStorage:oe,_support:te(),iterate:ue,getItem:ae,setItem:pe,removeItem:de,clear:se,length:fe,key:ce,keys:le,dropInstance:he},Qe=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Xe=function(e,t){for(var n=e.length,r=0;r<n;){if(Qe(e[r],t))return!0;r++}return!1},Ke=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ze={},et={},tt={INDEXEDDB:Re,WEBSQL:ze,LOCALSTORAGE:Je},nt=[tt.INDEXEDDB._driver,tt.WEBSQL._driver,tt.LOCALSTORAGE._driver],rt=["dropInstance"],it=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(rt),ot={description:"",driver:nt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},st=function(){function e(t){for(var n in r(this,e),tt)if(tt.hasOwnProperty(n)){var i=tt[n],o=i._driver;this[n]=o,Ze[o]||this.defineDriver(i)}this._defaultConfig=ve({},ot),this._config=ve({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":_e(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new ge((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=it.concat("_initStorage"),s=0,u=o.length;s<u;s++){var c=o[s];if((!Xe(rt,c)||e[c])&&"function"!=typeof e[c])return void n(i)}var l=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=ge.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=rt.length;n<r;n++){var i=rt[n];e[i]||(e[i]=t(i))}};l();var f=function(n){Ze[r]&&console.info("Redefining LocalForage driver: "+r),Ze[r]=e,et[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ze[e]?ge.resolve(Ze[e]):ge.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=ge.resolve(We);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=function(){s._config.driver=s.driver()},i=function(e){return s._extend(e),r(),s._ready=s._initStorage(s._config),s._ready},o=function(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,s._dbInfo=null,s._ready=null,s.getDriver(o).then(i).catch(n)}r();var a=new Error("No available storage method found.");return s._driverSet=ge.reject(a),s._driverSet}return n()}},s=this;Ke(e)||(e=[e]);var a=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch((function(){return ge.resolve()})):ge.resolve();return this._driverSet=c.then((function(){var e=a[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then((function(e){s._driver=e._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(a)}))})).catch((function(){r();var e=new Error("No available storage method found.");return s._driverSet=ge.reject(e),s._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!et[e]},e.prototype._extend=function(e){ve(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=it.length;e<t;e++)me(this,it[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),at=new st;t.exports=at},{3:3}]},{},[4])(4);var cl=function(){"use strict";function e(){mc(this,e)}return _c(e,[{key:"getSource",value:function(){return t(ul).getItem("source")}},{key:"setSource",value:function(e){return t(ul).setItem("source",e)}},{key:"getProfilActuel",value:function(){return t(ul).getItem("profil")}},{key:"setProfilActuel",value:function(e){return t(ul).setItem("profil",e)}},{key:"unsetProfilActuel",value:function(){return t(ul).removeItem("profil")}},{key:"getProfil",value:function(e){return t(ul).getItem(e)}},{key:"getProfils",value:function(){return t(ul).keys().then((function(e){return e.filter((function(e){return"profil"!=e}))})).then((function(e){return e.sort((function(e,t){return"mes_infos"===e?-1:"mes_infos"===t?1:e<t?-1:t>e?1:0}))}))}},{key:"supprimerTout",value:function(){var e=this;return this.unsetProfilActuel().then((function(){return e.getProfils().then((function(t){return Promise.all(t.map(e._supprimer))}))}))}},{key:"supprimer",value:function(e){return this._supprimer(e).then((function(){console.debug(`Les données personnelles ont été supprimées (${e})`)})).catch((function(t){console.error(`Erreur lors de la suppression des données personnelles (${e})`),console.error(t)}))}},{key:"_supprimer",value:function(e){return t(ul).removeItem(e)}},{key:"charger",value:function(e){return t(ul).getItem(e.nom).then((function(t){return null!==t?e.fillData(t):e.resetData(),e})).catch((function(t){console.error(`Erreur de chargement des données locales (${e.nom})`),console.error(t)}))}},{key:"enregistrer",value:function(e){return t(ul).setItem(e.nom,e.getData()).then((function(t){console.debug(`Les réponses au questionnaire ont bien été enregistrées (${e.nom})`),console.debug(t)})).catch((function(t){console.error(`Les réponses au questionnaire n’ont pas pu être enregistrées (${e.nom})`),console.error(t)}))}}]),e}();function ll(e,t){if(!e.isComplete())return t.checkPathTo("conseils",e)}function fl(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function dl(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}function pl(e,t){if(!e.suivi_active)return t.checkPathTo("conseils",e)}var hl=["symptomes","contactarisque","depistage","historique","vaccins","situation","sante"],ml={nom:{previous:{introduction:function(){return!0}},next:{symptomes:function(e){return e.nom}}},symptomes:{previous:{introduction:function(){return!0}},next:{depistage:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isSymptomesComplete()&&!e.hasSymptomesActuelsReconnus()&&!e.symptomes_passes}}},contactarisque:{previous:{symptomes:function(){return!0}},next:{depistage:function(e){return e.isContactARisqueComplete()}}},depistage:{previous:{symptomes:function(e){return e.isSymptomesComplete()&&e.hasSymptomesStartDate()&&(e.hasSymptomesActuelsReconnus()||e.symptomes_passes)},contactarisque:function(e){return e.isContactARisqueComplete()}},next:{historique:function(e){return e.isDepistageComplete()}}},historique:{previous:{depistage:function(){return!0}},next:{vaccins:function(e){return e.isHistoriqueComplete()}}},vaccins:{previous:{historique:function(){return!0}},next:{situation:function(e){return e.isVaccinsComplete()}}},situation:{previous:{vaccins:function(){return!0}},next:{sante:function(e){return e.isSituationComplete()}}},sante:{previous:{situation:function(){return!0}},next:{conseils:function(e){return e.isSanteComplete()}}},conseils:{},suivisymptomes:{previous:{conseils:function(){return!0}},next:{conseils:function(e){return e.isComplete()}}},suivihistorique:{previous:{conseils:function(){return!0}}}},vl=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl;mc(this,e),this.transitions=t,this.ordre=n,this.total=n.length,this.firstPage=n[0]}return _c(e,[{key:"before",value:function(e,t){if(void 0!==this.transitions[e])return this.checkPathTo(e,t)}},{key:"checkPathTo",value:function(e,t){for(var n=this.firstPage,r=[n];n;){if(n===e)return;var i=this.nextPage(n,t);if(!i)break;if(r.indexOf(i)>-1)break;n=i,r.push(n)}return r[r.length-1]}},{key:"nextPage",value:function(e,t){return this.findNeighbor("next",e,t)}},{key:"previousPage",value:function(e,t){return this.findNeighbor("previous",e,t)}},{key:"findNeighbor",value:function(e,t,n){var r,i=this.transitions[t];if(void 0!==i&&void 0!==i[e])return Object.keys(i[e]).forEach((function(t){(0,i[e][t])(n)&&(r||(r=t))})),r||void 0}},{key:"numeroEtape",value:function(e,t){return this._previousPages(e,t).length}},{key:"_previousPages",value:function(e,t){var n=[];for(e=this.previousPage(e,t);e;)n.push(e),e=this.previousPage(e,t);return n}},{key:"etapesRestantes",value:function(e){var t,n=this.ordre.indexOf(e)+1;if(0===n)return"";var r=this.ordre.length-n;switch(r){case 0:t="C’est la dernière étape !";break;case 1:t="Plus qu’une étape !";break;default:t=`Il vous reste ${r} étapes.`}return t}}]),e}(),_l=function(){"use strict";function e(t){mc(this,e),this.router=t,this.currentVersion=null,this.updateInProgress=!1}return _c(e,[{key:"checkForUpdatesEvery",value:function(e){this.checkForUpdate(),setInterval(this.checkForUpdate.bind(this),6e4*e)}},{key:"checkForUpdate",value:function(){var e=this;if(!0!==this.updateInProgress&&"nouvelleversiondisponible"!==Xc()){var t=new XMLHttpRequest;t.open("GET","version.json?"+(new Date).getTime(),!0),t.setRequestHeader("Cache-Control","no-cache"),t.onload=function(){if(200===t.status){var n=JSON.parse(t.responseText);e.updateVersion(n.version)}else console.debug("Impossible de récupérer les informations de mise à jour")},t.onerror=function(){console.debug("Impossible de récupérer les informations de mise à jour")},t.send()}}},{key:"showBanner",value:function(e){var t=e.querySelector("#update-banner");Rc(t),e.dispatchEvent(new CustomEvent("show-banner",{detail:t}))}},{key:"updateFooter",value:function(e){if(this.currentVersion!==e){var t=document.querySelector(".js-latest-update"),n=e.substring(0,10).split("-").reverse().join("-");t.innerText=` - Mis à jour le : ${n}`}}},{key:"updateVersion",value:function(e){if(this.updateFooter(e),null!==this.currentVersion&&this.currentVersion!==e)if(this.updateInProgress=!0,"serviceWorker"in navigator){var t=this;console.debug("Service worker supported"),navigator.serviceWorker.getRegistration().then((function(e){var n=t;console.debug("Telling service worker to look for an update"),e.update().catch((function(e){console.error("Mise à jour du service worker impossible :",e)})),e.addEventListener("updatefound",(function(){var t=n;console.debug("Service worker update found");var r=e.installing;r.addEventListener("statechange",(function(){console.debug("New service worker state:",r.state),"installed"==r.state&&t.notifyUser()}))}))}))}else console.debug("Service worker NOT supported"),this.notifyUser();else this.currentVersion=e}},{key:"notifyUser",value:function(){var e=Xc();this.onInteractivePage(e)?this.notifyUserWithoutInterrupting(e):this.redirectUserToUpdatePage(e)}},{key:"onInteractivePage",value:function(e){return hl.concat(["suivisymptomes"]).indexOf(e)>-1}},{key:"notifyUserWithoutInterrupting",value:function(e){var t=this;document.addEventListener("show-banner",(function(n){setTimeout((function(){n.detail.scrollIntoView({behavior:"smooth"})}),100);var r=n.detail.querySelector("#refresh-button-banner");t.setupRefreshButton(r,e)})),this.showBanner(document)}},{key:"redirectUserToUpdatePage",value:function(e){this.router.navigate(`nouvelleversiondisponible?origine=${e}`)}},{key:"setupRefreshButton",value:function(e,t){e.innerText="Mettre à jour",e.setAttribute("href","#"+(t||Kc)),e.addEventListener("click",this.onClickRefreshButton.bind(this))}},{key:"onClickRefreshButton",value:function(e){console.debug("Updater.onClickRefreshButton()"),e.preventDefault();var t=e.target;this.router.pause(),console.log(window.location),window.location=t.href,console.log(window.location),t.innerText="Mise à jour en cours...",t.setAttribute("href",""),"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then((function(e){null===e.waiting?(console.debug("New service worker is already active"),console.debug("Reloading the page"),window.location.reload(!0)):(console.debug("New service worker is waiting"),navigator.serviceWorker.addEventListener("controllerchange",(function(){console.debug("New service worker is now controlling the page"),console.debug("Reloading the page"),window.location.reload(!0)})),console.debug("Sending message to activate new service worker"),e.waiting.postMessage("skipWaiting"))})):(console.debug("Browser does not support service workers"),console.debug("Reloading the page"),window.location.reload(!0))}}]),e}();function yl(e,t){var n=e,r=document.querySelector("header section");Rc(r.querySelector(".js-profil-empty")),Ec(r.querySelector(".js-profil-full")),function(e,t){var n=e.querySelector(".thematiques .cards .j-ai-des-symptomes-covid");t.stockage.getProfils().then((function(e){e.length>0&&function(e,t,n){var r=e.querySelector(".card-actions");return Promise.all(t.map((function(e){var t=new al(e);return n.stockage.charger(t).then((function(e){return function(e,t){return Mc(`<div class="actions-profil">\n            <p class="nom">${e.affichageNom()}</p>\n            ${e.renderButtons(t.questionnaire)}\n        </div>`)}(e,n)}))}))).then((function(e){Array.from(e).forEach((function(e){r.appendChild(e),function(e,t){var n=e.querySelector(".conseils-link");n&&n.setAttribute("href","#conseils");Array.from(e.querySelectorAll("[data-set-profil]")).forEach((function(e){!function(e,t){e.addEventListener("click",(function(n){n.preventDefault(),t.basculerVersProfil(e.dataset.setProfil).then((function(){t.router.navigate(n.target.getAttribute("href"))}))}))}(e,t)})),function(e,t){e.addEventListener("click",(function(n){n.preventDefault(),t.plausible("Suppression");var r=e.dataset.deleteProfil;confirm(`Êtes-vous sûr·e de vouloir supprimer ${"mes_infos"===r?"vos réponses":`les réponses de ${r}`} ?`)&&t.supprimerProfil(r).then((function(){t.chargerProfilActuel().then((function(){window.location.reload(!0)}))}))}))}(e.querySelector("[data-delete-profil]"),t)}(e,n)}))}))}(n,e,t).then((function(){n.classList.add("hero"),n.querySelector(".actions-profil a").classList.remove("button-outline"),1===e.length&&"mes_infos"===e[0]&&Ac(n,".nom")}))}))}(n,t),$c(t,"Navigue vers une thématique depuis l’accueil")}var gl=function(){"use strict";function e(t){mc(this,e),this.form=t}return _c(e,[{key:"qS",value:function(e){return this.form.querySelector(e)}},{key:"qSA",value:function(e){return this.form.querySelectorAll(e)}},{key:"submitButton",get:function(){return this.qS("input[type=submit]")}},{key:"requiredTextFields",get:function(){return Array.from(this.qSA("input[type=text][required], input[type=date][required]"))}},{key:"selectFields",get:function(){return Array.from(this.qSA("select"))}},{key:"checkbox",get:function(){return this.qS("input[type=checkbox]")}},{key:"checkboxes",get:function(){return Array.from(this.qSA("input[type=checkbox]"))}},{key:"primaryCheckbox",get:function(){return this.qS("input[type=checkbox].primary")}},{key:"secondaryCheckboxes",get:function(){return Array.from(this.qSA(".secondary input[type=checkbox]"))}},{key:"radios",get:function(){return Array.from(this.qSA(".secondary input[type=radio]"))}},{key:"secondariesRequired",get:function(){return Array.from(this.qSA('.secondary.required [role="radiogroup"]'))}}]),e}();function bl(e,t){var n=e.querySelector(`input[name="${t}"]:checked`);if(n)return n.value}function Sl(e,t,n){var r=n.getData()[t];void 0!==r&&""!==r&&(e[t].value=r)}function kl(e,t,n){var r=n.getData()[t];void 0!==r&&r&&(e[t].checked=!0,e[t].dispatchEvent(new CustomEvent("change")))}function wl(e){return e.some((function(e){return e.checked}))}function ql(e){return e.every((function(e){return""!==e.value}))}function Dl(e,t,n){var r=function(){var e=ql(s);o.disabled=!e,o.value=e?t:n},i=new gl(e),o=i.submitButton,s=i.requiredTextFields;r(),s.forEach((function(e){return e.addEventListener("input",r)}))}function El(e,t,n,r){var i=function(){var e=ql(u);(a.disabled=!1,a.value=c.checked?t:n,c.checked)&&(s.secondariesRequired.every((function(e){return wl(Array.from(e.querySelectorAll("input[type=radio]")))}))&&e||(a.disabled=!0,a.value=r))},o=function(){i(),c.checked?l.forEach((function(e){e.disabled=!1})):(l.forEach((function(e){e.checked=!1,e.disabled=!0})),u.forEach((function(e){e.value=""})))},s=new gl(e),a=s.submitButton,u=s.requiredTextFields,c=s.checkbox,l=s.radios;return i(),u.forEach((function(e){e.addEventListener("input",i)})),l.forEach((function(e){e.addEventListener("change",i)})),o(),c.addEventListener("change",o),i}function Rl(e,t,n){n=Array.from(n||e.querySelectorAll(".secondary"));var r=!t.checked;n.forEach((function(e){Array.from(e.querySelectorAll("input")).forEach((function(e){e.checked&&r&&(e.checked=!1,e.dispatchEvent(new CustomEvent("change"))),e.disabled=r})),r?e.classList.add("disabled"):e.classList.remove("disabled")}))}function Al(e,t){var n=e.querySelector("form"),r=n.querySelector("input[type=submit]");Dl(n,r.value,"Cette information est requise"),n.addEventListener("submit",(function(e){e.preventDefault();var n=e.target.elements.name.value;t.creerProfil(n).then((function(){t.goToNextPage("nom")}))}))}function Pl(e,t){var n=e.querySelector("form");void 0!==t.profil.vaccins&&(n.querySelector("#vaccins_radio_"+t.profil.vaccins).checked=!0,n.vaccins_radio[0].dispatchEvent(new CustomEvent("change")));var r=n.querySelector("input[type=submit]");!function(e,t,n){var r=function(){o.disabled=!1,o.value=t,wl(s)||(o.disabled=!0,o.value=n)},i=new gl(e),o=i.submitButton,s=Array.from(i.qSA("input[type=radio]"));t=o.dataset.initialValue||t,o.dataset.initialValue=t,r(),s.forEach((function(e){return e.addEventListener("change",r)}))}(n,r.value,"Veuillez remplir le formulaire au complet"),n.addEventListener("submit",(function(e){e.preventDefault();var n=e.target;t.profil.vaccins=bl(n,"vaccins_radio"),t.enregistrerProfilActuel().then((function(){t.goToNextPage("vaccins")}))}))}var Tl=o("9gfx3");(function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}},n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};n.default.locale(r,null,!0)})(o("9gfx3"));var Ll={};function Cl(e,n){var r=e.querySelector("form"),i=t(Tl)();if(kl(r,"covid_passee",n.profil),void 0!==n.profil.covid_passee_date){var o=t(Tl)(n.profil.covid_passee_date),s=i.diff(o,"month"),a=r.querySelector(`input#covid_passee_date_${Math.min(6,s)}_mois`);a.checked=!0,a.dispatchEvent(new CustomEvent("change"))}var u=r.elements.covid_passee;Rl(r,u),u.addEventListener("click",(function(){Rl(r,u)})),[2,3,4,5,6].forEach((function(e){var t=i.subtract(e,"month"),n=r.querySelector(`label[for="covid_passee_date_${e}_mois"] span`),o=6===e?" ou avant":"";n.innerHTML=`${n.innerHTML} (en <strong>${t.format("MMMM")}</strong> ${t.year()}${o})`}));var c=r.querySelector("input[type=submit]"),l=n.profil.estMonProfil()?"Je n’ai jamais eu la Covid":"Cette personne n’a jamais eu la Covid";El(r,c.value,l,"Veuillez remplir le formulaire au complet"),r.addEventListener("submit",(function(e){e.preventDefault();var t=e.target;if(n.profil.covid_passee=t.elements.covid_passee.checked,n.profil.covid_passee){var r=Number(t.elements.covid_passee_date.value);n.profil.covid_passee_date=i.subtract(r,"month")}else n.profil.covid_passee_date=void 0;n.enregistrerProfilActuel().then((function(){n.goToNextPage("historique")}))}))}Ll=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var s=e.name?e:e.$locale(),a=i(s[t]),u=i(s[n]),c=a||u.map((function(e){return e.slice(0,r)}));if(!o)return c;var l=s.weekStart;return c.map((function(e,t){return c[(t+(l||0))%7]}))},s=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},u=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},n.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(s(),"months")},n.monthsShort=function(){return o(s(),"monthsShort","months",3)},n.weekdays=function(e){return o(s(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(s(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(s(),"weekdaysMin","weekdays",2,e)}}}(),t(Tl).locale("fr"),t(Tl).extend(t(Ll));var Ml={};
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */function xl(e){return e<10?"0"+e:e}function Ol(e,n,r){var i;(i=document.createElement("input")).setAttribute("type","date"),i.setAttribute("value","a"),"a"===i.value&&new(t(Ml))({field:e,format:"YYYY-MM-DD",toString(e){return function(e){if(void 0===e)return"";var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+xl(n)+"-"+xl(t)}(e)},parse(e){var t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10)-1,i=parseInt(t[2],10);return new Date(n,r,i)},maxDate:n,onSelect:r,onOpen:r,onClose:r,firstDay:1,i18n:{previousMonth:"Mois précédent",nextMonth:"Mois suivant",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekdaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},ariaLabel:"Utilisez les flèches pour choisir une date",theme:"pika-mcc-theme"})}!function(e,t){var n;try{n=$f324469f103c1e5b$import$a2cb963221bbaab7}catch(e){}Ml=function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},s=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},a=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},l=function(e,t){e.className=a((" "+e.className+" ").replace(" "+t+" "," "))},f=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},h=function(e){return e%4==0&&e%100!=0||e%400==0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){d(e)&&e.setHours(0,0,0,0)},_=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t)(i=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?d(t[r])?n&&(e[r]=new Date(t[r].getTime())):f(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n):!n&&i||(e[r]=t[r]);return e},g=function(e,t,n){var i;r.createEvent?((i=r.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},S={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},k=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},q=function(e,t){e.setHours(0,0,0,0);var n=e.getDate(),r=e.getDay(),i=t,o=i-1,s=7,a=function(e){return(e+s-1)%s};e.setDate(n+o-a(r));var u=new Date(e.getFullYear(),0,i),c=864e5,l=(e.getTime()-u.getTime())/c;return 1+Math.round((l-o+a(u.getDay()))/s)},D=function(n,r,i,o){var s=new Date(i,r,n);return'<td class="pika-week">'+(t?e(s).isoWeek():q(s,o))+"</td>"},E=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},R=function(e){return"<tbody>"+e.join("")+"</tbody>"},A=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+k(e,t)+'">'+k(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},P=function(e,t,n,r,i,o){var s,a,u,c,l,d=e._o,p=n===d.minYear,h=n===d.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',v=!0,_=!0;for(u=[],s=0;s<12;s++)u.push('<option value="'+(n===i?s-t:12+s-t)+'"'+(s===r?' selected="selected"':"")+(p&&s<d.minMonth||h&&s>d.maxMonth?' disabled="disabled"':"")+">"+d.i18n.months[s]+"</option>");for(c='<div class="pika-label">'+d.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+u.join("")+"</select></div>",f(d.yearRange)?(s=d.yearRange[0],a=d.yearRange[1]+1):(s=n-d.yearRange,a=1+n+d.yearRange),u=[];s<a&&s<=d.maxYear;s++)s>=d.minYear&&u.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return l='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+u.join("")+"</select></div>",d.showMonthAfterYear?m+=l+c:m+=c+l,p&&(0===r||d.minMonth>=r)&&(v=!1),h&&(11===r||d.maxMonth<=r)&&(_=!1),0===t&&(m+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(_?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),m+"</div>"},T=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+A(e)+R(t)+"</table>"},L=function(s){var a=this,c=a.config(s);a._onMouseDown=function(e){if(a._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(u(t,"is-disabled")||(!u(t,"pika-button")||u(t,"is-empty")||u(t.parentNode,"is-disabled")?u(t,"pika-prev")?a.prevMonth():u(t,"pika-next")&&a.nextMonth():(a.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&i((function(){a.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()}),100))),u(t,"pika-select"))a._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},a._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(u(t,"pika-select-month")?a.gotoMonth(t.value):u(t,"pika-select-year")&&a.gotoYear(t.value))},a._onKeyChange=function(e){if(e=e||window.event,a.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:a.adjustDate("subtract",1);break;case 38:a.adjustDate("subtract",7);break;case 39:a.adjustDate("add",1);break;case 40:a.adjustDate("add",7);break;case 8:case 46:a.setDate(null)}},a._parseFieldValue=function(){if(c.parse)return c.parse(c.field.value,c.format);if(t){var n=e(c.field.value,c.format,c.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(c.field.value))},a._onInputChange=function(e){var t;e.firedBy!==a&&(t=a._parseFieldValue(),d(t)&&a.setDate(t),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var e=r.activeElement;do{if(u(e,"pika-single"))return}while(e=e.parentNode);a._c||(a._b=i((function(){a.hide()}),50)),a._c=!1},a._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,r=t;if(t){!n&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",a._onChange)));do{if(u(r,"pika-single")||r===c.trigger)return}while(r=r.parentNode);a._v&&t!==c.trigger&&r!==c.trigger&&a.hide()}},a.el=r.createElement("div"),a.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),c.keyboardInput&&o(r,"keydown",a._onKeyChange),c.field&&(c.container?c.container.appendChild(a.el):c.bound?r.body.appendChild(a.el):c.field.parentNode.insertBefore(a.el,c.field.nextSibling),o(c.field,"change",a._onInputChange),c.defaultDate||(c.defaultDate=a._parseFieldValue(),c.setDefaultDate=!0));var l=c.defaultDate;d(l)?c.setDefaultDate?a.setDate(l,!0):a.gotoDate(l):a.gotoDate(new Date),c.bound?(this.hide(),a.el.className+=" is-bound",o(c.trigger,"click",a._onInputClick),o(c.trigger,"focus",a._onInputFocus),o(c.trigger,"blur",a._onInputBlur)):this.show()};return L.prototype={config:function(e){this._o||(this._o=y({},S,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),f(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||S.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,d(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",g(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&e<n?e=n:d(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),g(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,r=this.getDate()||new Date,i=864e5*parseInt(t);"add"===e?n=new Date(r.valueOf()+i):"subtract"===e&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=S.minDate,this._o.minYear=S.minYear,this._o.minMonth=S.minMonth,this._o.startRange=S.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=S.maxDate,this._o.maxYear=S.maxYear,this._o.maxMonth=S.maxMonth,this._o.endRange=S.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,r=n.minYear,o=n.maxYear,s=n.minMonth,a=n.maxMonth,u="";this._y<=r&&(this._y=r,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=o&&(this._y=o,!isNaN(a)&&this._m>a&&(this._m=a));for(var c=0;c<n.numberOfMonths;c++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),u+='<div class="pika-lendar">'+P(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=u,n.bound&&"hidden"!==n.field.type&&i((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,o,s,a,u,f,d,p,h;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,s=window.innerHeight||r.documentElement.clientHeight,a=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,p=!0,h=!0,"function"==typeof e.getBoundingClientRect)u=(d=e.getBoundingClientRect()).left+window.pageXOffset,f=d.bottom+window.pageYOffset;else for(u=t.offsetLeft,f=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,f+=t.offsetTop;(this._o.reposition&&u+n>o||this._o.position.indexOf("right")>-1&&u-n+e.offsetWidth>0)&&(u=u-n+e.offsetWidth,p=!1),(this._o.reposition&&f+i>s+a||this._o.position.indexOf("top")>-1&&f-i-e.offsetHeight>0)&&(f=f-i-e.offsetHeight,h=!1),this.el.style.left=u+"px",this.el.style.top=f+"px",c(this.el,p?"left-aligned":"right-aligned"),c(this.el,h?"bottom-aligned":"top-aligned"),l(this.el,p?"right-aligned":"left-aligned"),l(this.el,h?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var r=this._o,i=new Date,o=m(e,t),s=new Date(e,t,1).getDay(),a=[],u=[];v(i),r.firstDay>0&&(s-=r.firstDay)<0&&(s+=7);for(var c=0===t?11:t-1,l=11===t?0:t+1,f=0===t?e-1:e,h=11===t?e+1:e,y=m(f,c),g=o+s,b=g;b>7;)b-=7;g+=7-b;for(var S=!1,k=0,q=0;k<g;k++){var R=new Date(e,t,k-s+1),A=!!d(this._d)&&_(R,this._d),P=_(R,i),L=-1!==r.events.indexOf(R.toDateString()),C=k<s||k>=o+s,M=k-s+1,x=t,O=e,I=r.startRange&&_(r.startRange,R),j=r.endRange&&_(r.endRange,R),N=r.startRange&&r.endRange&&r.startRange<R&&R<r.endRange;C&&(k<s?(M=y+M,x=c,O=f):(M-=o,x=l,O=h));var $={day:M,month:x,year:O,hasEvent:L,isSelected:A,isToday:P,isDisabled:r.minDate&&R<r.minDate||r.maxDate&&R>r.maxDate||r.disableWeekends&&p(R)||r.disableDayFn&&r.disableDayFn(R),isEmpty:C,isStartRange:I,isEndRange:j,isInRange:N,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&A&&(S=!0),u.push(w($)),7==++q&&(r.showWeekNumber&&u.unshift(D(k-s,t,e,r.firstWeekOfYearMinDays)),a.push(E(u,r.isRTL,r.pickWholeWeek,S)),u=[],q=0,S=!1)}return T(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),l(this.el,"is-hidden"),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&s(r,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),e.keyboardInput&&s(r,"keydown",this._onKeyChange),e.field&&(s(e.field,"change",this._onInputChange),e.bound&&(s(e.trigger,"click",this._onInputClick),s(e.trigger,"focus",this._onInputFocus),s(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},L}(n)}();var Il=function(){"use strict";function e(t,n){mc(this,e),this.profil=t,this.algoOrientation=n}return _c(e,[{key:"isSup12",value:function(){return this.profil.age>=12}},{key:"isSup18",value:function(){return this.profil.age>=18}},{key:"isARisque",value:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie||this.algoOrientation.imc>=30}},{key:"isTresHautRisque",value:function(){return this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_trisomie}},{key:"isCompletementVaccine",value:function(){return this.profil.isCompletementVaccine()}},{key:"isVaccinationPossible",value:function(){return this.isSup12()&&(!this.profil.covid_passee||this.profil.hasCovidPlus2Mois())}},{key:"isVaccinationObligatoire",value:function(){return this.profil.activite_pro&&this.profil.activite_pro_sante}}]),e}(),jl=["antigenique-negatif-fragile","asymptomatique","asymptomatique-positif-autotest","contact-a-risque","en-attente","personne-fragile","peu-de-risques","positif-symptomatique-urgent","symptomatique-autotest-positif","symptomatique-en-attente","symptomatique-negatif","symptomatique-positif","symptomatique-sans-test","symptomatique-urgent"],Nl=["antigenique-negatif-fragile","contact-a-risque","contact-a-risque-autre","depistage-positif-autotest-asymptomatique","depistage-positif-autotest-symptomatique","depistage-positif-asymptomatique","depistage-positif-symptomatique","peu-de-risques","symptomes-actuels-en-attente","symptomes-actuels-positif-critique","symptomes-actuels-sans-depistage","symptomes-actuels-sans-depistage-critique","symptomes-passes-en-attente","symptomes-passes-positif","symptomes-passes-positif-autotest","symptomes-passes-sans-depistage"],$l=function(){"use strict";function e(t){mc(this,e),this.profil=t}return _c(e,[{key:"situation",get:function(){return this.profil.isComplete()?this._situationDepistage()+"_"+this._situationSymptomes():""}},{key:"_situationDepistage",value:function(){return!this.profil.depistage||this.profil.depistageNegatifObsolete()||this.profil.depistagePositifObsolete()?"pas_teste":"antigenique"===this.profil.depistage_type&&"negatif"===this.profil.depistage_resultat&&this.personneFragile?"antigenique_negatif_fragile":"antigenique_autotest"===this.profil.depistage_type&&"positif"===this.profil.depistage_resultat?"autotest_positif":this.profil.depistage_resultat}},{key:"_situationSymptomes",value:function(){var e;return this.profil.hasSymptomesActuelsReconnus()?(e="symptomes_actuels",this.facteursDeGraviteMajeurs&&(e+="_graves")):e=this.profil.symptomes_passes?"symptomes_passes":this.profil.hasContactARisqueReconnus()?this.guerisonRecente()?"contact_pas_vraiment_a_risque":"contact_a_risque":this.profil.contact_a_risque_autre?"contact_pas_vraiment_a_risque":"asymptomatique",e}},{key:"guerisonRecente",value:function(){return this.profil.covid_passee&&this.profil.joursDepuisCovidPassee()<60}},{key:"sup65",get:function(){return this.profil.age>=65}},{key:"sup50",get:function(){return this.profil.age>=50}},{key:"sup15",get:function(){return this.profil.age>=15}},{key:"imc",get:function(){var e=this.profil.taille/100;return this.profil.poids/(e*e)}},{key:"personneFragile",get:function(){return this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30||this.antecedents}},{key:"antecedents",get:function(){return this.profil.antecedent_cardio||this.profil.antecedent_diabete||this.profil.antecedent_respi||this.profil.antecedent_dialyse||this.profil.antecedent_greffe||this.profil.antecedent_cancer||this.profil.antecedent_immunodep||this.profil.antecedent_cirrhose||this.profil.antecedent_drepano||this.profil.antecedent_trisomie}},{key:"fievre",get:function(){return this.profil.symptomes_actuels&&(this.profil.symptomes_actuels_temperature||this.profil.symptomes_actuels_temperature_inconnue)}},{key:"facteursDeGraviteMajeurs",get:function(){return this.profil.symptomes_actuels_souffle||this.profil.symptomes_actuels_alimentation}},{key:"symptomesActuelsOuPasses",get:function(){return this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes}},{key:"eligibleAuPaxlovid",get:function(){var e=this.profil.age>=18,t=this.profil.antecedent_immunodep||this.imc>=40||this.profil.antecedent_trisomie||this.profil.antecedent_chronique_autre||this.sup65&&this.antecedents,n=this.profil.joursEcoulesDepuisDebutSymptomes()<5;return e&&t&&n}},{key:"listStatuts",get:function(){return jl}},{key:"listConseilsPersonnels",get:function(){return Nl}},{key:"statutEtConseils",get:function(){switch(this.situation){case"positif_symptomes_actuels_graves":case"autotest_positif_symptomes_actuels_graves":return{statut:"positif-symptomatique-urgent",conseils:"symptomes-actuels-positif-critique"};case"negatif_symptomes_actuels_graves":case"antigenique_negatif_fragile_symptomes_actuels_graves":case"en_attente_symptomes_actuels_graves":case"pas_teste_symptomes_actuels_graves":return{statut:"symptomatique-urgent",conseils:"symptomes-actuels-sans-depistage-critique"};case"positif_symptomes_actuels":return{statut:"symptomatique-positif",conseils:"depistage-positif-symptomatique"};case"positif_symptomes_passes":return{statut:"symptomatique-positif",conseils:"symptomes-passes-positif"};case"positif_contact_a_risque":case"positif_contact_a_risque_meme_lieu_de_vie":case"positif_contact_pas_vraiment_a_risque":case"positif_asymptomatique":return{statut:"asymptomatique",conseils:"depistage-positif-asymptomatique"};case"autotest_positif_contact_a_risque":case"autotest_positif_contact_a_risque_meme_lieu_de_vie":case"autotest_positif_contact_pas_vraiment_a_risque":case"autotest_positif_asymptomatique":return{statut:"asymptomatique-positif-autotest",conseils:"depistage-positif-autotest-asymptomatique"};case"negatif_symptomes_actuels":return{statut:"symptomatique-negatif",conseils:null};case"negatif_symptomes_passes":case"negatif_asymptomatique":case"antigenique_negatif_fragile_asymptomatique":case"pas_teste_asymptomatique":return{statut:this.statutSelonFragilite(),conseils:"peu-de-risques"};case"autotest_positif_symptomes_actuels":return{statut:"symptomatique-autotest-positif",conseils:"depistage-positif-autotest-symptomatique"};case"autotest_positif_symptomes_passes":return{statut:"symptomatique-autotest-positif",conseils:"symptomes-passes-positif-autotest"};case"antigenique_negatif_fragile_symptomes_actuels":case"antigenique_negatif_fragile_symptomes_passes":return{statut:"antigenique-negatif-fragile",conseils:"antigenique-negatif-fragile"};case"negatif_contact_a_risque":case"antigenique_negatif_fragile_contact_a_risque":case"en_attente_contact_a_risque":case"pas_teste_contact_a_risque":case"negatif_contact_a_risque_meme_lieu_de_vie":case"antigenique_negatif_fragile_contact_a_risque_meme_lieu_de_vie":case"en_attente_contact_a_risque_meme_lieu_de_vie":case"pas_teste_contact_a_risque_meme_lieu_de_vie":return{statut:"contact-a-risque",conseils:"contact-a-risque"};case"negatif_contact_pas_vraiment_a_risque":case"antigenique_negatif_fragile_contact_pas_vraiment_a_risque":case"pas_teste_contact_pas_vraiment_a_risque":return{statut:this.statutSelonFragilite(),conseils:"contact-a-risque-autre"};case"en_attente_symptomes_actuels":return{statut:"symptomatique-en-attente",conseils:"symptomes-actuels-en-attente"};case"en_attente_symptomes_passes":return{statut:"symptomatique-en-attente",conseils:"symptomes-passes-en-attente"};case"en_attente_contact_pas_vraiment_a_risque":return{statut:"en-attente",conseils:"contact-a-risque-autre"};case"en_attente_asymptomatique":return{statut:"en-attente",conseils:null};case"pas_teste_symptomes_actuels":return{statut:"symptomatique-sans-test",conseils:"symptomes-actuels-sans-depistage"};case"pas_teste_symptomes_passes":return{statut:"symptomatique-sans-test",conseils:"symptomes-passes-sans-depistage"};default:return console.error("situation inconnue",this.situation),{statut:null,conseils:null}}}},{key:"statutSelonFragilite",value:function(){return this.personneFragile?"personne-fragile":"peu-de-risques"}},{key:"recommandeAutoSuivi",value:function(){return this.profil.hasSymptomesActuelsReconnus()&&!this.profil.depistagePositifRecentAsymptomatique()&&!this.profil.depistageNegatifRecentSymptomatique()}},{key:"timelineBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes?e.push("conseils-timeline-isolement-positif-avec-symptomes"):e.push("conseils-timeline-isolement-positif-sans-symptomes"):this.profil.hasContactARisqueReconnus()&&this.profil.contact_a_risque_meme_lieu_de_vie&&e.push("conseils-timeline-isolement-foyer-malade"),e}},{key:"conseilsPersonnelsBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()?e.push("reponse-depistage-positif"):this.profil.depistageNegatifRecent()?e.push("reponse-depistage-negatif"):this.profil.depistageEnAttenteRecent()?e.push("reponse-depistage-en-attente"):this.profil.sansDepistage()&&e.push("reponse-depistage-sans"),e.push(`conseils-personnels-${this.statutEtConseils.conseils}`),e}},{key:"isolementBlockNamesToDisplay",value:function(){var e=[];return(this.profil.depistagePositifRecent()||this.symptomesActuelsOuPasses)&&(e.push("conseils-isolement"),this.profil.depistagePositifRecent()&&(this.symptomesActuelsOuPasses?this.profil.isCompletementVaccine()?e.push("conseils-isolement-symptomes-vaccine"):e.push("conseils-isolement-symptomes"):this.profil.isCompletementVaccine()?e.push("conseils-isolement-depistage-positif-vaccine"):e.push("conseils-isolement-depistage-positif")),this.profil.foyer_autres_personnes?e.push("conseils-isolement-autres-personnes"):e.push("conseils-isolement-personne-seule")),e}},{key:"depistageBlockNamesToDisplay",value:function(){var e=[];return this.profil.depistagePositifRecent()||this.profil.depistageNegatifRecent()||(e.push("conseils-tests"),this.profil.depistageEnAttenteRecent()?e.push("conseils-tests-resultats"):e.push("conseils-tests-general")),this.profil.depistageNegatifRecent()&&void 0!==this.profil.depistage_type&&"antigenique"===this.profil.depistage_type&&this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()||this.profil.symptomes_passes)&&(e.push("conseils-tests"),e.push("conseils-tests-rt-pcr")),e}},{key:"vaccinBlockNamesToDisplay",value:function(){var e=[];"completement"===this.profil.vaccins?e.push("reponse-vaccins-completement"):"en_cours"===this.profil.vaccins?e.push("reponse-vaccins-en-cours"):e.push("reponse-vaccins-pas-encore"),"completement"!==this.profil.vaccins&&(this.profil.covid_passee?this.profil.hasCovidPlus6Mois()?e.push("reponse-historique-6-mois-plus"):this.profil.hasCovidPlus2Mois()?e.push("reponse-historique-2-6-mois"):e.push("reponse-historique-2-mois-moins"):e.push("reponse-historique-sans"));var t=new Il(this.profil,this);return t.isCompletementVaccine()?e.push("conseils-vaccins-deja-vaccine"):(e.push("conseils-vaccins-pas-encore-vaccine"),this.profil.covid_passee&&(this.profil.hasCovidPlus6Mois()?e.push("conseils-vaccins-6-mois-plus"):this.profil.hasCovidPlus2Mois()?e.push("conseils-vaccins-2-6-mois"):e.push("conseils-vaccins-2-mois-moins")),t.isVaccinationObligatoire()&&(e=e.concat("conseils-vaccins-obligation-pro-sante")),t.isVaccinationPossible()&&(e=e.concat(this._conseilsVaccins(t)))),e}},{key:"_conseilsVaccins",value:function(e){var t=[];return e.isSup18()?t.push("conseils-vaccins-18-ans"):e.isSup12()&&t.push("conseils-vaccins-12-ans"),e.isTresHautRisque()?t.push("conseils-vaccins-tres-haut-risque"):e.isARisque()&&t.push("conseils-vaccins-a-risque"),t}},{key:"gestesBarriereBlockNamesToDisplay",value:function(){var e=["conseils-gestes-barrieres-masque"];return this.personneFragile?((this.antecedents||this.profil.antecedent_chronique_autre)&&e.push("reponse-gestes-barrieres-masque-antecedents"),(this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.push("reponse-gestes-barrieres-masque-caracteristiques-a-risques"),e.push("conseils-gestes-barrieres-masque-fragile")):e.push("conseils-gestes-barrieres-masque-general"),e}},{key:"activiteProBlockNamesToDisplay",value:function(){var e=[];if(this.profil.activite_pro||this.profil.activite_pro_sante){e.push("conseils-activite"),e.push("reponse-activite-pro");var t=this.profil.hasSymptomesActuelsReconnus()&&(!this.profil.depistage||this.profil.depistage&&"en_attente"==this.profil.depistage_resultat);t&&e.push("conseils-activite-pro-arret-de-travail-isolement"),this.profil.contact_a_risque_stop_covid&&e.push("conseils-activite-pro-arret-de-travail-tac"),this.profil.activite_pro_sante?e.push("conseils-activite-pro-sante"):(this.antecedents?(e.push("reponse-activite-pro-antecedents"),e.push("conseils-activite-pro-arret")):t||e.push("conseils-activite-pro"),e.push("conseils-activite-pro-infos"))}return e}},{key:"grossesseBlockNamesToDisplay",value:function(){var e=[];return this.profil.grossesse_3e_trimestre&&e.push("conseils-grossesse"),e}},{key:"santeBlockNamesToDisplay",value:function(){var e=[];return this.personneFragile&&(this.profil.hasSymptomesActuelsReconnus()?e.push("conseils-sante-personne-fragile-symptomatique"):e.push("conseils-sante-personne-fragile")),e.length&&((this.sup65||this.profil.grossesse_3e_trimestre||this.imc>30)&&e.unshift("reponse-sante-caracteristiques-a-risques"),(this.antecedents||this.profil.antecedent_chronique_autre)&&e.unshift("reponse-sante-antecedents"),e.unshift("conseils-sante")),e}},{key:"enfantsBlockNamesToDisplay",value:function(){var e=[];return!this.profil.foyer_enfants&&this.sup15||(this.profil.foyer_enfants?e.push("reponse-foyer-enfants"):e.push("reponse-enfants-inf-15"),e.push("conseils-foyer-enfants")),e}}]),e}();function Bl(e,t){var n=e.querySelector("form");t.premierDemarrageFormulaire();var r=n.elements.symptomes_actuels_statuts,i=n.querySelector("#symptomes-choix"),o=n.querySelector("#debut-symptomes"),s=n.querySelector("#debut_symptomes_aujourdhui"),a=n.querySelector('label[for="debut_symptomes_aujourdhui"]');Array.from(r).forEach((function(e){return e.addEventListener("change",(function(){switch(e.id){case"symptomes_actuels":Rc(i),Rc(o),Rc(s),Rc(a);break;case"symptomes_passes":Ec(i),Rc(o),s.checked=!1,Ec(s),Ec(a);break;case"symptomes_non":Ec(i),Ec(o)}}))})),function(e,t){kl(e,"symptomes_actuels",t),kl(e,"symptomes_actuels_temperature",t),kl(e,"symptomes_actuels_temperature_inconnue",t),kl(e,"symptomes_actuels_toux",t),kl(e,"symptomes_actuels_odorat",t),kl(e,"symptomes_actuels_douleurs",t),kl(e,"symptomes_actuels_diarrhee",t),kl(e,"symptomes_actuels_fatigue",t),kl(e,"symptomes_actuels_alimentation",t),kl(e,"symptomes_actuels_souffle",t),kl(e,"symptomes_actuels_autre",t),kl(e,"symptomes_passes",t),function(e,t){if(void 0!==t.symptomes_start_date)if(t.symptomes_start_date>=Vc(1))e.querySelector("#debut_symptomes_aujourdhui").checked=!0;else if(t.symptomes_start_date>=Vc(2))e.querySelector("#debut_symptomes_hier").checked=!0;else if(t.symptomes_start_date>=Vc(3))e.querySelector("#debut_symptomes_avant_hier").checked=!0;else if(t.symptomes_start_date>=Vc(4))e.querySelector("#debut_symptomes_avant_avant_hier").checked=!0;else{e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0,e.elements.suivi_symptomes_date_exacte.value=t.symptomes_start_date.toISOString().substring(0,10)}}(e,t),!1===t.symptomes_actuels&&!1===t.symptomes_passes&&(e.symptomes_non.checked=!0,e.symptomes_non.dispatchEvent(new CustomEvent("change")))}(n,t.profil),function(e,t){var n=function(){var n=e.elements.symptomes_non.checked||e.elements.symptomes_passes.checked&&t(e)||e.elements.symptomes_actuels.checked&&wl(r.checkboxes)&&t(e);i.disabled=!n,i.value=n?o:s},r=new gl(e),i=r.submitButton,o="Continuer",s="Veuillez remplir le formulaire au complet",a=e.elements.symptomes_actuels_statuts,u=e.querySelector("#debut_symptomes_exacte");n(),Array.from(a).forEach((function(e){return e.addEventListener("change",n)})),r.checkboxes.forEach((function(e){return e.addEventListener("change",n)})),Array.from(e.querySelectorAll('[name="suivi_symptomes_date"]')).forEach((function(e){e.addEventListener("change",n)})),u.addEventListener("change",n)}(n,Ul);var u=n.querySelector("#symptomes_actuels_temperature"),c=n.querySelector("#symptomes_actuels_temperature_inconnue");u.addEventListener("change",(function(){u.checked&&(c.checked=!1)})),c.addEventListener("change",(function(){c.checked&&(u.checked=!1)})),Array.from(n.querySelectorAll('[name="suivi_symptomes_date"]')).forEach((function(e){e.addEventListener("change",(function(e){return function(e,t){!function(e,t){var n=e.querySelector("#debut_symptomes_exacte");"encore_avant_hier"===t.value?(n.setAttribute("max",(new Date).toISOString().slice(0,10)),n.focus()):n.value=""}(e,t)}(n,e.target)}))})),function(e){var t=e.querySelector("#debut_symptomes_exacte");t.addEventListener("click",(function(){e.querySelector("#debut_symptomes_encore_avant_hier").checked=!0}));var n=new Date;t.setAttribute("max",n.toISOString().substring(0,10)),Ol(t,n,null)}(n),n.addEventListener("submit",(function(e){e.preventDefault();var r=e.target.elements.symptomes_actuels.checked,i=e.target.elements.symptomes_passes.checked;r?(t.profil.symptomes_actuels=r,t.profil.symptomes_actuels_temperature=e.target.elements.symptomes_actuels_temperature.checked,t.profil.symptomes_actuels_temperature_inconnue=e.target.elements.symptomes_actuels_temperature_inconnue.checked,t.profil.symptomes_actuels_toux=e.target.elements.symptomes_actuels_toux.checked,t.profil.symptomes_actuels_odorat=e.target.elements.symptomes_actuels_odorat.checked,t.profil.symptomes_actuels_douleurs=e.target.elements.symptomes_actuels_douleurs.checked,t.profil.symptomes_actuels_diarrhee=e.target.elements.symptomes_actuels_diarrhee.checked,t.profil.symptomes_actuels_fatigue=e.target.elements.symptomes_actuels_fatigue.checked,t.profil.symptomes_actuels_alimentation=e.target.elements.symptomes_actuels_alimentation.checked,t.profil.symptomes_actuels_souffle=e.target.elements.symptomes_actuels_souffle.checked,t.profil.symptomes_passes=!1,t.profil.fillContactARisque(!1),Hl(t,n)):i?(Fl(t),t.profil.symptomes_passes=!0,t.profil.fillContactARisque(!1),Hl(t,n)):(Fl(t),t.profil.symptomes_passes=!1,t.profil.symptomes_start_date=void 0),t.enregistrerProfilActuel().then((function(){t.goToNextPage("symptomes")}))}))}function Hl(e,t){e.profil.symptomes_start_date=Ul(t),new $l(e.profil).recommandeAutoSuivi()&&!e.profil.hasSuiviStartDate()&&(e.profil.suivi_start_date=new Date)}function Fl(e){e.profil.symptomes_actuels=!1,e.profil.symptomes_actuels_temperature=!1,e.profil.symptomes_actuels_temperature_inconnue=!1,e.profil.symptomes_actuels_toux=!1,e.profil.symptomes_actuels_odorat=!1,e.profil.symptomes_actuels_douleurs=!1,e.profil.symptomes_actuels_diarrhee=!1,e.profil.symptomes_actuels_fatigue=!1,e.profil.symptomes_actuels_alimentation=!1,e.profil.symptomes_actuels_souffle=!1}function Ul(e){var t=bl(e,"suivi_symptomes_date");return"encore_avant_hier"===t?function(e){var t=e.elements.suivi_symptomes_date_exacte;if(""!==t.value)return new Date(t.value)}(e):function(e){var t;switch(e){case"aujourdhui":t=0;break;case"hier":t=1;break;case"avant_hier":t=2;break;case"avant_avant_hier":t=3;break;default:return}return Vc(t)}(t)}function Vl(e,t){var n=function(){"rt-pcr"==bl(r,"depistage_type")?(Rc(a),Rc(u)):(a.checked=!1,Ec(a),Ec(u))},r=e.querySelector("form"),i=r.querySelector("#depistage_start_date"),o=new Date;i.setAttribute("max",o.toISOString().substring(0,10)),kl(r,"depistage",t.profil),t.profil.depistage&&(void 0!==t.profil.depistage_start_date&&(i.value=t.profil.depistage_start_date.toISOString().substring(0,10)),"antigenique"===t.profil.depistage_type?r.querySelector("#depistage_type_antigenique").checked=!0:"rt-pcr"===t.profil.depistage_type?r.querySelector("#depistage_type_rtpcr").checked=!0:"antigenique_autotest"===t.profil.depistage_type&&(r.querySelector("#depistage_type_antigenique_autotest").checked=!0),"positif"===t.profil.depistage_resultat?r.querySelector("#depistage_resultat_positif").checked=!0:"negatif"===t.profil.depistage_resultat?r.querySelector("#depistage_resultat_negatif").checked=!0:"en_attente"===t.profil.depistage_resultat&&(r.querySelector("#depistage_resultat_en_attente").checked=!0));var s=r.elements.depistage;Rl(r,s),s.addEventListener("click",(function(){Rl(r,s)}));var a=r.querySelector("#depistage_resultat_en_attente"),u=r.querySelector('label[for="depistage_resultat_en_attente"]');n(),Array.from(r.querySelectorAll('input[name="depistage_type"]')).forEach((function(e){e.addEventListener("change",n)}));var c=r.querySelector("input[type=submit]"),l=t.profil.estMonProfil()?"Je n’ai pas passé de test":"Cette personne n’a pas passé de test";Ol(i,o,El(r,c.value,l,"Veuillez remplir le formulaire au complet")),r.addEventListener("submit",(function(e){e.preventDefault();var n=e.target;t.profil.depistage=n.elements.depistage.checked,t.profil.depistage?(t.profil.depistage_start_date=new Date(n.elements.depistage_start_date.value),t.profil.depistage_type=bl(n,"depistage_type"),t.profil.depistage_resultat=bl(n,"depistage_resultat")):(t.profil.depistage_start_date=void 0,t.profil.depistage_type=void 0,t.profil.depistage_resultat=void 0),t.enregistrerProfilActuel().then((function(){t.goToNextPage("depistage")}))}))}function Yl(e,t){var n=e.querySelector("form"),r=n.querySelector("input[type=submit]");kl(n,"contact_a_risque",t.profil),kl(n,"contact_a_risque_meme_lieu_de_vie",t.profil),kl(n,"contact_a_risque_contact_direct",t.profil),kl(n,"contact_a_risque_actes",t.profil),kl(n,"contact_a_risque_espace_confine",t.profil),kl(n,"contact_a_risque_tousse_eternue",t.profil),kl(n,"contact_a_risque_meme_classe",t.profil),kl(n,"contact_a_risque_autre",t.profil),kl(n,"contact_a_risque_stop_covid",t.profil),kl(n,"contact_a_risque_assurance_maladie",t.profil);var i=n.elements.contact_a_risque;Rl(n,i),i.addEventListener("click",(function(){Rl(n,i)}));var o=t.profil.estMonProfil()?"Je n’ai pas eu de contact à risque":"Cette personne n’a pas eu de contact à risque";!function(e,t,n,r){var i=function(){var e=wl(c)||l.checked;!u.checked||e?(a.disabled=!1,f.checked||d.checked?a.value=t:a.value=u.checked?t:n):(a.disabled=!0,a.value=r)},o=function(){l.checked?c.forEach((function(e){e.checked=!1,e.disabled=!0})):c.forEach((function(e){e.disabled=!1}))},s=new gl(e),a=s.submitButton,u=s.primaryCheckbox,c=s.secondaryCheckboxes,l=c.pop(),f=s.qS("input[type=checkbox]#contact_a_risque_stop_covid"),d=s.qS("input[type=checkbox]#contact_a_risque_assurance_maladie");i(),u.addEventListener("change",i),f.addEventListener("change",i),d.addEventListener("change",i),c.forEach((function(e){e.addEventListener("change",i)})),l.addEventListener("change",i),o(),l.addEventListener("change",o)}(n,r.value,o,"Veuillez remplir le formulaire au complet"),n.addEventListener("submit",(function(e){e.preventDefault(),t.profil.contact_a_risque=e.target.elements.contact_a_risque.checked,t.profil.contact_a_risque_meme_lieu_de_vie=e.target.elements.contact_a_risque_meme_lieu_de_vie.checked,t.profil.contact_a_risque_contact_direct=e.target.elements.contact_a_risque_contact_direct.checked,t.profil.contact_a_risque_actes=e.target.elements.contact_a_risque_actes.checked,t.profil.contact_a_risque_espace_confine=e.target.elements.contact_a_risque_espace_confine.checked,t.profil.contact_a_risque_tousse_eternue=e.target.elements.contact_a_risque_tousse_eternue.checked,t.profil.contact_a_risque_meme_classe=e.target.elements.contact_a_risque_meme_classe.checked,t.profil.contact_a_risque_stop_covid=e.target.elements.contact_a_risque_stop_covid.checked,t.profil.contact_a_risque_assurance_maladie=e.target.elements.contact_a_risque_assurance_maladie.checked,t.profil.contact_a_risque_autre=e.target.elements.contact_a_risque_autre.checked,t.enregistrerProfilActuel().then((function(){t.goToNextPage("contactarisque")}))}))}function Wl(e,t){var n=e.querySelector("form");kl(n,"foyer_autres_personnes",t.profil),kl(n,"foyer_enfants",t.profil),kl(n,"activite_pro",t.profil),kl(n,"activite_pro_sante",t.profil);var r=n.elements.foyer_autres_personnes,i=n.querySelectorAll(`#${r.id} ~ .secondary`);Rl(n,r,i),r.addEventListener("click",(function(){return Rl(n,r,i)}));var o=n.elements.activite_pro,s=n.querySelectorAll(`#${o.id} ~ .secondary`);Rl(n,o,s),o.addEventListener("click",(function(){return Rl(n,o,s)})),n.addEventListener("submit",(function(e){e.preventDefault(),t.profil.foyer_autres_personnes=e.target.elements.foyer_autres_personnes.checked,t.profil.foyer_enfants=e.target.elements.foyer_enfants.checked,t.profil.activite_pro=e.target.elements.activite_pro.checked,t.profil.activite_pro_sante=e.target.elements.activite_pro_sante.checked,t.enregistrerProfilActuel().then((function(){t.goToNextPage("situation")}))}))}function Gl(e,t){var n=e.querySelector("form"),r=n.querySelector("input[type=submit]");Sl(n,"age",t.profil),Sl(n,"taille",t.profil),Sl(n,"poids",t.profil),kl(n,"grossesse_3e_trimestre",t.profil);var i=new $l(t.profil);n.antecedent_chronique.checked=i.antecedents,kl(n,"antecedent_cardio",t.profil),kl(n,"antecedent_diabete",t.profil),kl(n,"antecedent_respi",t.profil),kl(n,"antecedent_dialyse",t.profil),kl(n,"antecedent_greffe",t.profil),kl(n,"antecedent_cancer",t.profil),kl(n,"antecedent_immunodep",t.profil),kl(n,"antecedent_cirrhose",t.profil),kl(n,"antecedent_drepano",t.profil),kl(n,"antecedent_trisomie",t.profil),kl(n,"antecedent_chronique_autre",t.profil);var o=n.elements.antecedent_chronique;Rl(n,o),o.addEventListener("click",(function(){return Rl(n,o)}));Dl(n,r.value,"Les informations d’âge, de poids et de taille sont requises"),n.addEventListener("submit",(function(e){e.preventDefault(),t.profil.age=zl(e.target.elements.age),t.profil.poids=zl(e.target.elements.poids),t.profil.taille=function(e){var t=parseFloat(e.value.replace(",","."));t<3&&(t*=100);return Math.round(t)}(e.target.elements.taille),t.profil.grossesse_3e_trimestre=e.target.elements.grossesse_3e_trimestre.checked,t.profil.antecedent_cardio=e.target.elements.antecedent_cardio.checked,t.profil.antecedent_diabete=e.target.elements.antecedent_diabete.checked,t.profil.antecedent_respi=e.target.elements.antecedent_respi.checked,t.profil.antecedent_dialyse=e.target.elements.antecedent_dialyse.checked,t.profil.antecedent_greffe=e.target.elements.antecedent_greffe.checked,t.profil.antecedent_cancer=e.target.elements.antecedent_cancer.checked,t.profil.antecedent_immunodep=e.target.elements.antecedent_immunodep.checked,t.profil.antecedent_cirrhose=e.target.elements.antecedent_cirrhose.checked,t.profil.antecedent_drepano=e.target.elements.antecedent_drepano.checked,t.profil.antecedent_trisomie=e.target.elements.antecedent_trisomie.checked,t.profil.antecedent_chronique_autre=e.target.elements.antecedent_chronique_autre.checked,t.enregistrerProfilActuel().then((function(){t.goToNextPage("sante")}))}))}function zl(e){var t=parseFloat(e.value.replace(",","."));return Math.round(t)}var Jl=function(){"use strict";function e(t){mc(this,e),this.profil=t,this.dernierEtat=t.dernierEtat()}return _c(e,[{key:"calculGravite",value:function(e){var t=0;return"oui"!==e.fievre&&"oui"!==e.diarrheeVomissements&&"oui"!==e.toux||(t=1),"pire"!==e.essoufflement&&"pire"!==e.etatGeneral&&"oui"!==e.confusion&&"oui"!==e.alimentationHydratation&&"oui"!==e.mauxDeTete||(t=2),"critique"!==e.essoufflement&&"critique"!==e.etatGeneral||(t=3),t}},{key:"gravite",get:function(){return this.calculGravite(this.dernierEtat)}},{key:"graviteBlockNameToDisplay",value:function(){return`suivi-gravite-${this.gravite}`}},{key:"psy",get:function(){var e=0;return"critique"===this.dernierEtat.etatPsychologique&&(e=0===this.gravite?1:2),e}},{key:"psyBlockNameToDisplay",value:function(){return`suivi-psy-${this.psy}`}},{key:"evolutionsBlockNamesToDisplay",value:function(){var e=[],t=this.dernierEtat;return"critique"===t.essoufflement&&e.push("essoufflement-gravite-3"),"pire"===t.essoufflement&&e.push("essoufflement-gravite-2"),"critique"===t.etatGeneral&&e.push("etat-general-gravite-3"),"pire"===t.etatGeneral&&e.push("etat-general-gravite-2"),"oui"===t.confusion&&e.push("confusion-gravite-2"),"oui"===t.alimentationHydratation&&e.push("alimentation-hydratation-gravite-2"),"critique"===t.etatPsychologique&&e.push("etat-psychologique-gravite-3"),"oui"===t.fievre&&e.push("fievre-gravite-1"),"oui"===t.diarrheeVomissements&&e.push("diarrhee-vomissements-gravite-1"),"oui"===t.mauxDeTete&&e.push("maux-de-tete-gravite-2"),"oui"===t.toux&&e.push("toux-gravite-1"),e}}]),e}();function Ql(e,t){var n=e;wc(n,t.profil);var r,i,o,s,a,u,c=new $l(t.profil);if(void 0===t.profil.questionnaire_completion_date&&(t.profil.questionnaire_completion_date=new Date,t.enregistrerProfilActuel(),t.plausible("Questionnaire terminé"),t.profil.estMonProfil()?t.plausible("Questionnaire terminé pour moi"):t.plausible("Questionnaire terminé pour un proche")),c.recommandeAutoSuivi()?t.profil.suivi_active||(t.profil.suivi_active=!0,t.enregistrerProfilActuel()):t.profil.suivi_active&&!t.profil.hasSuiviStartDate()&&(t.profil.suivi_active=!1,t.enregistrerProfilActuel()),function(e,t,n){var r=[];(r=(r=(r=(r=r.concat(function(e){return[`statut-${e.statutEtConseils.statut}`]}(n))).concat(n.timelineBlockNamesToDisplay())).concat(n.conseilsPersonnelsBlockNamesToDisplay())).concat(n.isolementBlockNamesToDisplay())).push("et-ensuite"),r=(r=(r=(r=(r=(r=(r=r.concat(n.depistageBlockNamesToDisplay())).concat(n.vaccinBlockNamesToDisplay())).concat(n.gestesBarriereBlockNamesToDisplay())).concat(n.activiteProBlockNamesToDisplay())).concat(n.grossesseBlockNamesToDisplay())).concat(n.santeBlockNamesToDisplay())).concat(n.enfantsBlockNamesToDisplay()),Cc(e,r)}(n,t.profil,c),t.profil.hasSuiviStartDate()&&t.profil.hasHistorique()){if(t.profil.hasDeconfinementDate())Lc(n,"deconfinement");else{var l=new Jl(t.profil);Lc(n,"suivi"),function(e,t){var n=t.profil,r=[t.graviteBlockNameToDisplay()];0!==t.psy&&r.push(t.psyBlockNameToDisplay());n.hasHistorique()&&(r.push("suivi-bloc-liens"),r.push("conseils-personnels-titre"),r.push("conseils-sante"),r.push("conseils-sante-historique-symptomes"),Array.from(e.querySelectorAll(".suivi-repetition")).forEach((function(e){!function(e,t){e.textContent=t.suivi.length}(e,n)})),Array.from(e.querySelectorAll(".suivi-derniere-fois")).forEach((function(e){!function(e,t){var n=t.dernierEtat();e.textContent=n?hc(new Date(n.date),"fr"):""}(e,n)})));Cc(e,r)}(n,l),function(e,t){var n=t.evolutionsBlockNamesToDisplay();n.length&&(Rc(e.querySelector(".reponse")),Cc(e,n))}(n,l)}Ac(n,"#conseils-statut")}(function(e,t){var n=t.activite_pro||t.activite_pro_sante;Tc(e,".seulement-si-activite-pro",n);var r="antigenique_autotest"===t.depistage_type;Tc(e,".seulement-si-activite-pro-et-autotest",n&&r),Tc(e,".seulement-si-activite-pro-et-pas-autotest",n&&!r),Tc(e,".seulement-si-foyer",t.foyer_autres_personnes);var i=new $l(t),o=new Il(t,i);Tc(e,".seulement-si-vaccine",o.isCompletementVaccine()),Tc(e,".seulement-si-non-vaccine",!o.isCompletementVaccine()),Tc(e,".seulement-si-paxlovid",i.eligibleAuPaxlovid)}(n,t.profil),function(e,t,n){(function(e,t){if(e){var n=t.estMonProfil()?"Mes conseils":`Conseils pour « ${t.nom} »`;e.textContent=n}})(e.querySelector("#conseils-block-titre"),t),function(e){if(e){var t=new Date,n=t.toISOString().substring(0,10),r=t.toLocaleDateString();e.innerHTML=`au <time datetime="${n}">${r}</time>`}}(e.querySelector("#conseils-block-date")),Array.from(e.querySelectorAll(".nom-caracteristiques-a-risques")).forEach((function(e){!function(e,t){var n=zc(t);if(n){var r=Jc(n);e.textContent=r+"."}}(e,n)})),Array.from(e.querySelectorAll(".reponse-personne-fragile")).forEach((function(e){!function(e,t){var n,r=zc(t);(n=r).push.apply(n,bc(Qc(t))),r&&(e.textContent=Jc(r))}(e,n)})),Array.from(e.querySelectorAll(".nom-antecedents")).forEach((function(e){!function(e,t){var n=Qc(t);if(n){var r=Jc(n);e.textContent=Gc(r)+"."}}(e,n)})),function(e,t){var n=function(e){if(void 0===e)return"";var t={weekday:"long",month:"long",day:"numeric"};return e.toLocaleDateString("fr-FR",t)},r=function(t,n){Array.from(e.querySelectorAll(`.timeline .timeline-${t} .timeline-date`)).forEach((function(e){e.innerHTML=Gc(n)}))},i=function(e){r("exposition",`À partir du ${n(e.exposition)}`),r("contagiosite",n(e.contagiosite)),r("isolement",e.debutIsolement),r("aujourdhui",`${n(new Date)} (aujourd’hui)`),r("demain",`${n(e.demain)} (demain)`),r("test",`${n(e.finIsolement)}`),r("fin",`À partir du ${n(e.finIsolement)}`),r("fin-positif",`À partir du ${n(e.finIsolementPositif)}`)},o=function(t){e.querySelector(".duree-isolement").innerText=t},s=t.dureeIsolement();t.depistagePositifRecent()&&(t.hasSymptomesActuelsReconnus()||t.symptomes_passes?(i({exposition:Vc(14,t.symptomes_start_date),contagiosite:Vc(2,t.symptomes_start_date),debutIsolement:`${n(t.symptomes_start_date)} (<a href="#symptomes">modifier</a>)`,demain:Yc(1,new Date),finIsolement:Yc(s,t.symptomes_start_date),finIsolementPositif:Yc(s+7,t.symptomes_start_date)}),t.symptomes_start_date>Vc(1)?(Ac(e,".timeline .timeline-aujourdhui"),Pc(e,".timeline .timeline-demain")):t.suiviAujourdhui()&&(Ac(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-a-faire"),Pc(e,".timeline .timeline-aujourdhui .timeline-texte .suivi-fait"),Pc(e,".timeline .timeline-demain"))):(i({exposition:Vc(14,t.depistage_start_date),contagiosite:Vc(2,t.depistage_start_date),debutIsolement:`${n(t.depistage_start_date)} (<a href="#depistage">modifier</a>)`,demain:Yc(1,new Date),finIsolement:Yc(s,t.depistage_start_date),finIsolementPositif:Yc(s+7,t.symptomes_start_date)}),o(s)))}(e,t)}(n,t.profil,c),r=window.navigator.userAgent,i=!!r.match(/iPad/i),o=!!r.match(/iPhone/i),s=i||o,a=!!r.match(/WebKit/i),u=!!r.match(/CriOS/i),s&&a&&!u)?navigator.standalone||Rc(n.querySelector(".browser-mobile-safari")):Rc(n.querySelector(".browser-other"));Fc(n.querySelector(".feedback-component"),t),tl(n,t),t.profil.hasSuiviStartDate()&&el(n,t.profil),nl(n.querySelector(".js-suppression"),t),$c(t,"Navigue vers une thématique depuis les conseils")}var Xl=function(){"use strict";function e(t,n){mc(this,e),this.profil=t,this.suiviImages=n}return _c(e,[{key:"renderButtonSuivi",value:function(){var e=Oc(this.profil.nom),t=this.profil.estMonProfil()?"mon":"son",n=this.profil.estMonProfil()?"mes":"ses",r=this.profil.hasSuiviStartDate()&&this.profil.hasHistorique()?"Continuer":"Démarrer",i=`\n            <a class="button button-full-width conseils-link"\n                data-set-profil="${e}" href="#${this.profil.hasSymptomesStartDate()?"suivisymptomes":"symptomes"}"\n                >${r} ${t} suivi</a>\n        `,o=`\n            <a class="button button-outline button-full-width conseils-link"\n                data-set-profil="${e}" href="#conseils"\n                >Retrouver ${n} conseils</a>\n        `,s="";return this.profil.hasSuiviStartDate()&&(s=`\n                <a data-delete-suivi="${e}" href="" role="button"\n                    >Supprimer ${t} suivi</a>\n            `),i+o+s}},{key:"renderDernierSuivi",value:function(){var e=this.profil.dernierEtat();return e?`<small>Dernière réponse : ${hc(new Date(e.date),"fr")}</small>`:""}},{key:"renderCardSuivi",value:function(){return Mc(`\n        <li class="card">\n            ${this.profil.renderNom()}\n            ${this.renderDernierSuivi()}\n            <div>${this.renderButtonSuivi()}</div>\n        </li>\n        `)}},{key:"renderDebutSymptomes",value:function(){return`<p>Début des symptômes :\n            ${this.renderDate(this.profil.symptomes_start_date)}\n            (<a href="#symptomes">modifier</a>)\n        </p>`}},{key:"renderDebutSuivi",value:function(){return`<p>Début du suivi : ${this.renderDate(this.profil.suivi_start_date)}</p>`}},{key:"suiviParSymptome",value:function(e){return this.profil.suivi.map((function(t){return{date:t.date,statut:t[e]}}))}},{key:"switchSymptomeTitre",value:function(e){switch(e){case"essoufflement":return"Manque de souffle";case"etatGeneral":return"État général";case"etatPsychologique":return"État psychologique";case"alimentationHydratation":return"Absence d’alimentation ou d’hydratation";case"diarrheeVomissements":return"Diarrhée ou vomissements";case"fievre":return"Fièvre supérieure à 39°C";case"confusion":return"Somnolence ou confusion";case"mauxDeTete":return"Maux de tête";case"toux":return"Toux";default:return""}}},{key:"switchStatut",value:function(e){switch(e){case"critique":return"Beaucoup moins bien";case"pire":return"Un peu moins bien";case"stable":return"Stable";case"aucun":return"Pas ce symptôme";case"mieux":return"Mieux";case"":return"Pas de symptômes";default:return""}}},{key:"switchBooleen",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas de symptômes";default:return""}}},{key:"switchBooleenOptionnel",value:function(e){switch(e){case"oui":return"Oui";case"non":return"Non";case"":return"Pas d’information";default:return""}}},{key:"switchGravite",value:function(e){switch(e){case"gravite_3":return"État grave, il est recommandé d’appeler le SAMU (15)";case"gravite_2":return"État préoccupant, consulter un médecin ou à défaut le SAMU (15)";case"gravite_1":return"État à vérifier, consulter votre médecin traitant";case"gravite_0":return"État correct";default:return""}}},{key:"switchIcone",value:function(e){switch(e){case"critique":case"oui":case"gravite_3":return"gravite_superieure";case"pire":case"gravite_2":return"gravite";case"stable":case"aucun":case"gravite_1":return"stable";case"mieux":case"non":case"gravite_0":return"ok";default:return"interrogation"}}},{key:"renderDate",value:function(e){return Gc(new Date(e).toLocaleString("fr-FR",{weekday:"long",month:"long",day:"numeric"}))}},{key:"renderIcone",value:function(e){var t=this.switchIcone(e);return`<img src="${this.suiviImages[t]}" width="40px" height="40px"\n                     alt="${Gc(t)}" title="${Gc(t)}" />`}},{key:"renderSymptomeStatutTableCell",value:function(e){return`<tr>\n            <td>${this.renderDate(e.date)}</td>\n            <td>${this.renderIcone(e.statut)}</td>\n            <td>${this.switchStatut(e.statut)}</td>\n        </tr>`}},{key:"renderSymptomeStatut",value:function(e,t){var n=this;return`<table>\n            ${`<caption><h3>${this.switchSymptomeTitre(e)}</h3></caption>`}\n            <thead>\n            <tr>\n                <th scope="col">Date</th>\n                <th scope="col">Statut</th>\n                <th scope="col">Réponse</th>\n            </tr>\n        </thead>\n            ${`<tbody>\n            ${t.map((function(e){return n.renderSymptomeStatutTableCell(e)})).join("\n")}\n        </tbody>`}\n        </table>`}},{key:"renderSymptomeBooleenTableCell",value:function(e){return`<tr>\n            <td>${this.renderDate(e.date)}</td>\n            <td>${this.renderIcone(e.statut)}</td>\n            <td>${this.switchBooleen(e.statut)}</td>\n        </tr>`}},{key:"renderSymptomeBooleen",value:function(e,t){var n=this;return`<table>\n            ${`<caption><h3>${this.switchSymptomeTitre(e)}</h3></caption>`}\n            <thead>\n            <tr>\n                <th scope="col">Date</th>\n                <th scope="col">Statut</th>\n                <th scope="col">Réponse</th>\n            </tr>\n        </thead>\n            ${`<tbody>\n            ${t.map((function(e){return n.renderSymptomeBooleenTableCell(e)})).join("\n")}\n        </tbody>`}\n        </table>`}},{key:"renderSymptomeBooleenOptionnelTableCell",value:function(e){return`<tr>\n            <td>${this.renderDate(e.date)}</td>\n            <td>${this.renderIcone(e.statut)}</td>\n            <td>${this.switchBooleenOptionnel(e.statut)}</td>\n        </tr>`}},{key:"renderSymptomeBooleenOptionnel",value:function(e,t){var n=this;return`<table>\n            ${`<caption><h3>${this.switchSymptomeTitre(e)}</h3></caption>`}\n            <thead>\n            <tr>\n                <th scope="col">Date</th>\n                <th scope="col">Statut</th>\n                <th scope="col">Réponse</th>\n            </tr>\n        </thead>\n            ${`<tbody>\n            ${t.map((function(e){return n.renderSymptomeBooleenOptionnelTableCell(e)})).join("\n")}\n        </tbody>`}\n        </table>`}},{key:"renderGraviteTableCell",value:function(e,t){var n=`gravite_${t.calculGravite(e)}`;return`<tr>\n            <td>${this.renderDate(e.date)}</td>\n            <td>${this.renderIcone(n)}</td>\n            <td>${this.switchGravite(n)}</td>\n        </tr>`}},{key:"renderGravite",value:function(){var e=this,t=new Jl(this.profil);return`<table>\n            <caption><h2>Bilan de votre situation</h2></caption>\n            <thead>\n            <tr>\n                <th scope="col">Date</th>\n                <th scope="col" colspan="2">Statut</th>\n            </tr>\n        </thead>\n            ${`<tbody>\n            ${this.profil.suivi.map((function(n){return e.renderGraviteTableCell(n,t)})).join("\n")}\n        </tbody>`}\n        </table>`}},{key:"renderHistorique",value:function(){var e=this,t=["alimentationHydratation","diarrheeVomissements","fievre"];this.profil.estMonProfil()||t.push("confusion");return Mc(`\n            <div>\n                ${this.renderDebutSymptomes()}\n                ${this.renderDebutSuivi()}\n                ${this.renderGravite()}\n                <h2>Détail de vos symptômes</h2>\n                ${["essoufflement","etatGeneral","etatPsychologique"].map((function(t){return e.renderSymptomeStatut(t,e.suiviParSymptome(t))})).join("\n")}\n                ${t.map((function(t){return e.renderSymptomeBooleen(t,e.suiviParSymptome(t))})).join("\n")}\n                ${["mauxDeTete","toux"].map((function(t){return e.renderSymptomeBooleenOptionnel(t,e.suiviParSymptome(t))})).join("\n")}\n            </div>\n        `)}}]),e}();function Kl(e,t){var n=e,r=new Xl(t.profil,t.suiviImages),i=n.querySelector("#profils-cards-suivi"),o=i.insertBefore(r.renderCardSuivi(),i.firstChild);t.profil.hasSuiviStartDate()&&(!function(e,t){e.addEventListener("click",(function(n){n.preventDefault();var r=e.dataset.deleteSuivi;confirm(`Êtes-vous sûr·e de vouloir supprimer ${"mes_infos"===r?"votre suivi":`le suivi de ${r}`} ?`)&&t.supprimerSuivi(r).then((function(){t.chargerProfilActuel().then((function(){window.location.reload(!0)}))}))}))}(o.querySelector("[data-delete-suivi]"),t),el(n,t.profil))}var Zl=function(){"use strict";function e(t){mc(this,e),this.profil=t}return _c(e,[{key:"isQuarantaineDone",value:function(){return Wc(this.profil.symptomes_start_date,new Date)>=this.profil.dureeIsolement()}},{key:"isSuiviRegulier",value:function(){var e=Vc(0),t=Vc(1),n=Vc(2);return this.profil.suiviEntre(t,e).length>=1&&this.profil.suiviEntre(n,t).length>=1}},{key:"isFievreDone",value:function(){return this.profil.suiviDerniersJours(2).every((function(e){return!e.symptomes||"non"===e.fievre}))}},{key:"isEssoufflementDone",value:function(){return this.profil.suiviDerniersJours(2).every((function(e){return!e.symptomes||("mieux"===e.essoufflement||"stable"===e.essoufflement||"aucun"===e.essoufflement)}))}},{key:"isDeconfinable",value:function(){return this.isQuarantaineDone()&&this.isSuiviRegulier()&&this.isFievreDone()&&this.isEssoufflementDone()}}]),e}();function ef(e,t){var n=e.querySelector("form");Bc(e.querySelector(".feedback-difficultes")),Fc(e.querySelector(".feedback-component"),t),t.profil.hasSuiviStartDate()||(t.profil.suivi_start_date=new Date);var r=!t.profil.estMonProfil(),i=n.querySelector(".them-only");r?(Rc(i),i.classList.add("required")):(Ec(i),i.classList.remove("required"));var o=n.querySelector("input[type=submit]");n.suivi_symptomes.checked=!0;var s=n.elements.suivi_symptomes;Rl(n,s),s.addEventListener("click",(function(){Rl(n,s)}));var a=r?"Cette personne n’a pas de symptômes aujourd’hui":"Je n’ai pas eu de symptômes aujourd’hui";!function(e,t,n,r){var i=function(){a.disabled=!1,a.value=u.checked?t:n,u.checked&&(l.every((function(e){return wl(Array.from(e.querySelectorAll("input[type=radio]")))}))||(a.disabled=!0,a.value=r))},o=function(){i(),u.checked?c.forEach((function(e){e.disabled=!1})):c.forEach((function(e){e.checked=!1,e.disabled=!0}))},s=new gl(e),a=s.submitButton,u=s.checkbox,c=s.radios,l=s.secondariesRequired;i(),c.forEach((function(e){return e.addEventListener("change",i)})),o(),u.addEventListener("change",o)}(n,o.value,a,"Veuillez remplir le formulaire au complet"),n.addEventListener("submit",(function(e){e.preventDefault();var n=e.target,i={date:(new Date).toJSON(),symptomes:n.elements.suivi_symptomes.checked,essoufflement:bl(n,"suivi_symptomes_essoufflement"),etatGeneral:bl(n,"suivi_symptomes_etat_general"),alimentationHydratation:bl(n,"suivi_symptomes_alimentation_hydratation"),etatPsychologique:bl(n,"suivi_symptomes_etat_psychologique"),fievre:bl(n,"suivi_symptomes_fievre"),diarrheeVomissements:bl(n,"suivi_symptomes_diarrhee_vomissements"),mauxDeTete:bl(n,"suivi_symptomes_maux_de_tete"),toux:bl(n,"suivi_symptomes_toux")};r&&(i.confusion=bl(n,"suivi_symptomes_confusion")),t.profil.ajouterEtat(i),t.plausible("Suivi rempli"),1===t.profil.suivi.length?t.plausible("Premier suivi"):2===t.profil.suivi.length?t.plausible("Deuxième suivi"):3===t.profil.suivi.length&&t.plausible("Troisième suivi");var o=function(e){return"oui"===e},s=function(e){return"pire"===e||"critique"===e};i.symptomes?(void 0===t.profil.symptomes_start_date&&(t.profil.symptomes_start_date=new Date),t.profil.symptomes_passes=!1,t.profil.symptomes_actuels=!0,t.profil.symptomes_actuels_temperature=o(i.fievre),t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=o(i.toux),t.profil.symptomes_actuels_douleurs=s(i.etatGeneral),t.profil.symptomes_actuels_diarrhee=o(i.diarrheeVomissements),t.profil.symptomes_actuels_fatigue=s(i.etatGeneral),t.profil.symptomes_actuels_alimentation=o(i.alimentationHydratation),t.profil.symptomes_actuels_souffle=s(i.essoufflement)):(t.profil.symptomes_passes=!0,t.profil.symptomes_actuels=!1,t.profil.symptomes_actuels_temperature=!1,t.profil.symptomes_actuels_temperature_inconnue=!1,t.profil.symptomes_actuels_toux=!1,t.profil.symptomes_actuels_douleurs=!1,t.profil.symptomes_actuels_diarrhee=!1,t.profil.symptomes_actuels_fatigue=!1,t.profil.symptomes_actuels_alimentation=!1,t.profil.symptomes_actuels_souffle=!1),new Zl(t.profil).isDeconfinable()?t.profil.hasDeconfinementDate()||(t.profil.deconfinement_date=new Date,t.plausible("Suivi deconfinement")):t.profil.deconfinement_date=void 0,t.enregistrerProfilActuel().then((function(){t.goToNextPage("suivisymptomes")}))}))}function tf(e,t){var n=e,r=new Xl(t.profil,t.suiviImages),i=n.querySelector("#suivi-historique-content");i.innerHTML='<div class="break"></div>',i.insertBefore(r.renderHistorique(),i.firstChild),tl(n,t)}function nf(){var e="https://logs1412.xiti.com",t=614871;return function(n){var r,i={};if(i.s=t,i.ts=(new Date).getTime(),i.idclient="Consent-NO",i.p=n,i.s2="","mesconseilscovid.sante.gouv.fr"!==location.hostname)return r="running locally",console.warn("[ATInternet] Ignore event: "+r),void console.debug("[ATInternet]",i);var o,s=new XMLHttpRequest;s.open("GET",`${e}/hit.xiti${o=i,"?"+Object.keys(o).map((function(e){return e+"="+encodeURIComponent(o[e])})).join("&")}`,!0),s.send(null)}}var rf=function(){"use strict";function e(t){mc(this,e),this.profil=new al,this.stockage=new cl,this.questionnaire=new vl,this.suiviImages=t}return _c(e,[{key:"initStats",value:function(){var e=this;return this.initSource().then((function(t){e.source=t,e._plausibleTrackingEvents=[],e._plausible=Ic(window),e.atinternet=nf()}))}},{key:"initSource",value:function(){var e=new URLSearchParams(window.location.search),t=e.get("source")||e.get("utm_source");return t?this.stockage.setSource(t):this.stockage.getSource()}},{key:"init",value:function(){return this.router=new Zc(this),this.updater=new _l(this.router),this.chargerProfilActuel()}},{key:"setupRoutes",value:function(){var e=this;this.router.addAppRoute("introduction",yl,{pageTitle:""}),this.router.addAppRoute("nom",Al),this.router.addQuestionnaireRoute("vaccins",Pl),this.router.addQuestionnaireRoute("historique",Cl),this.router.addQuestionnaireRoute("symptomes",Bl),this.router.addQuestionnaireRoute("contactarisque",Yl),this.router.addQuestionnaireRoute("depistage",Vl),this.router.addQuestionnaireRoute("situation",Wl),this.router.addQuestionnaireRoute("sante",Gl),this.router.addAppRoute("conseils",Ql,{beforeFunc:ll}),this.router.addAppRoute("suiviintroduction",Kl,{beforeFunc:fl}),this.router.addAppRoute("suivisymptomes",ef,{beforeFunc:dl}),this.router.addAppRoute("suivihistorique",tf,{beforeFunc:pl}),this.router.addRoute("conditionsutilisation",(function(t){e.profil.isComplete()&&(Rc(t.querySelector(".js-profil-full")),Ec(t.querySelector(".js-profil-empty")))})),this.router.addRoute("nouvelleversiondisponible",(function(t){var n=e.router.lastRouteResolved(),r=new URLSearchParams(n.query).get("origine");!function(e,t,n){var r=document.querySelector("#nouvelle-version-disponible-block #refresh-button");t.updater.setupRefreshButton(r,n)}(0,e,r)}))}},{key:"setupRedirects",value:function(){var e=this;this.router.navigo.on(new RegExp("^(symptomesactuels|symptomespasses|debutsymptomes)$"),(function(){}),{before:function(t){e.router.redirectTo("symptomes"),t(!1)}}),this.router.navigo.on(new RegExp("^(residence|foyer|activitepro)$"),(function(){}),{before:function(t){e.router.redirectTo("situation"),t(!1)}}),this.router.navigo.on(new RegExp("^(caracteristiques|antecedents)$"),(function(){}),{before:function(t){e.router.redirectTo("sante"),t(!1)}}),this.router.navigo.on("pediatrie",(function(){}),{before:function(e){window.location.replace("conseils-pour-les-enfants.html"),e(!1)}})}},{key:"chargerProfilActuel",value:function(){var e=this;return this.stockage.getProfilActuel().then((function(t){if(null!==t)return e.chargerProfil(t)}))}},{key:"enregistrerProfilActuel",value:function(){return this.stockage.enregistrer(this.profil)}},{key:"creerProfil",value:function(e){var t=this;return this.profil.resetData(e),this.stockage.setProfilActuel(e).then((function(){return t.enregistrerProfilActuel()}))}},{key:"creerProfilsTypes",value:function(){for(var e=["Positif","Négatif","En attente","Pas testé"],t=["Symptômes actuels graves","Symptômes actuels","Symptômes actuels non évocateurs","Symptômes passés","Contact à risque","Contact pas vraiment à risque","Rien de tout ça"],n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++){var o=e[r],s=t[i];("Négatif"!==o||"Symptômes passés"!==s&&"Contact pas vraiment à risque"!==s&&"Rien de tout ça"!==s)&&("Pas testé"!==o||"Contact pas vraiment à risque"!==s&&"Rien de tout ça"!==s)||(n.push(this.creerProfilType(o,s,!0)),n.push(this.creerProfilType(o,s,!1))),n.push(this.creerProfilType(o,s,!1))}return Promise.all(n)}},{key:"creerProfilType",value:function(e,t,n){var r=this,i=`${e} + ${t}`;return n&&(i=`${i} + personne fragile`),this.stockage.getProfil(i).then((function(o){if(null===o)return(o=new al(i)).fillTestData(e,t,n),r.stockage.enregistrer(o);console.error(`Le profil "${i}" existe déjà`)}))}},{key:"basculerVersProfil",value:function(e){var t=this;return this.stockage.setProfilActuel(e).then((function(){var n=t;return t.stockage.getProfil(e).then((function(t){return t?n.chargerProfil(e):n.creerProfil(e)}))}))}},{key:"chargerProfil",value:function(e){return this.profil.nom=e,this.stockage.charger(this.profil)}},{key:"supprimerProfil",value:function(e){var t=this;return this.stockage.supprimer(e).then((function(){t.profil.nom===e&&(t.profil.nom=void 0,t.stockage.setProfilActuel(void 0))}))}},{key:"supprimerSuivi",value:function(e){var t=this;return this.basculerVersProfil(e).then((function(e){return e.resetSuivi(),t.stockage.enregistrer(e)}))}},{key:"supprimerTout",value:function(){var e=this;return this.stockage.supprimerTout().then((function(){e.profil.resetData()}))}},{key:"goToNextPage",value:function(e){var t=this.questionnaire.nextPage(e,this.profil);this.router.navigate(t)}},{key:"loadFakeSuiviData",value:function(){this.profil.symptomes_start_date=Vc(11),this.profil.suivi_start_date=Vc(11),this.profil.suivi=[{date:Vc(1).toJSON(),symptomes:!0,essoufflement:"mieux",etatGeneral:"mieux",etatPsychologique:"mieux",alimentationHydratation:"non",fievre:"non",diarrheeVomissements:"non",mauxDeTete:"non",toux:"non"}],this.enregistrerProfilActuel()}},{key:"trackPageView",value:function(e){this.plausible("pageview",{lang:this._preferedLanguages()}),this.atinternet(e)}},{key:"_preferedLanguages",value:function(){return navigator.languages||[navigator.language||navigator.userLanguage]}},{key:"plausible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.source&&(t.source=this.source),void 0!==this.profil.nom&&(t.profil=this.profil.estMonProfil()?"moi":"proche"),this._envoieEvenementPlausible(e,t)}},{key:"_envoieEvenementPlausible",value:function(e,t){var n={};Object.keys(t).length>0&&(n.props=t);try{return this._plausible(e,n)}catch(e){(new Image).src=document.body.dataset.statsUrl+"/api/error?message="+encodeURIComponent(e.message)}}},{key:"premierDemarrageFormulaire",value:function(){void 0===this.profil.questionnaire_start_date&&(this.profil.questionnaire_start_date=new Date,this.enregistrerProfilActuel(),this.plausible("Questionnaire commencé"),this.profil.estMonProfil()?this.plausible("Questionnaire commencé pour moi"):this.plausible("Questionnaire commencé pour un proche"))}}]),e}(),of=new rf(t(ic));window.app=of,of.initStats().then((function(){var e;Nc()?rl(of):((e=of).init().then((function(){""===location.hash.slice(1)&&e.trackPageView(document.location.pathname),e.setupRoutes(),e.setupRedirects(),e.router.resolve()})),function(e){e.updater.checkForUpdatesEvery(10)}(of)),function(e){nl(document.querySelector("footer .js-suppression"),e)}(of),document.addEventListener("keydown",(function(e){" "!==e.key&&"Spacebar"!==e.key||document.activeElement.hasAttribute("role")&&"button"===document.activeElement.getAttribute("role")&&(e.preventDefault(),e.stopPropagation(),e.target.click())}))})),uc("fr",(function(e,t){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][t]}));var sf;sf=o("6pdSl").getBundleURL("9clgr")+o("eJLqw").resolve("kKVDh"),"serviceWorker"in navigator&&navigator.serviceWorker.register(sf).then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)})).catch((function(e){console.log("ServiceWorker registration failed: ",e)}))}();
//# sourceMappingURL=mcc.e477c833.js.map
