{"version":3,"sources":["service-worker.js"],"names":["CACHE_NAME","CACHE_FILES","TIMEOUT","precache","caches","open","then","cache","addAll","fromNetwork","request","timeout","Promise","fulfill","reject","timeoutId","setTimeout","fetch","response","clearTimeout","fromCache","match","matching","self","addEventListener","evt","console","log","waitUntil","respondWith","catch"],"mappings":";AAEA,IAAMA,EAAa,8BACbC,EAAc,CAChB,IACA,YACA,uCACA,oCACA,kBACA,mBACA,6BACA,6BACA,sCACA,cACA,oBACA,oBACA,eACA,iBACA,qBACA,kBACA,cACA,aACA,WACA,YACA,4BACA,gCACA,gCACA,qCACA,mCACA,0BACA,mCACA,qCACA,qCACA,8BACA,qCACA,qCAEEC,EAAU,IAkBhB,SAASC,IACEC,OAAAA,OAAOC,KAAKL,GAAYM,KAAK,SAAUC,GACnCA,OAAAA,EAAMC,OAAOP,KAI5B,SAASQ,EAAYC,EAASC,GACnB,OAAA,IAAIC,QAAQ,SAAUC,EAASC,GAC9BC,IAAAA,EAAYC,WAAWF,EAAQH,GAEnCM,MAAMP,GAASJ,KAAK,SAAUY,GAC1BC,aAAaJ,GACbF,EAAQK,IACTJ,KAIX,SAASM,EAAUV,GACRN,OAAAA,OAAOC,KAAKL,GAAYM,KAAK,SAAUC,GACnCA,OAAAA,EAAMc,MAAMX,GAASJ,KAAK,SAAUgB,GAChCA,OAAAA,GAAYV,QAAQE,OAAO,gBApC9CS,KAAKC,iBAAiB,UAAW,SAAUC,GACvCC,QAAQC,IAAI,yCAEZF,EAAIG,UAAUzB,OAGlBoB,KAAKC,iBAAiB,QAAS,SAAUC,GACrCC,QAAQC,IAAI,4CAEZF,EAAII,YACApB,EAAYgB,EAAIf,QAASR,GAAS4B,MAAM,WAC7BV,OAAAA,EAAUK,EAAIf","file":"service-worker.js","sourceRoot":"../src","sourcesContent":["/* Implementation of the network-or-cache pattern:\nhttps://serviceworke.rs/strategy-network-or-cache.html */\nconst CACHE_NAME = 'network-or-cache-2020-06-23'\nconst CACHE_FILES = [\n    '/',\n    'style.css',\n    'fonts/marianne-regular-webfont.woff2',\n    'fonts/marianne-bold-webfont.woff2',\n    'scripts/main.js',\n    'site.webmanifest',\n    'android-chrome-192x192.png',\n    'android-chrome-512x512.png',\n    'android-chrome-512x512-maskable.png',\n    'favicon.ico',\n    'favicon-16x16.png',\n    'favicon-32x32.png',\n    'marianne.png',\n    'arrow-left.svg',\n    'ei-share-apple.svg',\n    'map-marker2.svg',\n    'printer.svg',\n    'select.svg',\n    'star.svg',\n    'trash.svg',\n    'illustrations/accueil.svg',\n    'illustrations/activitepro.svg',\n    'illustrations/antecedents.svg',\n    'illustrations/caracteristiques.svg',\n    'illustrations/contactarisque.svg',\n    'illustrations/foyer.svg',\n    'illustrations/pediatrieecole.svg',\n    'illustrations/pediatriegeneral.svg',\n    'illustrations/pediatriemedical.svg',\n    'illustrations/residence.svg',\n    'illustrations/symptomesactuels.svg',\n    'illustrations/symptomespasses.svg',\n]\nconst TIMEOUT = 500 // ms.\n\nself.addEventListener('install', function (evt) {\n    console.log('The service worker is being installed')\n\n    evt.waitUntil(precache())\n})\n\nself.addEventListener('fetch', function (evt) {\n    console.log('The service worker is serving the asset.')\n\n    evt.respondWith(\n        fromNetwork(evt.request, TIMEOUT).catch(function () {\n            return fromCache(evt.request)\n        })\n    )\n})\n\nfunction precache() {\n    return caches.open(CACHE_NAME).then(function (cache) {\n        return cache.addAll(CACHE_FILES)\n    })\n}\n\nfunction fromNetwork(request, timeout) {\n    return new Promise(function (fulfill, reject) {\n        var timeoutId = setTimeout(reject, timeout)\n\n        fetch(request).then(function (response) {\n            clearTimeout(timeoutId)\n            fulfill(response)\n        }, reject)\n    })\n}\n\nfunction fromCache(request) {\n    return caches.open(CACHE_NAME).then(function (cache) {\n        return cache.match(request).then(function (matching) {\n            return matching || Promise.reject('no-match')\n        })\n    })\n}\n"]}